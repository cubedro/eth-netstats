//////////////////////////////////////////////////////////////////////////
//                                                                      //
// This is a generated file. You can view the original                  //
// source in your browser if your browser supports source maps.         //
//                                                                      //
// If you are using Chrome, open the Developer Tools and click the gear //
// icon in its lower right corner. In the General Settings panel, turn  //
// on 'Enable source maps'.                                             //
//                                                                      //
// If you are using Firefox 23, go to `about:config` and set the        //
// `devtools.debugger.source-maps-enabled` preference to true.          //
// (The preference should be on by default in Firefox 24; versions      //
// older than 23 do not support source maps.)                           //
//                                                                      //
//////////////////////////////////////////////////////////////////////////


(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;

(function () {

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/d3js:d3/d3.js                                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
!function() {                                                                                                          // 1
  var d3 = {                                                                                                           // 2
    version: "3.5.5"                                                                                                   // 3
  };                                                                                                                   // 4
  var d3_arraySlice = [].slice, d3_array = function(list) {                                                            // 5
    return d3_arraySlice.call(list);                                                                                   // 6
  };                                                                                                                   // 7
  var d3_document = this.document;                                                                                     // 8
  function d3_documentElement(node) {                                                                                  // 9
    return node && (node.ownerDocument || node.document || node).documentElement;                                      // 10
  }                                                                                                                    // 11
  function d3_window(node) {                                                                                           // 12
    return node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);
  }                                                                                                                    // 14
  if (d3_document) {                                                                                                   // 15
    try {                                                                                                              // 16
      d3_array(d3_document.documentElement.childNodes)[0].nodeType;                                                    // 17
    } catch (e) {                                                                                                      // 18
      d3_array = function(list) {                                                                                      // 19
        var i = list.length, array = new Array(i);                                                                     // 20
        while (i--) array[i] = list[i];                                                                                // 21
        return array;                                                                                                  // 22
      };                                                                                                               // 23
    }                                                                                                                  // 24
  }                                                                                                                    // 25
  if (!Date.now) Date.now = function() {                                                                               // 26
    return +new Date();                                                                                                // 27
  };                                                                                                                   // 28
  if (d3_document) {                                                                                                   // 29
    try {                                                                                                              // 30
      d3_document.createElement("DIV").style.setProperty("opacity", 0, "");                                            // 31
    } catch (error) {                                                                                                  // 32
      var d3_element_prototype = this.Element.prototype, d3_element_setAttribute = d3_element_prototype.setAttribute, d3_element_setAttributeNS = d3_element_prototype.setAttributeNS, d3_style_prototype = this.CSSStyleDeclaration.prototype, d3_style_setProperty = d3_style_prototype.setProperty;
      d3_element_prototype.setAttribute = function(name, value) {                                                      // 34
        d3_element_setAttribute.call(this, name, value + "");                                                          // 35
      };                                                                                                               // 36
      d3_element_prototype.setAttributeNS = function(space, local, value) {                                            // 37
        d3_element_setAttributeNS.call(this, space, local, value + "");                                                // 38
      };                                                                                                               // 39
      d3_style_prototype.setProperty = function(name, value, priority) {                                               // 40
        d3_style_setProperty.call(this, name, value + "", priority);                                                   // 41
      };                                                                                                               // 42
    }                                                                                                                  // 43
  }                                                                                                                    // 44
  d3.ascending = d3_ascending;                                                                                         // 45
  function d3_ascending(a, b) {                                                                                        // 46
    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;                                                                  // 47
  }                                                                                                                    // 48
  d3.descending = function(a, b) {                                                                                     // 49
    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;                                                                  // 50
  };                                                                                                                   // 51
  d3.min = function(array, f) {                                                                                        // 52
    var i = -1, n = array.length, a, b;                                                                                // 53
    if (arguments.length === 1) {                                                                                      // 54
      while (++i < n) if ((b = array[i]) != null && b >= b) {                                                          // 55
        a = b;                                                                                                         // 56
        break;                                                                                                         // 57
      }                                                                                                                // 58
      while (++i < n) if ((b = array[i]) != null && a > b) a = b;                                                      // 59
    } else {                                                                                                           // 60
      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {                                        // 61
        a = b;                                                                                                         // 62
        break;                                                                                                         // 63
      }                                                                                                                // 64
      while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;                                    // 65
    }                                                                                                                  // 66
    return a;                                                                                                          // 67
  };                                                                                                                   // 68
  d3.max = function(array, f) {                                                                                        // 69
    var i = -1, n = array.length, a, b;                                                                                // 70
    if (arguments.length === 1) {                                                                                      // 71
      while (++i < n) if ((b = array[i]) != null && b >= b) {                                                          // 72
        a = b;                                                                                                         // 73
        break;                                                                                                         // 74
      }                                                                                                                // 75
      while (++i < n) if ((b = array[i]) != null && b > a) a = b;                                                      // 76
    } else {                                                                                                           // 77
      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {                                        // 78
        a = b;                                                                                                         // 79
        break;                                                                                                         // 80
      }                                                                                                                // 81
      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;                                    // 82
    }                                                                                                                  // 83
    return a;                                                                                                          // 84
  };                                                                                                                   // 85
  d3.extent = function(array, f) {                                                                                     // 86
    var i = -1, n = array.length, a, b, c;                                                                             // 87
    if (arguments.length === 1) {                                                                                      // 88
      while (++i < n) if ((b = array[i]) != null && b >= b) {                                                          // 89
        a = c = b;                                                                                                     // 90
        break;                                                                                                         // 91
      }                                                                                                                // 92
      while (++i < n) if ((b = array[i]) != null) {                                                                    // 93
        if (a > b) a = b;                                                                                              // 94
        if (c < b) c = b;                                                                                              // 95
      }                                                                                                                // 96
    } else {                                                                                                           // 97
      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {                                        // 98
        a = c = b;                                                                                                     // 99
        break;                                                                                                         // 100
      }                                                                                                                // 101
      while (++i < n) if ((b = f.call(array, array[i], i)) != null) {                                                  // 102
        if (a > b) a = b;                                                                                              // 103
        if (c < b) c = b;                                                                                              // 104
      }                                                                                                                // 105
    }                                                                                                                  // 106
    return [ a, c ];                                                                                                   // 107
  };                                                                                                                   // 108
  function d3_number(x) {                                                                                              // 109
    return x === null ? NaN : +x;                                                                                      // 110
  }                                                                                                                    // 111
  function d3_numeric(x) {                                                                                             // 112
    return !isNaN(x);                                                                                                  // 113
  }                                                                                                                    // 114
  d3.sum = function(array, f) {                                                                                        // 115
    var s = 0, n = array.length, a, i = -1;                                                                            // 116
    if (arguments.length === 1) {                                                                                      // 117
      while (++i < n) if (d3_numeric(a = +array[i])) s += a;                                                           // 118
    } else {                                                                                                           // 119
      while (++i < n) if (d3_numeric(a = +f.call(array, array[i], i))) s += a;                                         // 120
    }                                                                                                                  // 121
    return s;                                                                                                          // 122
  };                                                                                                                   // 123
  d3.mean = function(array, f) {                                                                                       // 124
    var s = 0, n = array.length, a, i = -1, j = n;                                                                     // 125
    if (arguments.length === 1) {                                                                                      // 126
      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) s += a; else --j;                                       // 127
    } else {                                                                                                           // 128
      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) s += a; else --j;                     // 129
    }                                                                                                                  // 130
    if (j) return s / j;                                                                                               // 131
  };                                                                                                                   // 132
  d3.quantile = function(values, p) {                                                                                  // 133
    var H = (values.length - 1) * p + 1, h = Math.floor(H), v = +values[h - 1], e = H - h;                             // 134
    return e ? v + e * (values[h] - v) : v;                                                                            // 135
  };                                                                                                                   // 136
  d3.median = function(array, f) {                                                                                     // 137
    var numbers = [], n = array.length, a, i = -1;                                                                     // 138
    if (arguments.length === 1) {                                                                                      // 139
      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) numbers.push(a);                                        // 140
    } else {                                                                                                           // 141
      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) numbers.push(a);                      // 142
    }                                                                                                                  // 143
    if (numbers.length) return d3.quantile(numbers.sort(d3_ascending), .5);                                            // 144
  };                                                                                                                   // 145
  d3.variance = function(array, f) {                                                                                   // 146
    var n = array.length, m = 0, a, d, s = 0, i = -1, j = 0;                                                           // 147
    if (arguments.length === 1) {                                                                                      // 148
      while (++i < n) {                                                                                                // 149
        if (d3_numeric(a = d3_number(array[i]))) {                                                                     // 150
          d = a - m;                                                                                                   // 151
          m += d / ++j;                                                                                                // 152
          s += d * (a - m);                                                                                            // 153
        }                                                                                                              // 154
      }                                                                                                                // 155
    } else {                                                                                                           // 156
      while (++i < n) {                                                                                                // 157
        if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) {                                                   // 158
          d = a - m;                                                                                                   // 159
          m += d / ++j;                                                                                                // 160
          s += d * (a - m);                                                                                            // 161
        }                                                                                                              // 162
      }                                                                                                                // 163
    }                                                                                                                  // 164
    if (j > 1) return s / (j - 1);                                                                                     // 165
  };                                                                                                                   // 166
  d3.deviation = function() {                                                                                          // 167
    var v = d3.variance.apply(this, arguments);                                                                        // 168
    return v ? Math.sqrt(v) : v;                                                                                       // 169
  };                                                                                                                   // 170
  function d3_bisector(compare) {                                                                                      // 171
    return {                                                                                                           // 172
      left: function(a, x, lo, hi) {                                                                                   // 173
        if (arguments.length < 3) lo = 0;                                                                              // 174
        if (arguments.length < 4) hi = a.length;                                                                       // 175
        while (lo < hi) {                                                                                              // 176
          var mid = lo + hi >>> 1;                                                                                     // 177
          if (compare(a[mid], x) < 0) lo = mid + 1; else hi = mid;                                                     // 178
        }                                                                                                              // 179
        return lo;                                                                                                     // 180
      },                                                                                                               // 181
      right: function(a, x, lo, hi) {                                                                                  // 182
        if (arguments.length < 3) lo = 0;                                                                              // 183
        if (arguments.length < 4) hi = a.length;                                                                       // 184
        while (lo < hi) {                                                                                              // 185
          var mid = lo + hi >>> 1;                                                                                     // 186
          if (compare(a[mid], x) > 0) hi = mid; else lo = mid + 1;                                                     // 187
        }                                                                                                              // 188
        return lo;                                                                                                     // 189
      }                                                                                                                // 190
    };                                                                                                                 // 191
  }                                                                                                                    // 192
  var d3_bisect = d3_bisector(d3_ascending);                                                                           // 193
  d3.bisectLeft = d3_bisect.left;                                                                                      // 194
  d3.bisect = d3.bisectRight = d3_bisect.right;                                                                        // 195
  d3.bisector = function(f) {                                                                                          // 196
    return d3_bisector(f.length === 1 ? function(d, x) {                                                               // 197
      return d3_ascending(f(d), x);                                                                                    // 198
    } : f);                                                                                                            // 199
  };                                                                                                                   // 200
  d3.shuffle = function(array, i0, i1) {                                                                               // 201
    if ((m = arguments.length) < 3) {                                                                                  // 202
      i1 = array.length;                                                                                               // 203
      if (m < 2) i0 = 0;                                                                                               // 204
    }                                                                                                                  // 205
    var m = i1 - i0, t, i;                                                                                             // 206
    while (m) {                                                                                                        // 207
      i = Math.random() * m-- | 0;                                                                                     // 208
      t = array[m + i0], array[m + i0] = array[i + i0], array[i + i0] = t;                                             // 209
    }                                                                                                                  // 210
    return array;                                                                                                      // 211
  };                                                                                                                   // 212
  d3.permute = function(array, indexes) {                                                                              // 213
    var i = indexes.length, permutes = new Array(i);                                                                   // 214
    while (i--) permutes[i] = array[indexes[i]];                                                                       // 215
    return permutes;                                                                                                   // 216
  };                                                                                                                   // 217
  d3.pairs = function(array) {                                                                                         // 218
    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);                              // 219
    while (i < n) pairs[i] = [ p0 = p1, p1 = array[++i] ];                                                             // 220
    return pairs;                                                                                                      // 221
  };                                                                                                                   // 222
  d3.zip = function() {                                                                                                // 223
    if (!(n = arguments.length)) return [];                                                                            // 224
    for (var i = -1, m = d3.min(arguments, d3_zipLength), zips = new Array(m); ++i < m; ) {                            // 225
      for (var j = -1, n, zip = zips[i] = new Array(n); ++j < n; ) {                                                   // 226
        zip[j] = arguments[j][i];                                                                                      // 227
      }                                                                                                                // 228
    }                                                                                                                  // 229
    return zips;                                                                                                       // 230
  };                                                                                                                   // 231
  function d3_zipLength(d) {                                                                                           // 232
    return d.length;                                                                                                   // 233
  }                                                                                                                    // 234
  d3.transpose = function(matrix) {                                                                                    // 235
    return d3.zip.apply(d3, matrix);                                                                                   // 236
  };                                                                                                                   // 237
  d3.keys = function(map) {                                                                                            // 238
    var keys = [];                                                                                                     // 239
    for (var key in map) keys.push(key);                                                                               // 240
    return keys;                                                                                                       // 241
  };                                                                                                                   // 242
  d3.values = function(map) {                                                                                          // 243
    var values = [];                                                                                                   // 244
    for (var key in map) values.push(map[key]);                                                                        // 245
    return values;                                                                                                     // 246
  };                                                                                                                   // 247
  d3.entries = function(map) {                                                                                         // 248
    var entries = [];                                                                                                  // 249
    for (var key in map) entries.push({                                                                                // 250
      key: key,                                                                                                        // 251
      value: map[key]                                                                                                  // 252
    });                                                                                                                // 253
    return entries;                                                                                                    // 254
  };                                                                                                                   // 255
  d3.merge = function(arrays) {                                                                                        // 256
    var n = arrays.length, m, i = -1, j = 0, merged, array;                                                            // 257
    while (++i < n) j += arrays[i].length;                                                                             // 258
    merged = new Array(j);                                                                                             // 259
    while (--n >= 0) {                                                                                                 // 260
      array = arrays[n];                                                                                               // 261
      m = array.length;                                                                                                // 262
      while (--m >= 0) {                                                                                               // 263
        merged[--j] = array[m];                                                                                        // 264
      }                                                                                                                // 265
    }                                                                                                                  // 266
    return merged;                                                                                                     // 267
  };                                                                                                                   // 268
  var abs = Math.abs;                                                                                                  // 269
  d3.range = function(start, stop, step) {                                                                             // 270
    if (arguments.length < 3) {                                                                                        // 271
      step = 1;                                                                                                        // 272
      if (arguments.length < 2) {                                                                                      // 273
        stop = start;                                                                                                  // 274
        start = 0;                                                                                                     // 275
      }                                                                                                                // 276
    }                                                                                                                  // 277
    if ((stop - start) / step === Infinity) throw new Error("infinite range");                                         // 278
    var range = [], k = d3_range_integerScale(abs(step)), i = -1, j;                                                   // 279
    start *= k, stop *= k, step *= k;                                                                                  // 280
    if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k); else while ((j = start + step * ++i) < stop) range.push(j / k);
    return range;                                                                                                      // 282
  };                                                                                                                   // 283
  function d3_range_integerScale(x) {                                                                                  // 284
    var k = 1;                                                                                                         // 285
    while (x * k % 1) k *= 10;                                                                                         // 286
    return k;                                                                                                          // 287
  }                                                                                                                    // 288
  function d3_class(ctor, properties) {                                                                                // 289
    for (var key in properties) {                                                                                      // 290
      Object.defineProperty(ctor.prototype, key, {                                                                     // 291
        value: properties[key],                                                                                        // 292
        enumerable: false                                                                                              // 293
      });                                                                                                              // 294
    }                                                                                                                  // 295
  }                                                                                                                    // 296
  d3.map = function(object, f) {                                                                                       // 297
    var map = new d3_Map();                                                                                            // 298
    if (object instanceof d3_Map) {                                                                                    // 299
      object.forEach(function(key, value) {                                                                            // 300
        map.set(key, value);                                                                                           // 301
      });                                                                                                              // 302
    } else if (Array.isArray(object)) {                                                                                // 303
      var i = -1, n = object.length, o;                                                                                // 304
      if (arguments.length === 1) while (++i < n) map.set(i, object[i]); else while (++i < n) map.set(f.call(object, o = object[i], i), o);
    } else {                                                                                                           // 306
      for (var key in object) map.set(key, object[key]);                                                               // 307
    }                                                                                                                  // 308
    return map;                                                                                                        // 309
  };                                                                                                                   // 310
  function d3_Map() {                                                                                                  // 311
    this._ = Object.create(null);                                                                                      // 312
  }                                                                                                                    // 313
  var d3_map_proto = "__proto__", d3_map_zero = "\x00";                                                                // 314
  d3_class(d3_Map, {                                                                                                   // 315
    has: d3_map_has,                                                                                                   // 316
    get: function(key) {                                                                                               // 317
      return this._[d3_map_escape(key)];                                                                               // 318
    },                                                                                                                 // 319
    set: function(key, value) {                                                                                        // 320
      return this._[d3_map_escape(key)] = value;                                                                       // 321
    },                                                                                                                 // 322
    remove: d3_map_remove,                                                                                             // 323
    keys: d3_map_keys,                                                                                                 // 324
    values: function() {                                                                                               // 325
      var values = [];                                                                                                 // 326
      for (var key in this._) values.push(this._[key]);                                                                // 327
      return values;                                                                                                   // 328
    },                                                                                                                 // 329
    entries: function() {                                                                                              // 330
      var entries = [];                                                                                                // 331
      for (var key in this._) entries.push({                                                                           // 332
        key: d3_map_unescape(key),                                                                                     // 333
        value: this._[key]                                                                                             // 334
      });                                                                                                              // 335
      return entries;                                                                                                  // 336
    },                                                                                                                 // 337
    size: d3_map_size,                                                                                                 // 338
    empty: d3_map_empty,                                                                                               // 339
    forEach: function(f) {                                                                                             // 340
      for (var key in this._) f.call(this, d3_map_unescape(key), this._[key]);                                         // 341
    }                                                                                                                  // 342
  });                                                                                                                  // 343
  function d3_map_escape(key) {                                                                                        // 344
    return (key += "") === d3_map_proto || key[0] === d3_map_zero ? d3_map_zero + key : key;                           // 345
  }                                                                                                                    // 346
  function d3_map_unescape(key) {                                                                                      // 347
    return (key += "")[0] === d3_map_zero ? key.slice(1) : key;                                                        // 348
  }                                                                                                                    // 349
  function d3_map_has(key) {                                                                                           // 350
    return d3_map_escape(key) in this._;                                                                               // 351
  }                                                                                                                    // 352
  function d3_map_remove(key) {                                                                                        // 353
    return (key = d3_map_escape(key)) in this._ && delete this._[key];                                                 // 354
  }                                                                                                                    // 355
  function d3_map_keys() {                                                                                             // 356
    var keys = [];                                                                                                     // 357
    for (var key in this._) keys.push(d3_map_unescape(key));                                                           // 358
    return keys;                                                                                                       // 359
  }                                                                                                                    // 360
  function d3_map_size() {                                                                                             // 361
    var size = 0;                                                                                                      // 362
    for (var key in this._) ++size;                                                                                    // 363
    return size;                                                                                                       // 364
  }                                                                                                                    // 365
  function d3_map_empty() {                                                                                            // 366
    for (var key in this._) return false;                                                                              // 367
    return true;                                                                                                       // 368
  }                                                                                                                    // 369
  d3.nest = function() {                                                                                               // 370
    var nest = {}, keys = [], sortKeys = [], sortValues, rollup;                                                       // 371
    function map(mapType, array, depth) {                                                                              // 372
      if (depth >= keys.length) return rollup ? rollup.call(nest, array) : sortValues ? array.sort(sortValues) : array;
      var i = -1, n = array.length, key = keys[depth++], keyValue, object, setter, valuesByKey = new d3_Map(), values; // 374
      while (++i < n) {                                                                                                // 375
        if (values = valuesByKey.get(keyValue = key(object = array[i]))) {                                             // 376
          values.push(object);                                                                                         // 377
        } else {                                                                                                       // 378
          valuesByKey.set(keyValue, [ object ]);                                                                       // 379
        }                                                                                                              // 380
      }                                                                                                                // 381
      if (mapType) {                                                                                                   // 382
        object = mapType();                                                                                            // 383
        setter = function(keyValue, values) {                                                                          // 384
          object.set(keyValue, map(mapType, values, depth));                                                           // 385
        };                                                                                                             // 386
      } else {                                                                                                         // 387
        object = {};                                                                                                   // 388
        setter = function(keyValue, values) {                                                                          // 389
          object[keyValue] = map(mapType, values, depth);                                                              // 390
        };                                                                                                             // 391
      }                                                                                                                // 392
      valuesByKey.forEach(setter);                                                                                     // 393
      return object;                                                                                                   // 394
    }                                                                                                                  // 395
    function entries(map, depth) {                                                                                     // 396
      if (depth >= keys.length) return map;                                                                            // 397
      var array = [], sortKey = sortKeys[depth++];                                                                     // 398
      map.forEach(function(key, keyMap) {                                                                              // 399
        array.push({                                                                                                   // 400
          key: key,                                                                                                    // 401
          values: entries(keyMap, depth)                                                                               // 402
        });                                                                                                            // 403
      });                                                                                                              // 404
      return sortKey ? array.sort(function(a, b) {                                                                     // 405
        return sortKey(a.key, b.key);                                                                                  // 406
      }) : array;                                                                                                      // 407
    }                                                                                                                  // 408
    nest.map = function(array, mapType) {                                                                              // 409
      return map(mapType, array, 0);                                                                                   // 410
    };                                                                                                                 // 411
    nest.entries = function(array) {                                                                                   // 412
      return entries(map(d3.map, array, 0), 0);                                                                        // 413
    };                                                                                                                 // 414
    nest.key = function(d) {                                                                                           // 415
      keys.push(d);                                                                                                    // 416
      return nest;                                                                                                     // 417
    };                                                                                                                 // 418
    nest.sortKeys = function(order) {                                                                                  // 419
      sortKeys[keys.length - 1] = order;                                                                               // 420
      return nest;                                                                                                     // 421
    };                                                                                                                 // 422
    nest.sortValues = function(order) {                                                                                // 423
      sortValues = order;                                                                                              // 424
      return nest;                                                                                                     // 425
    };                                                                                                                 // 426
    nest.rollup = function(f) {                                                                                        // 427
      rollup = f;                                                                                                      // 428
      return nest;                                                                                                     // 429
    };                                                                                                                 // 430
    return nest;                                                                                                       // 431
  };                                                                                                                   // 432
  d3.set = function(array) {                                                                                           // 433
    var set = new d3_Set();                                                                                            // 434
    if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]);                                        // 435
    return set;                                                                                                        // 436
  };                                                                                                                   // 437
  function d3_Set() {                                                                                                  // 438
    this._ = Object.create(null);                                                                                      // 439
  }                                                                                                                    // 440
  d3_class(d3_Set, {                                                                                                   // 441
    has: d3_map_has,                                                                                                   // 442
    add: function(key) {                                                                                               // 443
      this._[d3_map_escape(key += "")] = true;                                                                         // 444
      return key;                                                                                                      // 445
    },                                                                                                                 // 446
    remove: d3_map_remove,                                                                                             // 447
    values: d3_map_keys,                                                                                               // 448
    size: d3_map_size,                                                                                                 // 449
    empty: d3_map_empty,                                                                                               // 450
    forEach: function(f) {                                                                                             // 451
      for (var key in this._) f.call(this, d3_map_unescape(key));                                                      // 452
    }                                                                                                                  // 453
  });                                                                                                                  // 454
  d3.behavior = {};                                                                                                    // 455
  function d3_identity(d) {                                                                                            // 456
    return d;                                                                                                          // 457
  }                                                                                                                    // 458
  d3.rebind = function(target, source) {                                                                               // 459
    var i = 1, n = arguments.length, method;                                                                           // 460
    while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);                         // 461
    return target;                                                                                                     // 462
  };                                                                                                                   // 463
  function d3_rebind(target, source, method) {                                                                         // 464
    return function() {                                                                                                // 465
      var value = method.apply(source, arguments);                                                                     // 466
      return value === source ? target : value;                                                                        // 467
    };                                                                                                                 // 468
  }                                                                                                                    // 469
  function d3_vendorSymbol(object, name) {                                                                             // 470
    if (name in object) return name;                                                                                   // 471
    name = name.charAt(0).toUpperCase() + name.slice(1);                                                               // 472
    for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) {                                                        // 473
      var prefixName = d3_vendorPrefixes[i] + name;                                                                    // 474
      if (prefixName in object) return prefixName;                                                                     // 475
    }                                                                                                                  // 476
  }                                                                                                                    // 477
  var d3_vendorPrefixes = [ "webkit", "ms", "moz", "Moz", "o", "O" ];                                                  // 478
  function d3_noop() {}                                                                                                // 479
  d3.dispatch = function() {                                                                                           // 480
    var dispatch = new d3_dispatch(), i = -1, n = arguments.length;                                                    // 481
    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);                                              // 482
    return dispatch;                                                                                                   // 483
  };                                                                                                                   // 484
  function d3_dispatch() {}                                                                                            // 485
  d3_dispatch.prototype.on = function(type, listener) {                                                                // 486
    var i = type.indexOf("."), name = "";                                                                              // 487
    if (i >= 0) {                                                                                                      // 488
      name = type.slice(i + 1);                                                                                        // 489
      type = type.slice(0, i);                                                                                         // 490
    }                                                                                                                  // 491
    if (type) return arguments.length < 2 ? this[type].on(name) : this[type].on(name, listener);                       // 492
    if (arguments.length === 2) {                                                                                      // 493
      if (listener == null) for (type in this) {                                                                       // 494
        if (this.hasOwnProperty(type)) this[type].on(name, null);                                                      // 495
      }                                                                                                                // 496
      return this;                                                                                                     // 497
    }                                                                                                                  // 498
  };                                                                                                                   // 499
  function d3_dispatch_event(dispatch) {                                                                               // 500
    var listeners = [], listenerByName = new d3_Map();                                                                 // 501
    function event() {                                                                                                 // 502
      var z = listeners, i = -1, n = z.length, l;                                                                      // 503
      while (++i < n) if (l = z[i].on) l.apply(this, arguments);                                                       // 504
      return dispatch;                                                                                                 // 505
    }                                                                                                                  // 506
    event.on = function(name, listener) {                                                                              // 507
      var l = listenerByName.get(name), i;                                                                             // 508
      if (arguments.length < 2) return l && l.on;                                                                      // 509
      if (l) {                                                                                                         // 510
        l.on = null;                                                                                                   // 511
        listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1));                       // 512
        listenerByName.remove(name);                                                                                   // 513
      }                                                                                                                // 514
      if (listener) listeners.push(listenerByName.set(name, {                                                          // 515
        on: listener                                                                                                   // 516
      }));                                                                                                             // 517
      return dispatch;                                                                                                 // 518
    };                                                                                                                 // 519
    return event;                                                                                                      // 520
  }                                                                                                                    // 521
  d3.event = null;                                                                                                     // 522
  function d3_eventPreventDefault() {                                                                                  // 523
    d3.event.preventDefault();                                                                                         // 524
  }                                                                                                                    // 525
  function d3_eventSource() {                                                                                          // 526
    var e = d3.event, s;                                                                                               // 527
    while (s = e.sourceEvent) e = s;                                                                                   // 528
    return e;                                                                                                          // 529
  }                                                                                                                    // 530
  function d3_eventDispatch(target) {                                                                                  // 531
    var dispatch = new d3_dispatch(), i = 0, n = arguments.length;                                                     // 532
    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);                                              // 533
    dispatch.of = function(thiz, argumentz) {                                                                          // 534
      return function(e1) {                                                                                            // 535
        try {                                                                                                          // 536
          var e0 = e1.sourceEvent = d3.event;                                                                          // 537
          e1.target = target;                                                                                          // 538
          d3.event = e1;                                                                                               // 539
          dispatch[e1.type].apply(thiz, argumentz);                                                                    // 540
        } finally {                                                                                                    // 541
          d3.event = e0;                                                                                               // 542
        }                                                                                                              // 543
      };                                                                                                               // 544
    };                                                                                                                 // 545
    return dispatch;                                                                                                   // 546
  }                                                                                                                    // 547
  d3.requote = function(s) {                                                                                           // 548
    return s.replace(d3_requote_re, "\\$&");                                                                           // 549
  };                                                                                                                   // 550
  var d3_requote_re = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;                                                               // 551
  var d3_subclass = {}.__proto__ ? function(object, prototype) {                                                       // 552
    object.__proto__ = prototype;                                                                                      // 553
  } : function(object, prototype) {                                                                                    // 554
    for (var property in prototype) object[property] = prototype[property];                                            // 555
  };                                                                                                                   // 556
  function d3_selection(groups) {                                                                                      // 557
    d3_subclass(groups, d3_selectionPrototype);                                                                        // 558
    return groups;                                                                                                     // 559
  }                                                                                                                    // 560
  var d3_select = function(s, n) {                                                                                     // 561
    return n.querySelector(s);                                                                                         // 562
  }, d3_selectAll = function(s, n) {                                                                                   // 563
    return n.querySelectorAll(s);                                                                                      // 564
  }, d3_selectMatches = function(n, s) {                                                                               // 565
    var d3_selectMatcher = n.matches || n[d3_vendorSymbol(n, "matchesSelector")];                                      // 566
    d3_selectMatches = function(n, s) {                                                                                // 567
      return d3_selectMatcher.call(n, s);                                                                              // 568
    };                                                                                                                 // 569
    return d3_selectMatches(n, s);                                                                                     // 570
  };                                                                                                                   // 571
  if (typeof Sizzle === "function") {                                                                                  // 572
    d3_select = function(s, n) {                                                                                       // 573
      return Sizzle(s, n)[0] || null;                                                                                  // 574
    };                                                                                                                 // 575
    d3_selectAll = Sizzle;                                                                                             // 576
    d3_selectMatches = Sizzle.matchesSelector;                                                                         // 577
  }                                                                                                                    // 578
  d3.selection = function() {                                                                                          // 579
    return d3.select(d3_document.documentElement);                                                                     // 580
  };                                                                                                                   // 581
  var d3_selectionPrototype = d3.selection.prototype = [];                                                             // 582
  d3_selectionPrototype.select = function(selector) {                                                                  // 583
    var subgroups = [], subgroup, subnode, group, node;                                                                // 584
    selector = d3_selection_selector(selector);                                                                        // 585
    for (var j = -1, m = this.length; ++j < m; ) {                                                                     // 586
      subgroups.push(subgroup = []);                                                                                   // 587
      subgroup.parentNode = (group = this[j]).parentNode;                                                              // 588
      for (var i = -1, n = group.length; ++i < n; ) {                                                                  // 589
        if (node = group[i]) {                                                                                         // 590
          subgroup.push(subnode = selector.call(node, node.__data__, i, j));                                           // 591
          if (subnode && "__data__" in node) subnode.__data__ = node.__data__;                                         // 592
        } else {                                                                                                       // 593
          subgroup.push(null);                                                                                         // 594
        }                                                                                                              // 595
      }                                                                                                                // 596
    }                                                                                                                  // 597
    return d3_selection(subgroups);                                                                                    // 598
  };                                                                                                                   // 599
  function d3_selection_selector(selector) {                                                                           // 600
    return typeof selector === "function" ? selector : function() {                                                    // 601
      return d3_select(selector, this);                                                                                // 602
    };                                                                                                                 // 603
  }                                                                                                                    // 604
  d3_selectionPrototype.selectAll = function(selector) {                                                               // 605
    var subgroups = [], subgroup, node;                                                                                // 606
    selector = d3_selection_selectorAll(selector);                                                                     // 607
    for (var j = -1, m = this.length; ++j < m; ) {                                                                     // 608
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {                                                 // 609
        if (node = group[i]) {                                                                                         // 610
          subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i, j)));                               // 611
          subgroup.parentNode = node;                                                                                  // 612
        }                                                                                                              // 613
      }                                                                                                                // 614
    }                                                                                                                  // 615
    return d3_selection(subgroups);                                                                                    // 616
  };                                                                                                                   // 617
  function d3_selection_selectorAll(selector) {                                                                        // 618
    return typeof selector === "function" ? selector : function() {                                                    // 619
      return d3_selectAll(selector, this);                                                                             // 620
    };                                                                                                                 // 621
  }                                                                                                                    // 622
  var d3_nsPrefix = {                                                                                                  // 623
    svg: "http://www.w3.org/2000/svg",                                                                                 // 624
    xhtml: "http://www.w3.org/1999/xhtml",                                                                             // 625
    xlink: "http://www.w3.org/1999/xlink",                                                                             // 626
    xml: "http://www.w3.org/XML/1998/namespace",                                                                       // 627
    xmlns: "http://www.w3.org/2000/xmlns/"                                                                             // 628
  };                                                                                                                   // 629
  d3.ns = {                                                                                                            // 630
    prefix: d3_nsPrefix,                                                                                               // 631
    qualify: function(name) {                                                                                          // 632
      var i = name.indexOf(":"), prefix = name;                                                                        // 633
      if (i >= 0) {                                                                                                    // 634
        prefix = name.slice(0, i);                                                                                     // 635
        name = name.slice(i + 1);                                                                                      // 636
      }                                                                                                                // 637
      return d3_nsPrefix.hasOwnProperty(prefix) ? {                                                                    // 638
        space: d3_nsPrefix[prefix],                                                                                    // 639
        local: name                                                                                                    // 640
      } : name;                                                                                                        // 641
    }                                                                                                                  // 642
  };                                                                                                                   // 643
  d3_selectionPrototype.attr = function(name, value) {                                                                 // 644
    if (arguments.length < 2) {                                                                                        // 645
      if (typeof name === "string") {                                                                                  // 646
        var node = this.node();                                                                                        // 647
        name = d3.ns.qualify(name);                                                                                    // 648
        return name.local ? node.getAttributeNS(name.space, name.local) : node.getAttribute(name);                     // 649
      }                                                                                                                // 650
      for (value in name) this.each(d3_selection_attr(value, name[value]));                                            // 651
      return this;                                                                                                     // 652
    }                                                                                                                  // 653
    return this.each(d3_selection_attr(name, value));                                                                  // 654
  };                                                                                                                   // 655
  function d3_selection_attr(name, value) {                                                                            // 656
    name = d3.ns.qualify(name);                                                                                        // 657
    function attrNull() {                                                                                              // 658
      this.removeAttribute(name);                                                                                      // 659
    }                                                                                                                  // 660
    function attrNullNS() {                                                                                            // 661
      this.removeAttributeNS(name.space, name.local);                                                                  // 662
    }                                                                                                                  // 663
    function attrConstant() {                                                                                          // 664
      this.setAttribute(name, value);                                                                                  // 665
    }                                                                                                                  // 666
    function attrConstantNS() {                                                                                        // 667
      this.setAttributeNS(name.space, name.local, value);                                                              // 668
    }                                                                                                                  // 669
    function attrFunction() {                                                                                          // 670
      var x = value.apply(this, arguments);                                                                            // 671
      if (x == null) this.removeAttribute(name); else this.setAttribute(name, x);                                      // 672
    }                                                                                                                  // 673
    function attrFunctionNS() {                                                                                        // 674
      var x = value.apply(this, arguments);                                                                            // 675
      if (x == null) this.removeAttributeNS(name.space, name.local); else this.setAttributeNS(name.space, name.local, x);
    }                                                                                                                  // 677
    return value == null ? name.local ? attrNullNS : attrNull : typeof value === "function" ? name.local ? attrFunctionNS : attrFunction : name.local ? attrConstantNS : attrConstant;
  }                                                                                                                    // 679
  function d3_collapse(s) {                                                                                            // 680
    return s.trim().replace(/\s+/g, " ");                                                                              // 681
  }                                                                                                                    // 682
  d3_selectionPrototype.classed = function(name, value) {                                                              // 683
    if (arguments.length < 2) {                                                                                        // 684
      if (typeof name === "string") {                                                                                  // 685
        var node = this.node(), n = (name = d3_selection_classes(name)).length, i = -1;                                // 686
        if (value = node.classList) {                                                                                  // 687
          while (++i < n) if (!value.contains(name[i])) return false;                                                  // 688
        } else {                                                                                                       // 689
          value = node.getAttribute("class");                                                                          // 690
          while (++i < n) if (!d3_selection_classedRe(name[i]).test(value)) return false;                              // 691
        }                                                                                                              // 692
        return true;                                                                                                   // 693
      }                                                                                                                // 694
      for (value in name) this.each(d3_selection_classed(value, name[value]));                                         // 695
      return this;                                                                                                     // 696
    }                                                                                                                  // 697
    return this.each(d3_selection_classed(name, value));                                                               // 698
  };                                                                                                                   // 699
  function d3_selection_classedRe(name) {                                                                              // 700
    return new RegExp("(?:^|\\s+)" + d3.requote(name) + "(?:\\s+|$)", "g");                                            // 701
  }                                                                                                                    // 702
  function d3_selection_classes(name) {                                                                                // 703
    return (name + "").trim().split(/^|\s+/);                                                                          // 704
  }                                                                                                                    // 705
  function d3_selection_classed(name, value) {                                                                         // 706
    name = d3_selection_classes(name).map(d3_selection_classedName);                                                   // 707
    var n = name.length;                                                                                               // 708
    function classedConstant() {                                                                                       // 709
      var i = -1;                                                                                                      // 710
      while (++i < n) name[i](this, value);                                                                            // 711
    }                                                                                                                  // 712
    function classedFunction() {                                                                                       // 713
      var i = -1, x = value.apply(this, arguments);                                                                    // 714
      while (++i < n) name[i](this, x);                                                                                // 715
    }                                                                                                                  // 716
    return typeof value === "function" ? classedFunction : classedConstant;                                            // 717
  }                                                                                                                    // 718
  function d3_selection_classedName(name) {                                                                            // 719
    var re = d3_selection_classedRe(name);                                                                             // 720
    return function(node, value) {                                                                                     // 721
      if (c = node.classList) return value ? c.add(name) : c.remove(name);                                             // 722
      var c = node.getAttribute("class") || "";                                                                        // 723
      if (value) {                                                                                                     // 724
        re.lastIndex = 0;                                                                                              // 725
        if (!re.test(c)) node.setAttribute("class", d3_collapse(c + " " + name));                                      // 726
      } else {                                                                                                         // 727
        node.setAttribute("class", d3_collapse(c.replace(re, " ")));                                                   // 728
      }                                                                                                                // 729
    };                                                                                                                 // 730
  }                                                                                                                    // 731
  d3_selectionPrototype.style = function(name, value, priority) {                                                      // 732
    var n = arguments.length;                                                                                          // 733
    if (n < 3) {                                                                                                       // 734
      if (typeof name !== "string") {                                                                                  // 735
        if (n < 2) value = "";                                                                                         // 736
        for (priority in name) this.each(d3_selection_style(priority, name[priority], value));                         // 737
        return this;                                                                                                   // 738
      }                                                                                                                // 739
      if (n < 2) {                                                                                                     // 740
        var node = this.node();                                                                                        // 741
        return d3_window(node).getComputedStyle(node, null).getPropertyValue(name);                                    // 742
      }                                                                                                                // 743
      priority = "";                                                                                                   // 744
    }                                                                                                                  // 745
    return this.each(d3_selection_style(name, value, priority));                                                       // 746
  };                                                                                                                   // 747
  function d3_selection_style(name, value, priority) {                                                                 // 748
    function styleNull() {                                                                                             // 749
      this.style.removeProperty(name);                                                                                 // 750
    }                                                                                                                  // 751
    function styleConstant() {                                                                                         // 752
      this.style.setProperty(name, value, priority);                                                                   // 753
    }                                                                                                                  // 754
    function styleFunction() {                                                                                         // 755
      var x = value.apply(this, arguments);                                                                            // 756
      if (x == null) this.style.removeProperty(name); else this.style.setProperty(name, x, priority);                  // 757
    }                                                                                                                  // 758
    return value == null ? styleNull : typeof value === "function" ? styleFunction : styleConstant;                    // 759
  }                                                                                                                    // 760
  d3_selectionPrototype.property = function(name, value) {                                                             // 761
    if (arguments.length < 2) {                                                                                        // 762
      if (typeof name === "string") return this.node()[name];                                                          // 763
      for (value in name) this.each(d3_selection_property(value, name[value]));                                        // 764
      return this;                                                                                                     // 765
    }                                                                                                                  // 766
    return this.each(d3_selection_property(name, value));                                                              // 767
  };                                                                                                                   // 768
  function d3_selection_property(name, value) {                                                                        // 769
    function propertyNull() {                                                                                          // 770
      delete this[name];                                                                                               // 771
    }                                                                                                                  // 772
    function propertyConstant() {                                                                                      // 773
      this[name] = value;                                                                                              // 774
    }                                                                                                                  // 775
    function propertyFunction() {                                                                                      // 776
      var x = value.apply(this, arguments);                                                                            // 777
      if (x == null) delete this[name]; else this[name] = x;                                                           // 778
    }                                                                                                                  // 779
    return value == null ? propertyNull : typeof value === "function" ? propertyFunction : propertyConstant;           // 780
  }                                                                                                                    // 781
  d3_selectionPrototype.text = function(value) {                                                                       // 782
    return arguments.length ? this.each(typeof value === "function" ? function() {                                     // 783
      var v = value.apply(this, arguments);                                                                            // 784
      this.textContent = v == null ? "" : v;                                                                           // 785
    } : value == null ? function() {                                                                                   // 786
      this.textContent = "";                                                                                           // 787
    } : function() {                                                                                                   // 788
      this.textContent = value;                                                                                        // 789
    }) : this.node().textContent;                                                                                      // 790
  };                                                                                                                   // 791
  d3_selectionPrototype.html = function(value) {                                                                       // 792
    return arguments.length ? this.each(typeof value === "function" ? function() {                                     // 793
      var v = value.apply(this, arguments);                                                                            // 794
      this.innerHTML = v == null ? "" : v;                                                                             // 795
    } : value == null ? function() {                                                                                   // 796
      this.innerHTML = "";                                                                                             // 797
    } : function() {                                                                                                   // 798
      this.innerHTML = value;                                                                                          // 799
    }) : this.node().innerHTML;                                                                                        // 800
  };                                                                                                                   // 801
  d3_selectionPrototype.append = function(name) {                                                                      // 802
    name = d3_selection_creator(name);                                                                                 // 803
    return this.select(function() {                                                                                    // 804
      return this.appendChild(name.apply(this, arguments));                                                            // 805
    });                                                                                                                // 806
  };                                                                                                                   // 807
  function d3_selection_creator(name) {                                                                                // 808
    function create() {                                                                                                // 809
      var document = this.ownerDocument, namespace = this.namespaceURI;                                                // 810
      return namespace ? document.createElementNS(namespace, name) : document.createElement(name);                     // 811
    }                                                                                                                  // 812
    function createNS() {                                                                                              // 813
      return this.ownerDocument.createElementNS(name.space, name.local);                                               // 814
    }                                                                                                                  // 815
    return typeof name === "function" ? name : (name = d3.ns.qualify(name)).local ? createNS : create;                 // 816
  }                                                                                                                    // 817
  d3_selectionPrototype.insert = function(name, before) {                                                              // 818
    name = d3_selection_creator(name);                                                                                 // 819
    before = d3_selection_selector(before);                                                                            // 820
    return this.select(function() {                                                                                    // 821
      return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null);                    // 822
    });                                                                                                                // 823
  };                                                                                                                   // 824
  d3_selectionPrototype.remove = function() {                                                                          // 825
    return this.each(d3_selectionRemove);                                                                              // 826
  };                                                                                                                   // 827
  function d3_selectionRemove() {                                                                                      // 828
    var parent = this.parentNode;                                                                                      // 829
    if (parent) parent.removeChild(this);                                                                              // 830
  }                                                                                                                    // 831
  d3_selectionPrototype.data = function(value, key) {                                                                  // 832
    var i = -1, n = this.length, group, node;                                                                          // 833
    if (!arguments.length) {                                                                                           // 834
      value = new Array(n = (group = this[0]).length);                                                                 // 835
      while (++i < n) {                                                                                                // 836
        if (node = group[i]) {                                                                                         // 837
          value[i] = node.__data__;                                                                                    // 838
        }                                                                                                              // 839
      }                                                                                                                // 840
      return value;                                                                                                    // 841
    }                                                                                                                  // 842
    function bind(group, groupData) {                                                                                  // 843
      var i, n = group.length, m = groupData.length, n0 = Math.min(n, m), updateNodes = new Array(m), enterNodes = new Array(m), exitNodes = new Array(n), node, nodeData;
      if (key) {                                                                                                       // 845
        var nodeByKeyValue = new d3_Map(), keyValues = new Array(n), keyValue;                                         // 846
        for (i = -1; ++i < n; ) {                                                                                      // 847
          if (nodeByKeyValue.has(keyValue = key.call(node = group[i], node.__data__, i))) {                            // 848
            exitNodes[i] = node;                                                                                       // 849
          } else {                                                                                                     // 850
            nodeByKeyValue.set(keyValue, node);                                                                        // 851
          }                                                                                                            // 852
          keyValues[i] = keyValue;                                                                                     // 853
        }                                                                                                              // 854
        for (i = -1; ++i < m; ) {                                                                                      // 855
          if (!(node = nodeByKeyValue.get(keyValue = key.call(groupData, nodeData = groupData[i], i)))) {              // 856
            enterNodes[i] = d3_selection_dataNode(nodeData);                                                           // 857
          } else if (node !== true) {                                                                                  // 858
            updateNodes[i] = node;                                                                                     // 859
            node.__data__ = nodeData;                                                                                  // 860
          }                                                                                                            // 861
          nodeByKeyValue.set(keyValue, true);                                                                          // 862
        }                                                                                                              // 863
        for (i = -1; ++i < n; ) {                                                                                      // 864
          if (nodeByKeyValue.get(keyValues[i]) !== true) {                                                             // 865
            exitNodes[i] = group[i];                                                                                   // 866
          }                                                                                                            // 867
        }                                                                                                              // 868
      } else {                                                                                                         // 869
        for (i = -1; ++i < n0; ) {                                                                                     // 870
          node = group[i];                                                                                             // 871
          nodeData = groupData[i];                                                                                     // 872
          if (node) {                                                                                                  // 873
            node.__data__ = nodeData;                                                                                  // 874
            updateNodes[i] = node;                                                                                     // 875
          } else {                                                                                                     // 876
            enterNodes[i] = d3_selection_dataNode(nodeData);                                                           // 877
          }                                                                                                            // 878
        }                                                                                                              // 879
        for (;i < m; ++i) {                                                                                            // 880
          enterNodes[i] = d3_selection_dataNode(groupData[i]);                                                         // 881
        }                                                                                                              // 882
        for (;i < n; ++i) {                                                                                            // 883
          exitNodes[i] = group[i];                                                                                     // 884
        }                                                                                                              // 885
      }                                                                                                                // 886
      enterNodes.update = updateNodes;                                                                                 // 887
      enterNodes.parentNode = updateNodes.parentNode = exitNodes.parentNode = group.parentNode;                        // 888
      enter.push(enterNodes);                                                                                          // 889
      update.push(updateNodes);                                                                                        // 890
      exit.push(exitNodes);                                                                                            // 891
    }                                                                                                                  // 892
    var enter = d3_selection_enter([]), update = d3_selection([]), exit = d3_selection([]);                            // 893
    if (typeof value === "function") {                                                                                 // 894
      while (++i < n) {                                                                                                // 895
        bind(group = this[i], value.call(group, group.parentNode.__data__, i));                                        // 896
      }                                                                                                                // 897
    } else {                                                                                                           // 898
      while (++i < n) {                                                                                                // 899
        bind(group = this[i], value);                                                                                  // 900
      }                                                                                                                // 901
    }                                                                                                                  // 902
    update.enter = function() {                                                                                        // 903
      return enter;                                                                                                    // 904
    };                                                                                                                 // 905
    update.exit = function() {                                                                                         // 906
      return exit;                                                                                                     // 907
    };                                                                                                                 // 908
    return update;                                                                                                     // 909
  };                                                                                                                   // 910
  function d3_selection_dataNode(data) {                                                                               // 911
    return {                                                                                                           // 912
      __data__: data                                                                                                   // 913
    };                                                                                                                 // 914
  }                                                                                                                    // 915
  d3_selectionPrototype.datum = function(value) {                                                                      // 916
    return arguments.length ? this.property("__data__", value) : this.property("__data__");                            // 917
  };                                                                                                                   // 918
  d3_selectionPrototype.filter = function(filter) {                                                                    // 919
    var subgroups = [], subgroup, group, node;                                                                         // 920
    if (typeof filter !== "function") filter = d3_selection_filter(filter);                                            // 921
    for (var j = 0, m = this.length; j < m; j++) {                                                                     // 922
      subgroups.push(subgroup = []);                                                                                   // 923
      subgroup.parentNode = (group = this[j]).parentNode;                                                              // 924
      for (var i = 0, n = group.length; i < n; i++) {                                                                  // 925
        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {                                             // 926
          subgroup.push(node);                                                                                         // 927
        }                                                                                                              // 928
      }                                                                                                                // 929
    }                                                                                                                  // 930
    return d3_selection(subgroups);                                                                                    // 931
  };                                                                                                                   // 932
  function d3_selection_filter(selector) {                                                                             // 933
    return function() {                                                                                                // 934
      return d3_selectMatches(this, selector);                                                                         // 935
    };                                                                                                                 // 936
  }                                                                                                                    // 937
  d3_selectionPrototype.order = function() {                                                                           // 938
    for (var j = -1, m = this.length; ++j < m; ) {                                                                     // 939
      for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {                             // 940
        if (node = group[i]) {                                                                                         // 941
          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);                             // 942
          next = node;                                                                                                 // 943
        }                                                                                                              // 944
      }                                                                                                                // 945
    }                                                                                                                  // 946
    return this;                                                                                                       // 947
  };                                                                                                                   // 948
  d3_selectionPrototype.sort = function(comparator) {                                                                  // 949
    comparator = d3_selection_sortComparator.apply(this, arguments);                                                   // 950
    for (var j = -1, m = this.length; ++j < m; ) this[j].sort(comparator);                                             // 951
    return this.order();                                                                                               // 952
  };                                                                                                                   // 953
  function d3_selection_sortComparator(comparator) {                                                                   // 954
    if (!arguments.length) comparator = d3_ascending;                                                                  // 955
    return function(a, b) {                                                                                            // 956
      return a && b ? comparator(a.__data__, b.__data__) : !a - !b;                                                    // 957
    };                                                                                                                 // 958
  }                                                                                                                    // 959
  d3_selectionPrototype.each = function(callback) {                                                                    // 960
    return d3_selection_each(this, function(node, i, j) {                                                              // 961
      callback.call(node, node.__data__, i, j);                                                                        // 962
    });                                                                                                                // 963
  };                                                                                                                   // 964
  function d3_selection_each(groups, callback) {                                                                       // 965
    for (var j = 0, m = groups.length; j < m; j++) {                                                                   // 966
      for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) {                                         // 967
        if (node = group[i]) callback(node, i, j);                                                                     // 968
      }                                                                                                                // 969
    }                                                                                                                  // 970
    return groups;                                                                                                     // 971
  }                                                                                                                    // 972
  d3_selectionPrototype.call = function(callback) {                                                                    // 973
    var args = d3_array(arguments);                                                                                    // 974
    callback.apply(args[0] = this, args);                                                                              // 975
    return this;                                                                                                       // 976
  };                                                                                                                   // 977
  d3_selectionPrototype.empty = function() {                                                                           // 978
    return !this.node();                                                                                               // 979
  };                                                                                                                   // 980
  d3_selectionPrototype.node = function() {                                                                            // 981
    for (var j = 0, m = this.length; j < m; j++) {                                                                     // 982
      for (var group = this[j], i = 0, n = group.length; i < n; i++) {                                                 // 983
        var node = group[i];                                                                                           // 984
        if (node) return node;                                                                                         // 985
      }                                                                                                                // 986
    }                                                                                                                  // 987
    return null;                                                                                                       // 988
  };                                                                                                                   // 989
  d3_selectionPrototype.size = function() {                                                                            // 990
    var n = 0;                                                                                                         // 991
    d3_selection_each(this, function() {                                                                               // 992
      ++n;                                                                                                             // 993
    });                                                                                                                // 994
    return n;                                                                                                          // 995
  };                                                                                                                   // 996
  function d3_selection_enter(selection) {                                                                             // 997
    d3_subclass(selection, d3_selection_enterPrototype);                                                               // 998
    return selection;                                                                                                  // 999
  }                                                                                                                    // 1000
  var d3_selection_enterPrototype = [];                                                                                // 1001
  d3.selection.enter = d3_selection_enter;                                                                             // 1002
  d3.selection.enter.prototype = d3_selection_enterPrototype;                                                          // 1003
  d3_selection_enterPrototype.append = d3_selectionPrototype.append;                                                   // 1004
  d3_selection_enterPrototype.empty = d3_selectionPrototype.empty;                                                     // 1005
  d3_selection_enterPrototype.node = d3_selectionPrototype.node;                                                       // 1006
  d3_selection_enterPrototype.call = d3_selectionPrototype.call;                                                       // 1007
  d3_selection_enterPrototype.size = d3_selectionPrototype.size;                                                       // 1008
  d3_selection_enterPrototype.select = function(selector) {                                                            // 1009
    var subgroups = [], subgroup, subnode, upgroup, group, node;                                                       // 1010
    for (var j = -1, m = this.length; ++j < m; ) {                                                                     // 1011
      upgroup = (group = this[j]).update;                                                                              // 1012
      subgroups.push(subgroup = []);                                                                                   // 1013
      subgroup.parentNode = group.parentNode;                                                                          // 1014
      for (var i = -1, n = group.length; ++i < n; ) {                                                                  // 1015
        if (node = group[i]) {                                                                                         // 1016
          subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i, j));                  // 1017
          subnode.__data__ = node.__data__;                                                                            // 1018
        } else {                                                                                                       // 1019
          subgroup.push(null);                                                                                         // 1020
        }                                                                                                              // 1021
      }                                                                                                                // 1022
    }                                                                                                                  // 1023
    return d3_selection(subgroups);                                                                                    // 1024
  };                                                                                                                   // 1025
  d3_selection_enterPrototype.insert = function(name, before) {                                                        // 1026
    if (arguments.length < 2) before = d3_selection_enterInsertBefore(this);                                           // 1027
    return d3_selectionPrototype.insert.call(this, name, before);                                                      // 1028
  };                                                                                                                   // 1029
  function d3_selection_enterInsertBefore(enter) {                                                                     // 1030
    var i0, j0;                                                                                                        // 1031
    return function(d, i, j) {                                                                                         // 1032
      var group = enter[j].update, n = group.length, node;                                                             // 1033
      if (j != j0) j0 = j, i0 = 0;                                                                                     // 1034
      if (i >= i0) i0 = i + 1;                                                                                         // 1035
      while (!(node = group[i0]) && ++i0 < n) ;                                                                        // 1036
      return node;                                                                                                     // 1037
    };                                                                                                                 // 1038
  }                                                                                                                    // 1039
  d3.select = function(node) {                                                                                         // 1040
    var group;                                                                                                         // 1041
    if (typeof node === "string") {                                                                                    // 1042
      group = [ d3_select(node, d3_document) ];                                                                        // 1043
      group.parentNode = d3_document.documentElement;                                                                  // 1044
    } else {                                                                                                           // 1045
      group = [ node ];                                                                                                // 1046
      group.parentNode = d3_documentElement(node);                                                                     // 1047
    }                                                                                                                  // 1048
    return d3_selection([ group ]);                                                                                    // 1049
  };                                                                                                                   // 1050
  d3.selectAll = function(nodes) {                                                                                     // 1051
    var group;                                                                                                         // 1052
    if (typeof nodes === "string") {                                                                                   // 1053
      group = d3_array(d3_selectAll(nodes, d3_document));                                                              // 1054
      group.parentNode = d3_document.documentElement;                                                                  // 1055
    } else {                                                                                                           // 1056
      group = nodes;                                                                                                   // 1057
      group.parentNode = null;                                                                                         // 1058
    }                                                                                                                  // 1059
    return d3_selection([ group ]);                                                                                    // 1060
  };                                                                                                                   // 1061
  d3_selectionPrototype.on = function(type, listener, capture) {                                                       // 1062
    var n = arguments.length;                                                                                          // 1063
    if (n < 3) {                                                                                                       // 1064
      if (typeof type !== "string") {                                                                                  // 1065
        if (n < 2) listener = false;                                                                                   // 1066
        for (capture in type) this.each(d3_selection_on(capture, type[capture], listener));                            // 1067
        return this;                                                                                                   // 1068
      }                                                                                                                // 1069
      if (n < 2) return (n = this.node()["__on" + type]) && n._;                                                       // 1070
      capture = false;                                                                                                 // 1071
    }                                                                                                                  // 1072
    return this.each(d3_selection_on(type, listener, capture));                                                        // 1073
  };                                                                                                                   // 1074
  function d3_selection_on(type, listener, capture) {                                                                  // 1075
    var name = "__on" + type, i = type.indexOf("."), wrap = d3_selection_onListener;                                   // 1076
    if (i > 0) type = type.slice(0, i);                                                                                // 1077
    var filter = d3_selection_onFilters.get(type);                                                                     // 1078
    if (filter) type = filter, wrap = d3_selection_onFilter;                                                           // 1079
    function onRemove() {                                                                                              // 1080
      var l = this[name];                                                                                              // 1081
      if (l) {                                                                                                         // 1082
        this.removeEventListener(type, l, l.$);                                                                        // 1083
        delete this[name];                                                                                             // 1084
      }                                                                                                                // 1085
    }                                                                                                                  // 1086
    function onAdd() {                                                                                                 // 1087
      var l = wrap(listener, d3_array(arguments));                                                                     // 1088
      onRemove.call(this);                                                                                             // 1089
      this.addEventListener(type, this[name] = l, l.$ = capture);                                                      // 1090
      l._ = listener;                                                                                                  // 1091
    }                                                                                                                  // 1092
    function removeAll() {                                                                                             // 1093
      var re = new RegExp("^__on([^.]+)" + d3.requote(type) + "$"), match;                                             // 1094
      for (var name in this) {                                                                                         // 1095
        if (match = name.match(re)) {                                                                                  // 1096
          var l = this[name];                                                                                          // 1097
          this.removeEventListener(match[1], l, l.$);                                                                  // 1098
          delete this[name];                                                                                           // 1099
        }                                                                                                              // 1100
      }                                                                                                                // 1101
    }                                                                                                                  // 1102
    return i ? listener ? onAdd : onRemove : listener ? d3_noop : removeAll;                                           // 1103
  }                                                                                                                    // 1104
  var d3_selection_onFilters = d3.map({                                                                                // 1105
    mouseenter: "mouseover",                                                                                           // 1106
    mouseleave: "mouseout"                                                                                             // 1107
  });                                                                                                                  // 1108
  if (d3_document) {                                                                                                   // 1109
    d3_selection_onFilters.forEach(function(k) {                                                                       // 1110
      if ("on" + k in d3_document) d3_selection_onFilters.remove(k);                                                   // 1111
    });                                                                                                                // 1112
  }                                                                                                                    // 1113
  function d3_selection_onListener(listener, argumentz) {                                                              // 1114
    return function(e) {                                                                                               // 1115
      var o = d3.event;                                                                                                // 1116
      d3.event = e;                                                                                                    // 1117
      argumentz[0] = this.__data__;                                                                                    // 1118
      try {                                                                                                            // 1119
        listener.apply(this, argumentz);                                                                               // 1120
      } finally {                                                                                                      // 1121
        d3.event = o;                                                                                                  // 1122
      }                                                                                                                // 1123
    };                                                                                                                 // 1124
  }                                                                                                                    // 1125
  function d3_selection_onFilter(listener, argumentz) {                                                                // 1126
    var l = d3_selection_onListener(listener, argumentz);                                                              // 1127
    return function(e) {                                                                                               // 1128
      var target = this, related = e.relatedTarget;                                                                    // 1129
      if (!related || related !== target && !(related.compareDocumentPosition(target) & 8)) {                          // 1130
        l.call(target, e);                                                                                             // 1131
      }                                                                                                                // 1132
    };                                                                                                                 // 1133
  }                                                                                                                    // 1134
  var d3_event_dragSelect, d3_event_dragId = 0;                                                                        // 1135
  function d3_event_dragSuppress(node) {                                                                               // 1136
    var name = ".dragsuppress-" + ++d3_event_dragId, click = "click" + name, w = d3.select(d3_window(node)).on("touchmove" + name, d3_eventPreventDefault).on("dragstart" + name, d3_eventPreventDefault).on("selectstart" + name, d3_eventPreventDefault);
    if (d3_event_dragSelect == null) {                                                                                 // 1138
      d3_event_dragSelect = "onselectstart" in node ? false : d3_vendorSymbol(node.style, "userSelect");               // 1139
    }                                                                                                                  // 1140
    if (d3_event_dragSelect) {                                                                                         // 1141
      var style = d3_documentElement(node).style, select = style[d3_event_dragSelect];                                 // 1142
      style[d3_event_dragSelect] = "none";                                                                             // 1143
    }                                                                                                                  // 1144
    return function(suppressClick) {                                                                                   // 1145
      w.on(name, null);                                                                                                // 1146
      if (d3_event_dragSelect) style[d3_event_dragSelect] = select;                                                    // 1147
      if (suppressClick) {                                                                                             // 1148
        var off = function() {                                                                                         // 1149
          w.on(click, null);                                                                                           // 1150
        };                                                                                                             // 1151
        w.on(click, function() {                                                                                       // 1152
          d3_eventPreventDefault();                                                                                    // 1153
          off();                                                                                                       // 1154
        }, true);                                                                                                      // 1155
        setTimeout(off, 0);                                                                                            // 1156
      }                                                                                                                // 1157
    };                                                                                                                 // 1158
  }                                                                                                                    // 1159
  d3.mouse = function(container) {                                                                                     // 1160
    return d3_mousePoint(container, d3_eventSource());                                                                 // 1161
  };                                                                                                                   // 1162
  var d3_mouse_bug44083 = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;                          // 1163
  function d3_mousePoint(container, e) {                                                                               // 1164
    if (e.changedTouches) e = e.changedTouches[0];                                                                     // 1165
    var svg = container.ownerSVGElement || container;                                                                  // 1166
    if (svg.createSVGPoint) {                                                                                          // 1167
      var point = svg.createSVGPoint();                                                                                // 1168
      if (d3_mouse_bug44083 < 0) {                                                                                     // 1169
        var window = d3_window(container);                                                                             // 1170
        if (window.scrollX || window.scrollY) {                                                                        // 1171
          svg = d3.select("body").append("svg").style({                                                                // 1172
            position: "absolute",                                                                                      // 1173
            top: 0,                                                                                                    // 1174
            left: 0,                                                                                                   // 1175
            margin: 0,                                                                                                 // 1176
            padding: 0,                                                                                                // 1177
            border: "none"                                                                                             // 1178
          }, "important");                                                                                             // 1179
          var ctm = svg[0][0].getScreenCTM();                                                                          // 1180
          d3_mouse_bug44083 = !(ctm.f || ctm.e);                                                                       // 1181
          svg.remove();                                                                                                // 1182
        }                                                                                                              // 1183
      }                                                                                                                // 1184
      if (d3_mouse_bug44083) point.x = e.pageX, point.y = e.pageY; else point.x = e.clientX,                           // 1185
      point.y = e.clientY;                                                                                             // 1186
      point = point.matrixTransform(container.getScreenCTM().inverse());                                               // 1187
      return [ point.x, point.y ];                                                                                     // 1188
    }                                                                                                                  // 1189
    var rect = container.getBoundingClientRect();                                                                      // 1190
    return [ e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop ];               // 1191
  }                                                                                                                    // 1192
  d3.touch = function(container, touches, identifier) {                                                                // 1193
    if (arguments.length < 3) identifier = touches, touches = d3_eventSource().changedTouches;                         // 1194
    if (touches) for (var i = 0, n = touches.length, touch; i < n; ++i) {                                              // 1195
      if ((touch = touches[i]).identifier === identifier) {                                                            // 1196
        return d3_mousePoint(container, touch);                                                                        // 1197
      }                                                                                                                // 1198
    }                                                                                                                  // 1199
  };                                                                                                                   // 1200
  d3.behavior.drag = function() {                                                                                      // 1201
    var event = d3_eventDispatch(drag, "drag", "dragstart", "dragend"), origin = null, mousedown = dragstart(d3_noop, d3.mouse, d3_window, "mousemove", "mouseup"), touchstart = dragstart(d3_behavior_dragTouchId, d3.touch, d3_identity, "touchmove", "touchend");
    function drag() {                                                                                                  // 1203
      this.on("mousedown.drag", mousedown).on("touchstart.drag", touchstart);                                          // 1204
    }                                                                                                                  // 1205
    function dragstart(id, position, subject, move, end) {                                                             // 1206
      return function() {                                                                                              // 1207
        var that = this, target = d3.event.target, parent = that.parentNode, dispatch = event.of(that, arguments), dragged = 0, dragId = id(), dragName = ".drag" + (dragId == null ? "" : "-" + dragId), dragOffset, dragSubject = d3.select(subject(target)).on(move + dragName, moved).on(end + dragName, ended), dragRestore = d3_event_dragSuppress(target), position0 = position(parent, dragId);
        if (origin) {                                                                                                  // 1209
          dragOffset = origin.apply(that, arguments);                                                                  // 1210
          dragOffset = [ dragOffset.x - position0[0], dragOffset.y - position0[1] ];                                   // 1211
        } else {                                                                                                       // 1212
          dragOffset = [ 0, 0 ];                                                                                       // 1213
        }                                                                                                              // 1214
        dispatch({                                                                                                     // 1215
          type: "dragstart"                                                                                            // 1216
        });                                                                                                            // 1217
        function moved() {                                                                                             // 1218
          var position1 = position(parent, dragId), dx, dy;                                                            // 1219
          if (!position1) return;                                                                                      // 1220
          dx = position1[0] - position0[0];                                                                            // 1221
          dy = position1[1] - position0[1];                                                                            // 1222
          dragged |= dx | dy;                                                                                          // 1223
          position0 = position1;                                                                                       // 1224
          dispatch({                                                                                                   // 1225
            type: "drag",                                                                                              // 1226
            x: position1[0] + dragOffset[0],                                                                           // 1227
            y: position1[1] + dragOffset[1],                                                                           // 1228
            dx: dx,                                                                                                    // 1229
            dy: dy                                                                                                     // 1230
          });                                                                                                          // 1231
        }                                                                                                              // 1232
        function ended() {                                                                                             // 1233
          if (!position(parent, dragId)) return;                                                                       // 1234
          dragSubject.on(move + dragName, null).on(end + dragName, null);                                              // 1235
          dragRestore(dragged && d3.event.target === target);                                                          // 1236
          dispatch({                                                                                                   // 1237
            type: "dragend"                                                                                            // 1238
          });                                                                                                          // 1239
        }                                                                                                              // 1240
      };                                                                                                               // 1241
    }                                                                                                                  // 1242
    drag.origin = function(x) {                                                                                        // 1243
      if (!arguments.length) return origin;                                                                            // 1244
      origin = x;                                                                                                      // 1245
      return drag;                                                                                                     // 1246
    };                                                                                                                 // 1247
    return d3.rebind(drag, event, "on");                                                                               // 1248
  };                                                                                                                   // 1249
  function d3_behavior_dragTouchId() {                                                                                 // 1250
    return d3.event.changedTouches[0].identifier;                                                                      // 1251
  }                                                                                                                    // 1252
  d3.touches = function(container, touches) {                                                                          // 1253
    if (arguments.length < 2) touches = d3_eventSource().touches;                                                      // 1254
    return touches ? d3_array(touches).map(function(touch) {                                                           // 1255
      var point = d3_mousePoint(container, touch);                                                                     // 1256
      point.identifier = touch.identifier;                                                                             // 1257
      return point;                                                                                                    // 1258
    }) : [];                                                                                                           // 1259
  };                                                                                                                   // 1260
  var  = 1e-6, 2 =  * ,  = Math.PI,  = 2 * ,  =  - , half =  / 2, d3_radians =  / 180, d3_degrees = 180 / ;
  function d3_sgn(x) {                                                                                                 // 1262
    return x > 0 ? 1 : x < 0 ? -1 : 0;                                                                                 // 1263
  }                                                                                                                    // 1264
  function d3_cross2d(a, b, c) {                                                                                       // 1265
    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);                                              // 1266
  }                                                                                                                    // 1267
  function d3_acos(x) {                                                                                                // 1268
    return x > 1 ? 0 : x < -1 ?  : Math.acos(x);                                                                      // 1269
  }                                                                                                                    // 1270
  function d3_asin(x) {                                                                                                // 1271
    return x > 1 ? half : x < -1 ? -half : Math.asin(x);                                                             // 1272
  }                                                                                                                    // 1273
  function d3_sinh(x) {                                                                                                // 1274
    return ((x = Math.exp(x)) - 1 / x) / 2;                                                                            // 1275
  }                                                                                                                    // 1276
  function d3_cosh(x) {                                                                                                // 1277
    return ((x = Math.exp(x)) + 1 / x) / 2;                                                                            // 1278
  }                                                                                                                    // 1279
  function d3_tanh(x) {                                                                                                // 1280
    return ((x = Math.exp(2 * x)) - 1) / (x + 1);                                                                      // 1281
  }                                                                                                                    // 1282
  function d3_haversin(x) {                                                                                            // 1283
    return (x = Math.sin(x / 2)) * x;                                                                                  // 1284
  }                                                                                                                    // 1285
  var  = Math.SQRT2, 2 = 2, 4 = 4;                                                                                  // 1286
  d3.interpolateZoom = function(p0, p1) {                                                                              // 1287
    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2];                                    // 1288
    var dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + 4 * d2) / (2 * w0 * 2 * d1), b1 = (w1 * w1 - w0 * w0 - 4 * d2) / (2 * w1 * 2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1), dr = r1 - r0, S = (dr || Math.log(w1 / w0)) / ;
    function interpolate(t) {                                                                                          // 1290
      var s = t * S;                                                                                                   // 1291
      if (dr) {                                                                                                        // 1292
        var coshr0 = d3_cosh(r0), u = w0 / (2 * d1) * (coshr0 * d3_tanh( * s + r0) - d3_sinh(r0));                   // 1293
        return [ ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / d3_cosh( * s + r0) ];                                      // 1294
      }                                                                                                                // 1295
      return [ ux0 + t * dx, uy0 + t * dy, w0 * Math.exp( * s) ];                                                     // 1296
    }                                                                                                                  // 1297
    interpolate.duration = S * 1e3;                                                                                    // 1298
    return interpolate;                                                                                                // 1299
  };                                                                                                                   // 1300
  d3.behavior.zoom = function() {                                                                                      // 1301
    var view = {                                                                                                       // 1302
      x: 0,                                                                                                            // 1303
      y: 0,                                                                                                            // 1304
      k: 1                                                                                                             // 1305
    }, translate0, center0, center, size = [ 960, 500 ], scaleExtent = d3_behavior_zoomInfinity, duration = 250, zooming = 0, mousedown = "mousedown.zoom", mousemove = "mousemove.zoom", mouseup = "mouseup.zoom", mousewheelTimer, touchstart = "touchstart.zoom", touchtime, event = d3_eventDispatch(zoom, "zoomstart", "zoom", "zoomend"), x0, x1, y0, y1;
    if (!d3_behavior_zoomWheel) {                                                                                      // 1307
      d3_behavior_zoomWheel = "onwheel" in d3_document ? (d3_behavior_zoomDelta = function() {                         // 1308
        return -d3.event.deltaY * (d3.event.deltaMode ? 120 : 1);                                                      // 1309
      }, "wheel") : "onmousewheel" in d3_document ? (d3_behavior_zoomDelta = function() {                              // 1310
        return d3.event.wheelDelta;                                                                                    // 1311
      }, "mousewheel") : (d3_behavior_zoomDelta = function() {                                                         // 1312
        return -d3.event.detail;                                                                                       // 1313
      }, "MozMousePixelScroll");                                                                                       // 1314
    }                                                                                                                  // 1315
    function zoom(g) {                                                                                                 // 1316
      g.on(mousedown, mousedowned).on(d3_behavior_zoomWheel + ".zoom", mousewheeled).on("dblclick.zoom", dblclicked).on(touchstart, touchstarted);
    }                                                                                                                  // 1318
    zoom.event = function(g) {                                                                                         // 1319
      g.each(function() {                                                                                              // 1320
        var dispatch = event.of(this, arguments), view1 = view;                                                        // 1321
        if (d3_transitionInheritId) {                                                                                  // 1322
          d3.select(this).transition().each("start.zoom", function() {                                                 // 1323
            view = this.__chart__ || {                                                                                 // 1324
              x: 0,                                                                                                    // 1325
              y: 0,                                                                                                    // 1326
              k: 1                                                                                                     // 1327
            };                                                                                                         // 1328
            zoomstarted(dispatch);                                                                                     // 1329
          }).tween("zoom:zoom", function() {                                                                           // 1330
            var dx = size[0], dy = size[1], cx = center0 ? center0[0] : dx / 2, cy = center0 ? center0[1] : dy / 2, i = d3.interpolateZoom([ (cx - view.x) / view.k, (cy - view.y) / view.k, dx / view.k ], [ (cx - view1.x) / view1.k, (cy - view1.y) / view1.k, dx / view1.k ]);
            return function(t) {                                                                                       // 1332
              var l = i(t), k = dx / l[2];                                                                             // 1333
              this.__chart__ = view = {                                                                                // 1334
                x: cx - l[0] * k,                                                                                      // 1335
                y: cy - l[1] * k,                                                                                      // 1336
                k: k                                                                                                   // 1337
              };                                                                                                       // 1338
              zoomed(dispatch);                                                                                        // 1339
            };                                                                                                         // 1340
          }).each("interrupt.zoom", function() {                                                                       // 1341
            zoomended(dispatch);                                                                                       // 1342
          }).each("end.zoom", function() {                                                                             // 1343
            zoomended(dispatch);                                                                                       // 1344
          });                                                                                                          // 1345
        } else {                                                                                                       // 1346
          this.__chart__ = view;                                                                                       // 1347
          zoomstarted(dispatch);                                                                                       // 1348
          zoomed(dispatch);                                                                                            // 1349
          zoomended(dispatch);                                                                                         // 1350
        }                                                                                                              // 1351
      });                                                                                                              // 1352
    };                                                                                                                 // 1353
    zoom.translate = function(_) {                                                                                     // 1354
      if (!arguments.length) return [ view.x, view.y ];                                                                // 1355
      view = {                                                                                                         // 1356
        x: +_[0],                                                                                                      // 1357
        y: +_[1],                                                                                                      // 1358
        k: view.k                                                                                                      // 1359
      };                                                                                                               // 1360
      rescale();                                                                                                       // 1361
      return zoom;                                                                                                     // 1362
    };                                                                                                                 // 1363
    zoom.scale = function(_) {                                                                                         // 1364
      if (!arguments.length) return view.k;                                                                            // 1365
      view = {                                                                                                         // 1366
        x: view.x,                                                                                                     // 1367
        y: view.y,                                                                                                     // 1368
        k: +_                                                                                                          // 1369
      };                                                                                                               // 1370
      rescale();                                                                                                       // 1371
      return zoom;                                                                                                     // 1372
    };                                                                                                                 // 1373
    zoom.scaleExtent = function(_) {                                                                                   // 1374
      if (!arguments.length) return scaleExtent;                                                                       // 1375
      scaleExtent = _ == null ? d3_behavior_zoomInfinity : [ +_[0], +_[1] ];                                           // 1376
      return zoom;                                                                                                     // 1377
    };                                                                                                                 // 1378
    zoom.center = function(_) {                                                                                        // 1379
      if (!arguments.length) return center;                                                                            // 1380
      center = _ && [ +_[0], +_[1] ];                                                                                  // 1381
      return zoom;                                                                                                     // 1382
    };                                                                                                                 // 1383
    zoom.size = function(_) {                                                                                          // 1384
      if (!arguments.length) return size;                                                                              // 1385
      size = _ && [ +_[0], +_[1] ];                                                                                    // 1386
      return zoom;                                                                                                     // 1387
    };                                                                                                                 // 1388
    zoom.duration = function(_) {                                                                                      // 1389
      if (!arguments.length) return duration;                                                                          // 1390
      duration = +_;                                                                                                   // 1391
      return zoom;                                                                                                     // 1392
    };                                                                                                                 // 1393
    zoom.x = function(z) {                                                                                             // 1394
      if (!arguments.length) return x1;                                                                                // 1395
      x1 = z;                                                                                                          // 1396
      x0 = z.copy();                                                                                                   // 1397
      view = {                                                                                                         // 1398
        x: 0,                                                                                                          // 1399
        y: 0,                                                                                                          // 1400
        k: 1                                                                                                           // 1401
      };                                                                                                               // 1402
      return zoom;                                                                                                     // 1403
    };                                                                                                                 // 1404
    zoom.y = function(z) {                                                                                             // 1405
      if (!arguments.length) return y1;                                                                                // 1406
      y1 = z;                                                                                                          // 1407
      y0 = z.copy();                                                                                                   // 1408
      view = {                                                                                                         // 1409
        x: 0,                                                                                                          // 1410
        y: 0,                                                                                                          // 1411
        k: 1                                                                                                           // 1412
      };                                                                                                               // 1413
      return zoom;                                                                                                     // 1414
    };                                                                                                                 // 1415
    function location(p) {                                                                                             // 1416
      return [ (p[0] - view.x) / view.k, (p[1] - view.y) / view.k ];                                                   // 1417
    }                                                                                                                  // 1418
    function point(l) {                                                                                                // 1419
      return [ l[0] * view.k + view.x, l[1] * view.k + view.y ];                                                       // 1420
    }                                                                                                                  // 1421
    function scaleTo(s) {                                                                                              // 1422
      view.k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s));                                                  // 1423
    }                                                                                                                  // 1424
    function translateTo(p, l) {                                                                                       // 1425
      l = point(l);                                                                                                    // 1426
      view.x += p[0] - l[0];                                                                                           // 1427
      view.y += p[1] - l[1];                                                                                           // 1428
    }                                                                                                                  // 1429
    function zoomTo(that, p, l, k) {                                                                                   // 1430
      that.__chart__ = {                                                                                               // 1431
        x: view.x,                                                                                                     // 1432
        y: view.y,                                                                                                     // 1433
        k: view.k                                                                                                      // 1434
      };                                                                                                               // 1435
      scaleTo(Math.pow(2, k));                                                                                         // 1436
      translateTo(center0 = p, l);                                                                                     // 1437
      that = d3.select(that);                                                                                          // 1438
      if (duration > 0) that = that.transition().duration(duration);                                                   // 1439
      that.call(zoom.event);                                                                                           // 1440
    }                                                                                                                  // 1441
    function rescale() {                                                                                               // 1442
      if (x1) x1.domain(x0.range().map(function(x) {                                                                   // 1443
        return (x - view.x) / view.k;                                                                                  // 1444
      }).map(x0.invert));                                                                                              // 1445
      if (y1) y1.domain(y0.range().map(function(y) {                                                                   // 1446
        return (y - view.y) / view.k;                                                                                  // 1447
      }).map(y0.invert));                                                                                              // 1448
    }                                                                                                                  // 1449
    function zoomstarted(dispatch) {                                                                                   // 1450
      if (!zooming++) dispatch({                                                                                       // 1451
        type: "zoomstart"                                                                                              // 1452
      });                                                                                                              // 1453
    }                                                                                                                  // 1454
    function zoomed(dispatch) {                                                                                        // 1455
      rescale();                                                                                                       // 1456
      dispatch({                                                                                                       // 1457
        type: "zoom",                                                                                                  // 1458
        scale: view.k,                                                                                                 // 1459
        translate: [ view.x, view.y ]                                                                                  // 1460
      });                                                                                                              // 1461
    }                                                                                                                  // 1462
    function zoomended(dispatch) {                                                                                     // 1463
      if (!--zooming) dispatch({                                                                                       // 1464
        type: "zoomend"                                                                                                // 1465
      });                                                                                                              // 1466
      center0 = null;                                                                                                  // 1467
    }                                                                                                                  // 1468
    function mousedowned() {                                                                                           // 1469
      var that = this, target = d3.event.target, dispatch = event.of(that, arguments), dragged = 0, subject = d3.select(d3_window(that)).on(mousemove, moved).on(mouseup, ended), location0 = location(d3.mouse(that)), dragRestore = d3_event_dragSuppress(that);
      d3_selection_interrupt.call(that);                                                                               // 1471
      zoomstarted(dispatch);                                                                                           // 1472
      function moved() {                                                                                               // 1473
        dragged = 1;                                                                                                   // 1474
        translateTo(d3.mouse(that), location0);                                                                        // 1475
        zoomed(dispatch);                                                                                              // 1476
      }                                                                                                                // 1477
      function ended() {                                                                                               // 1478
        subject.on(mousemove, null).on(mouseup, null);                                                                 // 1479
        dragRestore(dragged && d3.event.target === target);                                                            // 1480
        zoomended(dispatch);                                                                                           // 1481
      }                                                                                                                // 1482
    }                                                                                                                  // 1483
    function touchstarted() {                                                                                          // 1484
      var that = this, dispatch = event.of(that, arguments), locations0 = {}, distance0 = 0, scale0, zoomName = ".zoom-" + d3.event.changedTouches[0].identifier, touchmove = "touchmove" + zoomName, touchend = "touchend" + zoomName, targets = [], subject = d3.select(that), dragRestore = d3_event_dragSuppress(that);
      started();                                                                                                       // 1486
      zoomstarted(dispatch);                                                                                           // 1487
      subject.on(mousedown, null).on(touchstart, started);                                                             // 1488
      function relocate() {                                                                                            // 1489
        var touches = d3.touches(that);                                                                                // 1490
        scale0 = view.k;                                                                                               // 1491
        touches.forEach(function(t) {                                                                                  // 1492
          if (t.identifier in locations0) locations0[t.identifier] = location(t);                                      // 1493
        });                                                                                                            // 1494
        return touches;                                                                                                // 1495
      }                                                                                                                // 1496
      function started() {                                                                                             // 1497
        var target = d3.event.target;                                                                                  // 1498
        d3.select(target).on(touchmove, moved).on(touchend, ended);                                                    // 1499
        targets.push(target);                                                                                          // 1500
        var changed = d3.event.changedTouches;                                                                         // 1501
        for (var i = 0, n = changed.length; i < n; ++i) {                                                              // 1502
          locations0[changed[i].identifier] = null;                                                                    // 1503
        }                                                                                                              // 1504
        var touches = relocate(), now = Date.now();                                                                    // 1505
        if (touches.length === 1) {                                                                                    // 1506
          if (now - touchtime < 500) {                                                                                 // 1507
            var p = touches[0];                                                                                        // 1508
            zoomTo(that, p, locations0[p.identifier], Math.floor(Math.log(view.k) / Math.LN2) + 1);                    // 1509
            d3_eventPreventDefault();                                                                                  // 1510
          }                                                                                                            // 1511
          touchtime = now;                                                                                             // 1512
        } else if (touches.length > 1) {                                                                               // 1513
          var p = touches[0], q = touches[1], dx = p[0] - q[0], dy = p[1] - q[1];                                      // 1514
          distance0 = dx * dx + dy * dy;                                                                               // 1515
        }                                                                                                              // 1516
      }                                                                                                                // 1517
      function moved() {                                                                                               // 1518
        var touches = d3.touches(that), p0, l0, p1, l1;                                                                // 1519
        d3_selection_interrupt.call(that);                                                                             // 1520
        for (var i = 0, n = touches.length; i < n; ++i, l1 = null) {                                                   // 1521
          p1 = touches[i];                                                                                             // 1522
          if (l1 = locations0[p1.identifier]) {                                                                        // 1523
            if (l0) break;                                                                                             // 1524
            p0 = p1, l0 = l1;                                                                                          // 1525
          }                                                                                                            // 1526
        }                                                                                                              // 1527
        if (l1) {                                                                                                      // 1528
          var distance1 = (distance1 = p1[0] - p0[0]) * distance1 + (distance1 = p1[1] - p0[1]) * distance1, scale1 = distance0 && Math.sqrt(distance1 / distance0);
          p0 = [ (p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2 ];                                                           // 1530
          l0 = [ (l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2 ];                                                           // 1531
          scaleTo(scale1 * scale0);                                                                                    // 1532
        }                                                                                                              // 1533
        touchtime = null;                                                                                              // 1534
        translateTo(p0, l0);                                                                                           // 1535
        zoomed(dispatch);                                                                                              // 1536
      }                                                                                                                // 1537
      function ended() {                                                                                               // 1538
        if (d3.event.touches.length) {                                                                                 // 1539
          var changed = d3.event.changedTouches;                                                                       // 1540
          for (var i = 0, n = changed.length; i < n; ++i) {                                                            // 1541
            delete locations0[changed[i].identifier];                                                                  // 1542
          }                                                                                                            // 1543
          for (var identifier in locations0) {                                                                         // 1544
            return void relocate();                                                                                    // 1545
          }                                                                                                            // 1546
        }                                                                                                              // 1547
        d3.selectAll(targets).on(zoomName, null);                                                                      // 1548
        subject.on(mousedown, mousedowned).on(touchstart, touchstarted);                                               // 1549
        dragRestore();                                                                                                 // 1550
        zoomended(dispatch);                                                                                           // 1551
      }                                                                                                                // 1552
    }                                                                                                                  // 1553
    function mousewheeled() {                                                                                          // 1554
      var dispatch = event.of(this, arguments);                                                                        // 1555
      if (mousewheelTimer) clearTimeout(mousewheelTimer); else translate0 = location(center0 = center || d3.mouse(this)), 
      d3_selection_interrupt.call(this), zoomstarted(dispatch);                                                        // 1557
      mousewheelTimer = setTimeout(function() {                                                                        // 1558
        mousewheelTimer = null;                                                                                        // 1559
        zoomended(dispatch);                                                                                           // 1560
      }, 50);                                                                                                          // 1561
      d3_eventPreventDefault();                                                                                        // 1562
      scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * view.k);                                                   // 1563
      translateTo(center0, translate0);                                                                                // 1564
      zoomed(dispatch);                                                                                                // 1565
    }                                                                                                                  // 1566
    function dblclicked() {                                                                                            // 1567
      var p = d3.mouse(this), k = Math.log(view.k) / Math.LN2;                                                         // 1568
      zoomTo(this, p, location(p), d3.event.shiftKey ? Math.ceil(k) - 1 : Math.floor(k) + 1);                          // 1569
    }                                                                                                                  // 1570
    return d3.rebind(zoom, event, "on");                                                                               // 1571
  };                                                                                                                   // 1572
  var d3_behavior_zoomInfinity = [ 0, Infinity ], d3_behavior_zoomDelta, d3_behavior_zoomWheel;                        // 1573
  d3.color = d3_color;                                                                                                 // 1574
  function d3_color() {}                                                                                               // 1575
  d3_color.prototype.toString = function() {                                                                           // 1576
    return this.rgb() + "";                                                                                            // 1577
  };                                                                                                                   // 1578
  d3.hsl = d3_hsl;                                                                                                     // 1579
  function d3_hsl(h, s, l) {                                                                                           // 1580
    return this instanceof d3_hsl ? void (this.h = +h, this.s = +s, this.l = +l) : arguments.length < 2 ? h instanceof d3_hsl ? new d3_hsl(h.h, h.s, h.l) : d3_rgb_parse("" + h, d3_rgb_hsl, d3_hsl) : new d3_hsl(h, s, l);
  }                                                                                                                    // 1582
  var d3_hslPrototype = d3_hsl.prototype = new d3_color();                                                             // 1583
  d3_hslPrototype.brighter = function(k) {                                                                             // 1584
    k = Math.pow(.7, arguments.length ? k : 1);                                                                        // 1585
    return new d3_hsl(this.h, this.s, this.l / k);                                                                     // 1586
  };                                                                                                                   // 1587
  d3_hslPrototype.darker = function(k) {                                                                               // 1588
    k = Math.pow(.7, arguments.length ? k : 1);                                                                        // 1589
    return new d3_hsl(this.h, this.s, k * this.l);                                                                     // 1590
  };                                                                                                                   // 1591
  d3_hslPrototype.rgb = function() {                                                                                   // 1592
    return d3_hsl_rgb(this.h, this.s, this.l);                                                                         // 1593
  };                                                                                                                   // 1594
  function d3_hsl_rgb(h, s, l) {                                                                                       // 1595
    var m1, m2;                                                                                                        // 1596
    h = isNaN(h) ? 0 : (h %= 360) < 0 ? h + 360 : h;                                                                   // 1597
    s = isNaN(s) ? 0 : s < 0 ? 0 : s > 1 ? 1 : s;                                                                      // 1598
    l = l < 0 ? 0 : l > 1 ? 1 : l;                                                                                     // 1599
    m2 = l <= .5 ? l * (1 + s) : l + s - l * s;                                                                        // 1600
    m1 = 2 * l - m2;                                                                                                   // 1601
    function v(h) {                                                                                                    // 1602
      if (h > 360) h -= 360; else if (h < 0) h += 360;                                                                 // 1603
      if (h < 60) return m1 + (m2 - m1) * h / 60;                                                                      // 1604
      if (h < 180) return m2;                                                                                          // 1605
      if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60;                                                             // 1606
      return m1;                                                                                                       // 1607
    }                                                                                                                  // 1608
    function vv(h) {                                                                                                   // 1609
      return Math.round(v(h) * 255);                                                                                   // 1610
    }                                                                                                                  // 1611
    return new d3_rgb(vv(h + 120), vv(h), vv(h - 120));                                                                // 1612
  }                                                                                                                    // 1613
  d3.hcl = d3_hcl;                                                                                                     // 1614
  function d3_hcl(h, c, l) {                                                                                           // 1615
    return this instanceof d3_hcl ? void (this.h = +h, this.c = +c, this.l = +l) : arguments.length < 2 ? h instanceof d3_hcl ? new d3_hcl(h.h, h.c, h.l) : h instanceof d3_lab ? d3_lab_hcl(h.l, h.a, h.b) : d3_lab_hcl((h = d3_rgb_lab((h = d3.rgb(h)).r, h.g, h.b)).l, h.a, h.b) : new d3_hcl(h, c, l);
  }                                                                                                                    // 1617
  var d3_hclPrototype = d3_hcl.prototype = new d3_color();                                                             // 1618
  d3_hclPrototype.brighter = function(k) {                                                                             // 1619
    return new d3_hcl(this.h, this.c, Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)));                  // 1620
  };                                                                                                                   // 1621
  d3_hclPrototype.darker = function(k) {                                                                               // 1622
    return new d3_hcl(this.h, this.c, Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)));                    // 1623
  };                                                                                                                   // 1624
  d3_hclPrototype.rgb = function() {                                                                                   // 1625
    return d3_hcl_lab(this.h, this.c, this.l).rgb();                                                                   // 1626
  };                                                                                                                   // 1627
  function d3_hcl_lab(h, c, l) {                                                                                       // 1628
    if (isNaN(h)) h = 0;                                                                                               // 1629
    if (isNaN(c)) c = 0;                                                                                               // 1630
    return new d3_lab(l, Math.cos(h *= d3_radians) * c, Math.sin(h) * c);                                              // 1631
  }                                                                                                                    // 1632
  d3.lab = d3_lab;                                                                                                     // 1633
  function d3_lab(l, a, b) {                                                                                           // 1634
    return this instanceof d3_lab ? void (this.l = +l, this.a = +a, this.b = +b) : arguments.length < 2 ? l instanceof d3_lab ? new d3_lab(l.l, l.a, l.b) : l instanceof d3_hcl ? d3_hcl_lab(l.h, l.c, l.l) : d3_rgb_lab((l = d3_rgb(l)).r, l.g, l.b) : new d3_lab(l, a, b);
  }                                                                                                                    // 1636
  var d3_lab_K = 18;                                                                                                   // 1637
  var d3_lab_X = .95047, d3_lab_Y = 1, d3_lab_Z = 1.08883;                                                             // 1638
  var d3_labPrototype = d3_lab.prototype = new d3_color();                                                             // 1639
  d3_labPrototype.brighter = function(k) {                                                                             // 1640
    return new d3_lab(Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);                  // 1641
  };                                                                                                                   // 1642
  d3_labPrototype.darker = function(k) {                                                                               // 1643
    return new d3_lab(Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);                    // 1644
  };                                                                                                                   // 1645
  d3_labPrototype.rgb = function() {                                                                                   // 1646
    return d3_lab_rgb(this.l, this.a, this.b);                                                                         // 1647
  };                                                                                                                   // 1648
  function d3_lab_rgb(l, a, b) {                                                                                       // 1649
    var y = (l + 16) / 116, x = y + a / 500, z = y - b / 200;                                                          // 1650
    x = d3_lab_xyz(x) * d3_lab_X;                                                                                      // 1651
    y = d3_lab_xyz(y) * d3_lab_Y;                                                                                      // 1652
    z = d3_lab_xyz(z) * d3_lab_Z;                                                                                      // 1653
    return new d3_rgb(d3_xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z), d3_xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z), d3_xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z));
  }                                                                                                                    // 1655
  function d3_lab_hcl(l, a, b) {                                                                                       // 1656
    return l > 0 ? new d3_hcl(Math.atan2(b, a) * d3_degrees, Math.sqrt(a * a + b * b), l) : new d3_hcl(NaN, NaN, l);   // 1657
  }                                                                                                                    // 1658
  function d3_lab_xyz(x) {                                                                                             // 1659
    return x > .206893034 ? x * x * x : (x - 4 / 29) / 7.787037;                                                       // 1660
  }                                                                                                                    // 1661
  function d3_xyz_lab(x) {                                                                                             // 1662
    return x > .008856 ? Math.pow(x, 1 / 3) : 7.787037 * x + 4 / 29;                                                   // 1663
  }                                                                                                                    // 1664
  function d3_xyz_rgb(r) {                                                                                             // 1665
    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));                          // 1666
  }                                                                                                                    // 1667
  d3.rgb = d3_rgb;                                                                                                     // 1668
  function d3_rgb(r, g, b) {                                                                                           // 1669
    return this instanceof d3_rgb ? void (this.r = ~~r, this.g = ~~g, this.b = ~~b) : arguments.length < 2 ? r instanceof d3_rgb ? new d3_rgb(r.r, r.g, r.b) : d3_rgb_parse("" + r, d3_rgb, d3_hsl_rgb) : new d3_rgb(r, g, b);
  }                                                                                                                    // 1671
  function d3_rgbNumber(value) {                                                                                       // 1672
    return new d3_rgb(value >> 16, value >> 8 & 255, value & 255);                                                     // 1673
  }                                                                                                                    // 1674
  function d3_rgbString(value) {                                                                                       // 1675
    return d3_rgbNumber(value) + "";                                                                                   // 1676
  }                                                                                                                    // 1677
  var d3_rgbPrototype = d3_rgb.prototype = new d3_color();                                                             // 1678
  d3_rgbPrototype.brighter = function(k) {                                                                             // 1679
    k = Math.pow(.7, arguments.length ? k : 1);                                                                        // 1680
    var r = this.r, g = this.g, b = this.b, i = 30;                                                                    // 1681
    if (!r && !g && !b) return new d3_rgb(i, i, i);                                                                    // 1682
    if (r && r < i) r = i;                                                                                             // 1683
    if (g && g < i) g = i;                                                                                             // 1684
    if (b && b < i) b = i;                                                                                             // 1685
    return new d3_rgb(Math.min(255, r / k), Math.min(255, g / k), Math.min(255, b / k));                               // 1686
  };                                                                                                                   // 1687
  d3_rgbPrototype.darker = function(k) {                                                                               // 1688
    k = Math.pow(.7, arguments.length ? k : 1);                                                                        // 1689
    return new d3_rgb(k * this.r, k * this.g, k * this.b);                                                             // 1690
  };                                                                                                                   // 1691
  d3_rgbPrototype.hsl = function() {                                                                                   // 1692
    return d3_rgb_hsl(this.r, this.g, this.b);                                                                         // 1693
  };                                                                                                                   // 1694
  d3_rgbPrototype.toString = function() {                                                                              // 1695
    return "#" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b);                                         // 1696
  };                                                                                                                   // 1697
  function d3_rgb_hex(v) {                                                                                             // 1698
    return v < 16 ? "0" + Math.max(0, v).toString(16) : Math.min(255, v).toString(16);                                 // 1699
  }                                                                                                                    // 1700
  function d3_rgb_parse(format, rgb, hsl) {                                                                            // 1701
    var r = 0, g = 0, b = 0, m1, m2, color;                                                                            // 1702
    m1 = /([a-z]+)\((.*)\)/i.exec(format);                                                                             // 1703
    if (m1) {                                                                                                          // 1704
      m2 = m1[2].split(",");                                                                                           // 1705
      switch (m1[1]) {                                                                                                 // 1706
       case "hsl":                                                                                                     // 1707
        {                                                                                                              // 1708
          return hsl(parseFloat(m2[0]), parseFloat(m2[1]) / 100, parseFloat(m2[2]) / 100);                             // 1709
        }                                                                                                              // 1710
                                                                                                                       // 1711
       case "rgb":                                                                                                     // 1712
        {                                                                                                              // 1713
          return rgb(d3_rgb_parseNumber(m2[0]), d3_rgb_parseNumber(m2[1]), d3_rgb_parseNumber(m2[2]));                 // 1714
        }                                                                                                              // 1715
      }                                                                                                                // 1716
    }                                                                                                                  // 1717
    if (color = d3_rgb_names.get(format.toLowerCase())) {                                                              // 1718
      return rgb(color.r, color.g, color.b);                                                                           // 1719
    }                                                                                                                  // 1720
    if (format != null && format.charAt(0) === "#" && !isNaN(color = parseInt(format.slice(1), 16))) {                 // 1721
      if (format.length === 4) {                                                                                       // 1722
        r = (color & 3840) >> 4;                                                                                       // 1723
        r = r >> 4 | r;                                                                                                // 1724
        g = color & 240;                                                                                               // 1725
        g = g >> 4 | g;                                                                                                // 1726
        b = color & 15;                                                                                                // 1727
        b = b << 4 | b;                                                                                                // 1728
      } else if (format.length === 7) {                                                                                // 1729
        r = (color & 16711680) >> 16;                                                                                  // 1730
        g = (color & 65280) >> 8;                                                                                      // 1731
        b = color & 255;                                                                                               // 1732
      }                                                                                                                // 1733
    }                                                                                                                  // 1734
    return rgb(r, g, b);                                                                                               // 1735
  }                                                                                                                    // 1736
  function d3_rgb_hsl(r, g, b) {                                                                                       // 1737
    var min = Math.min(r /= 255, g /= 255, b /= 255), max = Math.max(r, g, b), d = max - min, h, s, l = (max + min) / 2;
    if (d) {                                                                                                           // 1739
      s = l < .5 ? d / (max + min) : d / (2 - max - min);                                                              // 1740
      if (r == max) h = (g - b) / d + (g < b ? 6 : 0); else if (g == max) h = (b - r) / d + 2; else h = (r - g) / d + 4;
      h *= 60;                                                                                                         // 1742
    } else {                                                                                                           // 1743
      h = NaN;                                                                                                         // 1744
      s = l > 0 && l < 1 ? 0 : h;                                                                                      // 1745
    }                                                                                                                  // 1746
    return new d3_hsl(h, s, l);                                                                                        // 1747
  }                                                                                                                    // 1748
  function d3_rgb_lab(r, g, b) {                                                                                       // 1749
    r = d3_rgb_xyz(r);                                                                                                 // 1750
    g = d3_rgb_xyz(g);                                                                                                 // 1751
    b = d3_rgb_xyz(b);                                                                                                 // 1752
    var x = d3_xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / d3_lab_X), y = d3_xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / d3_lab_Y), z = d3_xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / d3_lab_Z);
    return d3_lab(116 * y - 16, 500 * (x - y), 200 * (y - z));                                                         // 1754
  }                                                                                                                    // 1755
  function d3_rgb_xyz(r) {                                                                                             // 1756
    return (r /= 255) <= .04045 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4);                                       // 1757
  }                                                                                                                    // 1758
  function d3_rgb_parseNumber(c) {                                                                                     // 1759
    var f = parseFloat(c);                                                                                             // 1760
    return c.charAt(c.length - 1) === "%" ? Math.round(f * 2.55) : f;                                                  // 1761
  }                                                                                                                    // 1762
  var d3_rgb_names = d3.map({                                                                                          // 1763
    aliceblue: 15792383,                                                                                               // 1764
    antiquewhite: 16444375,                                                                                            // 1765
    aqua: 65535,                                                                                                       // 1766
    aquamarine: 8388564,                                                                                               // 1767
    azure: 15794175,                                                                                                   // 1768
    beige: 16119260,                                                                                                   // 1769
    bisque: 16770244,                                                                                                  // 1770
    black: 0,                                                                                                          // 1771
    blanchedalmond: 16772045,                                                                                          // 1772
    blue: 255,                                                                                                         // 1773
    blueviolet: 9055202,                                                                                               // 1774
    brown: 10824234,                                                                                                   // 1775
    burlywood: 14596231,                                                                                               // 1776
    cadetblue: 6266528,                                                                                                // 1777
    chartreuse: 8388352,                                                                                               // 1778
    chocolate: 13789470,                                                                                               // 1779
    coral: 16744272,                                                                                                   // 1780
    cornflowerblue: 6591981,                                                                                           // 1781
    cornsilk: 16775388,                                                                                                // 1782
    crimson: 14423100,                                                                                                 // 1783
    cyan: 65535,                                                                                                       // 1784
    darkblue: 139,                                                                                                     // 1785
    darkcyan: 35723,                                                                                                   // 1786
    darkgoldenrod: 12092939,                                                                                           // 1787
    darkgray: 11119017,                                                                                                // 1788
    darkgreen: 25600,                                                                                                  // 1789
    darkgrey: 11119017,                                                                                                // 1790
    darkkhaki: 12433259,                                                                                               // 1791
    darkmagenta: 9109643,                                                                                              // 1792
    darkolivegreen: 5597999,                                                                                           // 1793
    darkorange: 16747520,                                                                                              // 1794
    darkorchid: 10040012,                                                                                              // 1795
    darkred: 9109504,                                                                                                  // 1796
    darksalmon: 15308410,                                                                                              // 1797
    darkseagreen: 9419919,                                                                                             // 1798
    darkslateblue: 4734347,                                                                                            // 1799
    darkslategray: 3100495,                                                                                            // 1800
    darkslategrey: 3100495,                                                                                            // 1801
    darkturquoise: 52945,                                                                                              // 1802
    darkviolet: 9699539,                                                                                               // 1803
    deeppink: 16716947,                                                                                                // 1804
    deepskyblue: 49151,                                                                                                // 1805
    dimgray: 6908265,                                                                                                  // 1806
    dimgrey: 6908265,                                                                                                  // 1807
    dodgerblue: 2003199,                                                                                               // 1808
    firebrick: 11674146,                                                                                               // 1809
    floralwhite: 16775920,                                                                                             // 1810
    forestgreen: 2263842,                                                                                              // 1811
    fuchsia: 16711935,                                                                                                 // 1812
    gainsboro: 14474460,                                                                                               // 1813
    ghostwhite: 16316671,                                                                                              // 1814
    gold: 16766720,                                                                                                    // 1815
    goldenrod: 14329120,                                                                                               // 1816
    gray: 8421504,                                                                                                     // 1817
    green: 32768,                                                                                                      // 1818
    greenyellow: 11403055,                                                                                             // 1819
    grey: 8421504,                                                                                                     // 1820
    honeydew: 15794160,                                                                                                // 1821
    hotpink: 16738740,                                                                                                 // 1822
    indianred: 13458524,                                                                                               // 1823
    indigo: 4915330,                                                                                                   // 1824
    ivory: 16777200,                                                                                                   // 1825
    khaki: 15787660,                                                                                                   // 1826
    lavender: 15132410,                                                                                                // 1827
    lavenderblush: 16773365,                                                                                           // 1828
    lawngreen: 8190976,                                                                                                // 1829
    lemonchiffon: 16775885,                                                                                            // 1830
    lightblue: 11393254,                                                                                               // 1831
    lightcoral: 15761536,                                                                                              // 1832
    lightcyan: 14745599,                                                                                               // 1833
    lightgoldenrodyellow: 16448210,                                                                                    // 1834
    lightgray: 13882323,                                                                                               // 1835
    lightgreen: 9498256,                                                                                               // 1836
    lightgrey: 13882323,                                                                                               // 1837
    lightpink: 16758465,                                                                                               // 1838
    lightsalmon: 16752762,                                                                                             // 1839
    lightseagreen: 2142890,                                                                                            // 1840
    lightskyblue: 8900346,                                                                                             // 1841
    lightslategray: 7833753,                                                                                           // 1842
    lightslategrey: 7833753,                                                                                           // 1843
    lightsteelblue: 11584734,                                                                                          // 1844
    lightyellow: 16777184,                                                                                             // 1845
    lime: 65280,                                                                                                       // 1846
    limegreen: 3329330,                                                                                                // 1847
    linen: 16445670,                                                                                                   // 1848
    magenta: 16711935,                                                                                                 // 1849
    maroon: 8388608,                                                                                                   // 1850
    mediumaquamarine: 6737322,                                                                                         // 1851
    mediumblue: 205,                                                                                                   // 1852
    mediumorchid: 12211667,                                                                                            // 1853
    mediumpurple: 9662683,                                                                                             // 1854
    mediumseagreen: 3978097,                                                                                           // 1855
    mediumslateblue: 8087790,                                                                                          // 1856
    mediumspringgreen: 64154,                                                                                          // 1857
    mediumturquoise: 4772300,                                                                                          // 1858
    mediumvioletred: 13047173,                                                                                         // 1859
    midnightblue: 1644912,                                                                                             // 1860
    mintcream: 16121850,                                                                                               // 1861
    mistyrose: 16770273,                                                                                               // 1862
    moccasin: 16770229,                                                                                                // 1863
    navajowhite: 16768685,                                                                                             // 1864
    navy: 128,                                                                                                         // 1865
    oldlace: 16643558,                                                                                                 // 1866
    olive: 8421376,                                                                                                    // 1867
    olivedrab: 7048739,                                                                                                // 1868
    orange: 16753920,                                                                                                  // 1869
    orangered: 16729344,                                                                                               // 1870
    orchid: 14315734,                                                                                                  // 1871
    palegoldenrod: 15657130,                                                                                           // 1872
    palegreen: 10025880,                                                                                               // 1873
    paleturquoise: 11529966,                                                                                           // 1874
    palevioletred: 14381203,                                                                                           // 1875
    papayawhip: 16773077,                                                                                              // 1876
    peachpuff: 16767673,                                                                                               // 1877
    peru: 13468991,                                                                                                    // 1878
    pink: 16761035,                                                                                                    // 1879
    plum: 14524637,                                                                                                    // 1880
    powderblue: 11591910,                                                                                              // 1881
    purple: 8388736,                                                                                                   // 1882
    rebeccapurple: 6697881,                                                                                            // 1883
    red: 16711680,                                                                                                     // 1884
    rosybrown: 12357519,                                                                                               // 1885
    royalblue: 4286945,                                                                                                // 1886
    saddlebrown: 9127187,                                                                                              // 1887
    salmon: 16416882,                                                                                                  // 1888
    sandybrown: 16032864,                                                                                              // 1889
    seagreen: 3050327,                                                                                                 // 1890
    seashell: 16774638,                                                                                                // 1891
    sienna: 10506797,                                                                                                  // 1892
    silver: 12632256,                                                                                                  // 1893
    skyblue: 8900331,                                                                                                  // 1894
    slateblue: 6970061,                                                                                                // 1895
    slategray: 7372944,                                                                                                // 1896
    slategrey: 7372944,                                                                                                // 1897
    snow: 16775930,                                                                                                    // 1898
    springgreen: 65407,                                                                                                // 1899
    steelblue: 4620980,                                                                                                // 1900
    tan: 13808780,                                                                                                     // 1901
    teal: 32896,                                                                                                       // 1902
    thistle: 14204888,                                                                                                 // 1903
    tomato: 16737095,                                                                                                  // 1904
    turquoise: 4251856,                                                                                                // 1905
    violet: 15631086,                                                                                                  // 1906
    wheat: 16113331,                                                                                                   // 1907
    white: 16777215,                                                                                                   // 1908
    whitesmoke: 16119285,                                                                                              // 1909
    yellow: 16776960,                                                                                                  // 1910
    yellowgreen: 10145074                                                                                              // 1911
  });                                                                                                                  // 1912
  d3_rgb_names.forEach(function(key, value) {                                                                          // 1913
    d3_rgb_names.set(key, d3_rgbNumber(value));                                                                        // 1914
  });                                                                                                                  // 1915
  function d3_functor(v) {                                                                                             // 1916
    return typeof v === "function" ? v : function() {                                                                  // 1917
      return v;                                                                                                        // 1918
    };                                                                                                                 // 1919
  }                                                                                                                    // 1920
  d3.functor = d3_functor;                                                                                             // 1921
  d3.xhr = d3_xhrType(d3_identity);                                                                                    // 1922
  function d3_xhrType(response) {                                                                                      // 1923
    return function(url, mimeType, callback) {                                                                         // 1924
      if (arguments.length === 2 && typeof mimeType === "function") callback = mimeType,                               // 1925
      mimeType = null;                                                                                                 // 1926
      return d3_xhr(url, mimeType, response, callback);                                                                // 1927
    };                                                                                                                 // 1928
  }                                                                                                                    // 1929
  function d3_xhr(url, mimeType, response, callback) {                                                                 // 1930
    var xhr = {}, dispatch = d3.dispatch("beforesend", "progress", "load", "error"), headers = {}, request = new XMLHttpRequest(), responseType = null;
    if (this.XDomainRequest && !("withCredentials" in request) && /^(http(s)?:)?\/\//.test(url)) request = new XDomainRequest();
    "onload" in request ? request.onload = request.onerror = respond : request.onreadystatechange = function() {       // 1933
      request.readyState > 3 && respond();                                                                             // 1934
    };                                                                                                                 // 1935
    function respond() {                                                                                               // 1936
      var status = request.status, result;                                                                             // 1937
      if (!status && d3_xhrHasResponse(request) || status >= 200 && status < 300 || status === 304) {                  // 1938
        try {                                                                                                          // 1939
          result = response.call(xhr, request);                                                                        // 1940
        } catch (e) {                                                                                                  // 1941
          dispatch.error.call(xhr, e);                                                                                 // 1942
          return;                                                                                                      // 1943
        }                                                                                                              // 1944
        dispatch.load.call(xhr, result);                                                                               // 1945
      } else {                                                                                                         // 1946
        dispatch.error.call(xhr, request);                                                                             // 1947
      }                                                                                                                // 1948
    }                                                                                                                  // 1949
    request.onprogress = function(event) {                                                                             // 1950
      var o = d3.event;                                                                                                // 1951
      d3.event = event;                                                                                                // 1952
      try {                                                                                                            // 1953
        dispatch.progress.call(xhr, request);                                                                          // 1954
      } finally {                                                                                                      // 1955
        d3.event = o;                                                                                                  // 1956
      }                                                                                                                // 1957
    };                                                                                                                 // 1958
    xhr.header = function(name, value) {                                                                               // 1959
      name = (name + "").toLowerCase();                                                                                // 1960
      if (arguments.length < 2) return headers[name];                                                                  // 1961
      if (value == null) delete headers[name]; else headers[name] = value + "";                                        // 1962
      return xhr;                                                                                                      // 1963
    };                                                                                                                 // 1964
    xhr.mimeType = function(value) {                                                                                   // 1965
      if (!arguments.length) return mimeType;                                                                          // 1966
      mimeType = value == null ? null : value + "";                                                                    // 1967
      return xhr;                                                                                                      // 1968
    };                                                                                                                 // 1969
    xhr.responseType = function(value) {                                                                               // 1970
      if (!arguments.length) return responseType;                                                                      // 1971
      responseType = value;                                                                                            // 1972
      return xhr;                                                                                                      // 1973
    };                                                                                                                 // 1974
    xhr.response = function(value) {                                                                                   // 1975
      response = value;                                                                                                // 1976
      return xhr;                                                                                                      // 1977
    };                                                                                                                 // 1978
    [ "get", "post" ].forEach(function(method) {                                                                       // 1979
      xhr[method] = function() {                                                                                       // 1980
        return xhr.send.apply(xhr, [ method ].concat(d3_array(arguments)));                                            // 1981
      };                                                                                                               // 1982
    });                                                                                                                // 1983
    xhr.send = function(method, data, callback) {                                                                      // 1984
      if (arguments.length === 2 && typeof data === "function") callback = data, data = null;                          // 1985
      request.open(method, url, true);                                                                                 // 1986
      if (mimeType != null && !("accept" in headers)) headers["accept"] = mimeType + ",*/*";                           // 1987
      if (request.setRequestHeader) for (var name in headers) request.setRequestHeader(name, headers[name]);           // 1988
      if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);                            // 1989
      if (responseType != null) request.responseType = responseType;                                                   // 1990
      if (callback != null) xhr.on("error", callback).on("load", function(request) {                                   // 1991
        callback(null, request);                                                                                       // 1992
      });                                                                                                              // 1993
      dispatch.beforesend.call(xhr, request);                                                                          // 1994
      request.send(data == null ? null : data);                                                                        // 1995
      return xhr;                                                                                                      // 1996
    };                                                                                                                 // 1997
    xhr.abort = function() {                                                                                           // 1998
      request.abort();                                                                                                 // 1999
      return xhr;                                                                                                      // 2000
    };                                                                                                                 // 2001
    d3.rebind(xhr, dispatch, "on");                                                                                    // 2002
    return callback == null ? xhr : xhr.get(d3_xhr_fixCallback(callback));                                             // 2003
  }                                                                                                                    // 2004
  function d3_xhr_fixCallback(callback) {                                                                              // 2005
    return callback.length === 1 ? function(error, request) {                                                          // 2006
      callback(error == null ? request : null);                                                                        // 2007
    } : callback;                                                                                                      // 2008
  }                                                                                                                    // 2009
  function d3_xhrHasResponse(request) {                                                                                // 2010
    var type = request.responseType;                                                                                   // 2011
    return type && type !== "text" ? request.response : request.responseText;                                          // 2012
  }                                                                                                                    // 2013
  d3.dsv = function(delimiter, mimeType) {                                                                             // 2014
    var reFormat = new RegExp('["' + delimiter + "\n]"), delimiterCode = delimiter.charCodeAt(0);                      // 2015
    function dsv(url, row, callback) {                                                                                 // 2016
      if (arguments.length < 3) callback = row, row = null;                                                            // 2017
      var xhr = d3_xhr(url, mimeType, row == null ? response : typedResponse(row), callback);                          // 2018
      xhr.row = function(_) {                                                                                          // 2019
        return arguments.length ? xhr.response((row = _) == null ? response : typedResponse(_)) : row;                 // 2020
      };                                                                                                               // 2021
      return xhr;                                                                                                      // 2022
    }                                                                                                                  // 2023
    function response(request) {                                                                                       // 2024
      return dsv.parse(request.responseText);                                                                          // 2025
    }                                                                                                                  // 2026
    function typedResponse(f) {                                                                                        // 2027
      return function(request) {                                                                                       // 2028
        return dsv.parse(request.responseText, f);                                                                     // 2029
      };                                                                                                               // 2030
    }                                                                                                                  // 2031
    dsv.parse = function(text, f) {                                                                                    // 2032
      var o;                                                                                                           // 2033
      return dsv.parseRows(text, function(row, i) {                                                                    // 2034
        if (o) return o(row, i - 1);                                                                                   // 2035
        var a = new Function("d", "return {" + row.map(function(name, i) {                                             // 2036
          return JSON.stringify(name) + ": d[" + i + "]";                                                              // 2037
        }).join(",") + "}");                                                                                           // 2038
        o = f ? function(row, i) {                                                                                     // 2039
          return f(a(row), i);                                                                                         // 2040
        } : a;                                                                                                         // 2041
      });                                                                                                              // 2042
    };                                                                                                                 // 2043
    dsv.parseRows = function(text, f) {                                                                                // 2044
      var EOL = {}, EOF = {}, rows = [], N = text.length, I = 0, n = 0, t, eol;                                        // 2045
      function token() {                                                                                               // 2046
        if (I >= N) return EOF;                                                                                        // 2047
        if (eol) return eol = false, EOL;                                                                              // 2048
        var j = I;                                                                                                     // 2049
        if (text.charCodeAt(j) === 34) {                                                                               // 2050
          var i = j;                                                                                                   // 2051
          while (i++ < N) {                                                                                            // 2052
            if (text.charCodeAt(i) === 34) {                                                                           // 2053
              if (text.charCodeAt(i + 1) !== 34) break;                                                                // 2054
              ++i;                                                                                                     // 2055
            }                                                                                                          // 2056
          }                                                                                                            // 2057
          I = i + 2;                                                                                                   // 2058
          var c = text.charCodeAt(i + 1);                                                                              // 2059
          if (c === 13) {                                                                                              // 2060
            eol = true;                                                                                                // 2061
            if (text.charCodeAt(i + 2) === 10) ++I;                                                                    // 2062
          } else if (c === 10) {                                                                                       // 2063
            eol = true;                                                                                                // 2064
          }                                                                                                            // 2065
          return text.slice(j + 1, i).replace(/""/g, '"');                                                             // 2066
        }                                                                                                              // 2067
        while (I < N) {                                                                                                // 2068
          var c = text.charCodeAt(I++), k = 1;                                                                         // 2069
          if (c === 10) eol = true; else if (c === 13) {                                                               // 2070
            eol = true;                                                                                                // 2071
            if (text.charCodeAt(I) === 10) ++I, ++k;                                                                   // 2072
          } else if (c !== delimiterCode) continue;                                                                    // 2073
          return text.slice(j, I - k);                                                                                 // 2074
        }                                                                                                              // 2075
        return text.slice(j);                                                                                          // 2076
      }                                                                                                                // 2077
      while ((t = token()) !== EOF) {                                                                                  // 2078
        var a = [];                                                                                                    // 2079
        while (t !== EOL && t !== EOF) {                                                                               // 2080
          a.push(t);                                                                                                   // 2081
          t = token();                                                                                                 // 2082
        }                                                                                                              // 2083
        if (f && (a = f(a, n++)) == null) continue;                                                                    // 2084
        rows.push(a);                                                                                                  // 2085
      }                                                                                                                // 2086
      return rows;                                                                                                     // 2087
    };                                                                                                                 // 2088
    dsv.format = function(rows) {                                                                                      // 2089
      if (Array.isArray(rows[0])) return dsv.formatRows(rows);                                                         // 2090
      var fieldSet = new d3_Set(), fields = [];                                                                        // 2091
      rows.forEach(function(row) {                                                                                     // 2092
        for (var field in row) {                                                                                       // 2093
          if (!fieldSet.has(field)) {                                                                                  // 2094
            fields.push(fieldSet.add(field));                                                                          // 2095
          }                                                                                                            // 2096
        }                                                                                                              // 2097
      });                                                                                                              // 2098
      return [ fields.map(formatValue).join(delimiter) ].concat(rows.map(function(row) {                               // 2099
        return fields.map(function(field) {                                                                            // 2100
          return formatValue(row[field]);                                                                              // 2101
        }).join(delimiter);                                                                                            // 2102
      })).join("\n");                                                                                                  // 2103
    };                                                                                                                 // 2104
    dsv.formatRows = function(rows) {                                                                                  // 2105
      return rows.map(formatRow).join("\n");                                                                           // 2106
    };                                                                                                                 // 2107
    function formatRow(row) {                                                                                          // 2108
      return row.map(formatValue).join(delimiter);                                                                     // 2109
    }                                                                                                                  // 2110
    function formatValue(text) {                                                                                       // 2111
      return reFormat.test(text) ? '"' + text.replace(/\"/g, '""') + '"' : text;                                       // 2112
    }                                                                                                                  // 2113
    return dsv;                                                                                                        // 2114
  };                                                                                                                   // 2115
  d3.csv = d3.dsv(",", "text/csv");                                                                                    // 2116
  d3.tsv = d3.dsv("	", "text/tab-separated-values");                                                                   // 2117
  var d3_timer_queueHead, d3_timer_queueTail, d3_timer_interval, d3_timer_timeout, d3_timer_active, d3_timer_frame = this[d3_vendorSymbol(this, "requestAnimationFrame")] || function(callback) {
    setTimeout(callback, 17);                                                                                          // 2119
  };                                                                                                                   // 2120
  d3.timer = function(callback, delay, then) {                                                                         // 2121
    var n = arguments.length;                                                                                          // 2122
    if (n < 2) delay = 0;                                                                                              // 2123
    if (n < 3) then = Date.now();                                                                                      // 2124
    var time = then + delay, timer = {                                                                                 // 2125
      c: callback,                                                                                                     // 2126
      t: time,                                                                                                         // 2127
      f: false,                                                                                                        // 2128
      n: null                                                                                                          // 2129
    };                                                                                                                 // 2130
    if (d3_timer_queueTail) d3_timer_queueTail.n = timer; else d3_timer_queueHead = timer;                             // 2131
    d3_timer_queueTail = timer;                                                                                        // 2132
    if (!d3_timer_interval) {                                                                                          // 2133
      d3_timer_timeout = clearTimeout(d3_timer_timeout);                                                               // 2134
      d3_timer_interval = 1;                                                                                           // 2135
      d3_timer_frame(d3_timer_step);                                                                                   // 2136
    }                                                                                                                  // 2137
  };                                                                                                                   // 2138
  function d3_timer_step() {                                                                                           // 2139
    var now = d3_timer_mark(), delay = d3_timer_sweep() - now;                                                         // 2140
    if (delay > 24) {                                                                                                  // 2141
      if (isFinite(delay)) {                                                                                           // 2142
        clearTimeout(d3_timer_timeout);                                                                                // 2143
        d3_timer_timeout = setTimeout(d3_timer_step, delay);                                                           // 2144
      }                                                                                                                // 2145
      d3_timer_interval = 0;                                                                                           // 2146
    } else {                                                                                                           // 2147
      d3_timer_interval = 1;                                                                                           // 2148
      d3_timer_frame(d3_timer_step);                                                                                   // 2149
    }                                                                                                                  // 2150
  }                                                                                                                    // 2151
  d3.timer.flush = function() {                                                                                        // 2152
    d3_timer_mark();                                                                                                   // 2153
    d3_timer_sweep();                                                                                                  // 2154
  };                                                                                                                   // 2155
  function d3_timer_mark() {                                                                                           // 2156
    var now = Date.now();                                                                                              // 2157
    d3_timer_active = d3_timer_queueHead;                                                                              // 2158
    while (d3_timer_active) {                                                                                          // 2159
      if (now >= d3_timer_active.t) d3_timer_active.f = d3_timer_active.c(now - d3_timer_active.t);                    // 2160
      d3_timer_active = d3_timer_active.n;                                                                             // 2161
    }                                                                                                                  // 2162
    return now;                                                                                                        // 2163
  }                                                                                                                    // 2164
  function d3_timer_sweep() {                                                                                          // 2165
    var t0, t1 = d3_timer_queueHead, time = Infinity;                                                                  // 2166
    while (t1) {                                                                                                       // 2167
      if (t1.f) {                                                                                                      // 2168
        t1 = t0 ? t0.n = t1.n : d3_timer_queueHead = t1.n;                                                             // 2169
      } else {                                                                                                         // 2170
        if (t1.t < time) time = t1.t;                                                                                  // 2171
        t1 = (t0 = t1).n;                                                                                              // 2172
      }                                                                                                                // 2173
    }                                                                                                                  // 2174
    d3_timer_queueTail = t0;                                                                                           // 2175
    return time;                                                                                                       // 2176
  }                                                                                                                    // 2177
  function d3_format_precision(x, p) {                                                                                 // 2178
    return p - (x ? Math.ceil(Math.log(x) / Math.LN10) : 1);                                                           // 2179
  }                                                                                                                    // 2180
  d3.round = function(x, n) {                                                                                          // 2181
    return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x);                                              // 2182
  };                                                                                                                   // 2183
  var d3_formatPrefixes = [ "y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y" ].map(d3_formatPrefix);
  d3.formatPrefix = function(value, precision) {                                                                       // 2185
    var i = 0;                                                                                                         // 2186
    if (value) {                                                                                                       // 2187
      if (value < 0) value *= -1;                                                                                      // 2188
      if (precision) value = d3.round(value, d3_format_precision(value, precision));                                   // 2189
      i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);                                                         // 2190
      i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3));                                                    // 2191
    }                                                                                                                  // 2192
    return d3_formatPrefixes[8 + i / 3];                                                                               // 2193
  };                                                                                                                   // 2194
  function d3_formatPrefix(d, i) {                                                                                     // 2195
    var k = Math.pow(10, abs(8 - i) * 3);                                                                              // 2196
    return {                                                                                                           // 2197
      scale: i > 8 ? function(d) {                                                                                     // 2198
        return d / k;                                                                                                  // 2199
      } : function(d) {                                                                                                // 2200
        return d * k;                                                                                                  // 2201
      },                                                                                                               // 2202
      symbol: d                                                                                                        // 2203
    };                                                                                                                 // 2204
  }                                                                                                                    // 2205
  function d3_locale_numberFormat(locale) {                                                                            // 2206
    var locale_decimal = locale.decimal, locale_thousands = locale.thousands, locale_grouping = locale.grouping, locale_currency = locale.currency, formatGroup = locale_grouping && locale_thousands ? function(value, width) {
      var i = value.length, t = [], j = 0, g = locale_grouping[0], length = 0;                                         // 2208
      while (i > 0 && g > 0) {                                                                                         // 2209
        if (length + g + 1 > width) g = Math.max(1, width - length);                                                   // 2210
        t.push(value.substring(i -= g, i + g));                                                                        // 2211
        if ((length += g + 1) > width) break;                                                                          // 2212
        g = locale_grouping[j = (j + 1) % locale_grouping.length];                                                     // 2213
      }                                                                                                                // 2214
      return t.reverse().join(locale_thousands);                                                                       // 2215
    } : d3_identity;                                                                                                   // 2216
    return function(specifier) {                                                                                       // 2217
      var match = d3_format_re.exec(specifier), fill = match[1] || " ", align = match[2] || ">", sign = match[3] || "-", symbol = match[4] || "", zfill = match[5], width = +match[6], comma = match[7], precision = match[8], type = match[9], scale = 1, prefix = "", suffix = "", integer = false, exponent = true;
      if (precision) precision = +precision.substring(1);                                                              // 2219
      if (zfill || fill === "0" && align === "=") {                                                                    // 2220
        zfill = fill = "0";                                                                                            // 2221
        align = "=";                                                                                                   // 2222
      }                                                                                                                // 2223
      switch (type) {                                                                                                  // 2224
       case "n":                                                                                                       // 2225
        comma = true;                                                                                                  // 2226
        type = "g";                                                                                                    // 2227
        break;                                                                                                         // 2228
                                                                                                                       // 2229
       case "%":                                                                                                       // 2230
        scale = 100;                                                                                                   // 2231
        suffix = "%";                                                                                                  // 2232
        type = "f";                                                                                                    // 2233
        break;                                                                                                         // 2234
                                                                                                                       // 2235
       case "p":                                                                                                       // 2236
        scale = 100;                                                                                                   // 2237
        suffix = "%";                                                                                                  // 2238
        type = "r";                                                                                                    // 2239
        break;                                                                                                         // 2240
                                                                                                                       // 2241
       case "b":                                                                                                       // 2242
       case "o":                                                                                                       // 2243
       case "x":                                                                                                       // 2244
       case "X":                                                                                                       // 2245
        if (symbol === "#") prefix = "0" + type.toLowerCase();                                                         // 2246
                                                                                                                       // 2247
       case "c":                                                                                                       // 2248
        exponent = false;                                                                                              // 2249
                                                                                                                       // 2250
       case "d":                                                                                                       // 2251
        integer = true;                                                                                                // 2252
        precision = 0;                                                                                                 // 2253
        break;                                                                                                         // 2254
                                                                                                                       // 2255
       case "s":                                                                                                       // 2256
        scale = -1;                                                                                                    // 2257
        type = "r";                                                                                                    // 2258
        break;                                                                                                         // 2259
      }                                                                                                                // 2260
      if (symbol === "$") prefix = locale_currency[0], suffix = locale_currency[1];                                    // 2261
      if (type == "r" && !precision) type = "g";                                                                       // 2262
      if (precision != null) {                                                                                         // 2263
        if (type == "g") precision = Math.max(1, Math.min(21, precision)); else if (type == "e" || type == "f") precision = Math.max(0, Math.min(20, precision));
      }                                                                                                                // 2265
      type = d3_format_types.get(type) || d3_format_typeDefault;                                                       // 2266
      var zcomma = zfill && comma;                                                                                     // 2267
      return function(value) {                                                                                         // 2268
        var fullSuffix = suffix;                                                                                       // 2269
        if (integer && value % 1) return "";                                                                           // 2270
        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, "-") : sign === "-" ? "" : sign;   // 2271
        if (scale < 0) {                                                                                               // 2272
          var unit = d3.formatPrefix(value, precision);                                                                // 2273
          value = unit.scale(value);                                                                                   // 2274
          fullSuffix = unit.symbol + suffix;                                                                           // 2275
        } else {                                                                                                       // 2276
          value *= scale;                                                                                              // 2277
        }                                                                                                              // 2278
        value = type(value, precision);                                                                                // 2279
        var i = value.lastIndexOf("."), before, after;                                                                 // 2280
        if (i < 0) {                                                                                                   // 2281
          var j = exponent ? value.lastIndexOf("e") : -1;                                                              // 2282
          if (j < 0) before = value, after = ""; else before = value.substring(0, j), after = value.substring(j);      // 2283
        } else {                                                                                                       // 2284
          before = value.substring(0, i);                                                                              // 2285
          after = locale_decimal + value.substring(i + 1);                                                             // 2286
        }                                                                                                              // 2287
        if (!zfill && comma) before = formatGroup(before, Infinity);                                                   // 2288
        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length), padding = length < width ? new Array(length = width - length + 1).join(fill) : "";
        if (zcomma) before = formatGroup(padding + before, padding.length ? width - after.length : Infinity);          // 2290
        negative += prefix;                                                                                            // 2291
        value = before + after;                                                                                        // 2292
        return (align === "<" ? negative + value + padding : align === ">" ? padding + negative + value : align === "^" ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length) : negative + (zcomma ? value : padding + value)) + fullSuffix;
      };                                                                                                               // 2294
    };                                                                                                                 // 2295
  }                                                                                                                    // 2296
  var d3_format_re = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;                         // 2297
  var d3_format_types = d3.map({                                                                                       // 2298
    b: function(x) {                                                                                                   // 2299
      return x.toString(2);                                                                                            // 2300
    },                                                                                                                 // 2301
    c: function(x) {                                                                                                   // 2302
      return String.fromCharCode(x);                                                                                   // 2303
    },                                                                                                                 // 2304
    o: function(x) {                                                                                                   // 2305
      return x.toString(8);                                                                                            // 2306
    },                                                                                                                 // 2307
    x: function(x) {                                                                                                   // 2308
      return x.toString(16);                                                                                           // 2309
    },                                                                                                                 // 2310
    X: function(x) {                                                                                                   // 2311
      return x.toString(16).toUpperCase();                                                                             // 2312
    },                                                                                                                 // 2313
    g: function(x, p) {                                                                                                // 2314
      return x.toPrecision(p);                                                                                         // 2315
    },                                                                                                                 // 2316
    e: function(x, p) {                                                                                                // 2317
      return x.toExponential(p);                                                                                       // 2318
    },                                                                                                                 // 2319
    f: function(x, p) {                                                                                                // 2320
      return x.toFixed(p);                                                                                             // 2321
    },                                                                                                                 // 2322
    r: function(x, p) {                                                                                                // 2323
      return (x = d3.round(x, d3_format_precision(x, p))).toFixed(Math.max(0, Math.min(20, d3_format_precision(x * (1 + 1e-15), p))));
    }                                                                                                                  // 2325
  });                                                                                                                  // 2326
  function d3_format_typeDefault(x) {                                                                                  // 2327
    return x + "";                                                                                                     // 2328
  }                                                                                                                    // 2329
  var d3_time = d3.time = {}, d3_date = Date;                                                                          // 2330
  function d3_date_utc() {                                                                                             // 2331
    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);                          // 2332
  }                                                                                                                    // 2333
  d3_date_utc.prototype = {                                                                                            // 2334
    getDate: function() {                                                                                              // 2335
      return this._.getUTCDate();                                                                                      // 2336
    },                                                                                                                 // 2337
    getDay: function() {                                                                                               // 2338
      return this._.getUTCDay();                                                                                       // 2339
    },                                                                                                                 // 2340
    getFullYear: function() {                                                                                          // 2341
      return this._.getUTCFullYear();                                                                                  // 2342
    },                                                                                                                 // 2343
    getHours: function() {                                                                                             // 2344
      return this._.getUTCHours();                                                                                     // 2345
    },                                                                                                                 // 2346
    getMilliseconds: function() {                                                                                      // 2347
      return this._.getUTCMilliseconds();                                                                              // 2348
    },                                                                                                                 // 2349
    getMinutes: function() {                                                                                           // 2350
      return this._.getUTCMinutes();                                                                                   // 2351
    },                                                                                                                 // 2352
    getMonth: function() {                                                                                             // 2353
      return this._.getUTCMonth();                                                                                     // 2354
    },                                                                                                                 // 2355
    getSeconds: function() {                                                                                           // 2356
      return this._.getUTCSeconds();                                                                                   // 2357
    },                                                                                                                 // 2358
    getTime: function() {                                                                                              // 2359
      return this._.getTime();                                                                                         // 2360
    },                                                                                                                 // 2361
    getTimezoneOffset: function() {                                                                                    // 2362
      return 0;                                                                                                        // 2363
    },                                                                                                                 // 2364
    valueOf: function() {                                                                                              // 2365
      return this._.valueOf();                                                                                         // 2366
    },                                                                                                                 // 2367
    setDate: function() {                                                                                              // 2368
      d3_time_prototype.setUTCDate.apply(this._, arguments);                                                           // 2369
    },                                                                                                                 // 2370
    setDay: function() {                                                                                               // 2371
      d3_time_prototype.setUTCDay.apply(this._, arguments);                                                            // 2372
    },                                                                                                                 // 2373
    setFullYear: function() {                                                                                          // 2374
      d3_time_prototype.setUTCFullYear.apply(this._, arguments);                                                       // 2375
    },                                                                                                                 // 2376
    setHours: function() {                                                                                             // 2377
      d3_time_prototype.setUTCHours.apply(this._, arguments);                                                          // 2378
    },                                                                                                                 // 2379
    setMilliseconds: function() {                                                                                      // 2380
      d3_time_prototype.setUTCMilliseconds.apply(this._, arguments);                                                   // 2381
    },                                                                                                                 // 2382
    setMinutes: function() {                                                                                           // 2383
      d3_time_prototype.setUTCMinutes.apply(this._, arguments);                                                        // 2384
    },                                                                                                                 // 2385
    setMonth: function() {                                                                                             // 2386
      d3_time_prototype.setUTCMonth.apply(this._, arguments);                                                          // 2387
    },                                                                                                                 // 2388
    setSeconds: function() {                                                                                           // 2389
      d3_time_prototype.setUTCSeconds.apply(this._, arguments);                                                        // 2390
    },                                                                                                                 // 2391
    setTime: function() {                                                                                              // 2392
      d3_time_prototype.setTime.apply(this._, arguments);                                                              // 2393
    }                                                                                                                  // 2394
  };                                                                                                                   // 2395
  var d3_time_prototype = Date.prototype;                                                                              // 2396
  function d3_time_interval(local, step, number) {                                                                     // 2397
    function round(date) {                                                                                             // 2398
      var d0 = local(date), d1 = offset(d0, 1);                                                                        // 2399
      return date - d0 < d1 - date ? d0 : d1;                                                                          // 2400
    }                                                                                                                  // 2401
    function ceil(date) {                                                                                              // 2402
      step(date = local(new d3_date(date - 1)), 1);                                                                    // 2403
      return date;                                                                                                     // 2404
    }                                                                                                                  // 2405
    function offset(date, k) {                                                                                         // 2406
      step(date = new d3_date(+date), k);                                                                              // 2407
      return date;                                                                                                     // 2408
    }                                                                                                                  // 2409
    function range(t0, t1, dt) {                                                                                       // 2410
      var time = ceil(t0), times = [];                                                                                 // 2411
      if (dt > 1) {                                                                                                    // 2412
        while (time < t1) {                                                                                            // 2413
          if (!(number(time) % dt)) times.push(new Date(+time));                                                       // 2414
          step(time, 1);                                                                                               // 2415
        }                                                                                                              // 2416
      } else {                                                                                                         // 2417
        while (time < t1) times.push(new Date(+time)), step(time, 1);                                                  // 2418
      }                                                                                                                // 2419
      return times;                                                                                                    // 2420
    }                                                                                                                  // 2421
    function range_utc(t0, t1, dt) {                                                                                   // 2422
      try {                                                                                                            // 2423
        d3_date = d3_date_utc;                                                                                         // 2424
        var utc = new d3_date_utc();                                                                                   // 2425
        utc._ = t0;                                                                                                    // 2426
        return range(utc, t1, dt);                                                                                     // 2427
      } finally {                                                                                                      // 2428
        d3_date = Date;                                                                                                // 2429
      }                                                                                                                // 2430
    }                                                                                                                  // 2431
    local.floor = local;                                                                                               // 2432
    local.round = round;                                                                                               // 2433
    local.ceil = ceil;                                                                                                 // 2434
    local.offset = offset;                                                                                             // 2435
    local.range = range;                                                                                               // 2436
    var utc = local.utc = d3_time_interval_utc(local);                                                                 // 2437
    utc.floor = utc;                                                                                                   // 2438
    utc.round = d3_time_interval_utc(round);                                                                           // 2439
    utc.ceil = d3_time_interval_utc(ceil);                                                                             // 2440
    utc.offset = d3_time_interval_utc(offset);                                                                         // 2441
    utc.range = range_utc;                                                                                             // 2442
    return local;                                                                                                      // 2443
  }                                                                                                                    // 2444
  function d3_time_interval_utc(method) {                                                                              // 2445
    return function(date, k) {                                                                                         // 2446
      try {                                                                                                            // 2447
        d3_date = d3_date_utc;                                                                                         // 2448
        var utc = new d3_date_utc();                                                                                   // 2449
        utc._ = date;                                                                                                  // 2450
        return method(utc, k)._;                                                                                       // 2451
      } finally {                                                                                                      // 2452
        d3_date = Date;                                                                                                // 2453
      }                                                                                                                // 2454
    };                                                                                                                 // 2455
  }                                                                                                                    // 2456
  d3_time.year = d3_time_interval(function(date) {                                                                     // 2457
    date = d3_time.day(date);                                                                                          // 2458
    date.setMonth(0, 1);                                                                                               // 2459
    return date;                                                                                                       // 2460
  }, function(date, offset) {                                                                                          // 2461
    date.setFullYear(date.getFullYear() + offset);                                                                     // 2462
  }, function(date) {                                                                                                  // 2463
    return date.getFullYear();                                                                                         // 2464
  });                                                                                                                  // 2465
  d3_time.years = d3_time.year.range;                                                                                  // 2466
  d3_time.years.utc = d3_time.year.utc.range;                                                                          // 2467
  d3_time.day = d3_time_interval(function(date) {                                                                      // 2468
    var day = new d3_date(2e3, 0);                                                                                     // 2469
    day.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());                                              // 2470
    return day;                                                                                                        // 2471
  }, function(date, offset) {                                                                                          // 2472
    date.setDate(date.getDate() + offset);                                                                             // 2473
  }, function(date) {                                                                                                  // 2474
    return date.getDate() - 1;                                                                                         // 2475
  });                                                                                                                  // 2476
  d3_time.days = d3_time.day.range;                                                                                    // 2477
  d3_time.days.utc = d3_time.day.utc.range;                                                                            // 2478
  d3_time.dayOfYear = function(date) {                                                                                 // 2479
    var year = d3_time.year(date);                                                                                     // 2480
    return Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);            // 2481
  };                                                                                                                   // 2482
  [ "sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday" ].forEach(function(day, i) {          // 2483
    i = 7 - i;                                                                                                         // 2484
    var interval = d3_time[day] = d3_time_interval(function(date) {                                                    // 2485
      (date = d3_time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);                                    // 2486
      return date;                                                                                                     // 2487
    }, function(date, offset) {                                                                                        // 2488
      date.setDate(date.getDate() + Math.floor(offset) * 7);                                                           // 2489
    }, function(date) {                                                                                                // 2490
      var day = d3_time.year(date).getDay();                                                                           // 2491
      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);                                  // 2492
    });                                                                                                                // 2493
    d3_time[day + "s"] = interval.range;                                                                               // 2494
    d3_time[day + "s"].utc = interval.utc.range;                                                                       // 2495
    d3_time[day + "OfYear"] = function(date) {                                                                         // 2496
      var day = d3_time.year(date).getDay();                                                                           // 2497
      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7);                                                // 2498
    };                                                                                                                 // 2499
  });                                                                                                                  // 2500
  d3_time.week = d3_time.sunday;                                                                                       // 2501
  d3_time.weeks = d3_time.sunday.range;                                                                                // 2502
  d3_time.weeks.utc = d3_time.sunday.utc.range;                                                                        // 2503
  d3_time.weekOfYear = d3_time.sundayOfYear;                                                                           // 2504
  function d3_locale_timeFormat(locale) {                                                                              // 2505
    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_days = locale.days, locale_shortDays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;
    function d3_time_format(template) {                                                                                // 2507
      var n = template.length;                                                                                         // 2508
      function format(date) {                                                                                          // 2509
        var string = [], i = -1, j = 0, c, p, f;                                                                       // 2510
        while (++i < n) {                                                                                              // 2511
          if (template.charCodeAt(i) === 37) {                                                                         // 2512
            string.push(template.slice(j, i));                                                                         // 2513
            if ((p = d3_time_formatPads[c = template.charAt(++i)]) != null) c = template.charAt(++i);                  // 2514
            if (f = d3_time_formats[c]) c = f(date, p == null ? c === "e" ? " " : "0" : p);                            // 2515
            string.push(c);                                                                                            // 2516
            j = i + 1;                                                                                                 // 2517
          }                                                                                                            // 2518
        }                                                                                                              // 2519
        string.push(template.slice(j, i));                                                                             // 2520
        return string.join("");                                                                                        // 2521
      }                                                                                                                // 2522
      format.parse = function(string) {                                                                                // 2523
        var d = {                                                                                                      // 2524
          y: 1900,                                                                                                     // 2525
          m: 0,                                                                                                        // 2526
          d: 1,                                                                                                        // 2527
          H: 0,                                                                                                        // 2528
          M: 0,                                                                                                        // 2529
          S: 0,                                                                                                        // 2530
          L: 0,                                                                                                        // 2531
          Z: null                                                                                                      // 2532
        }, i = d3_time_parse(d, template, string, 0);                                                                  // 2533
        if (i != string.length) return null;                                                                           // 2534
        if ("p" in d) d.H = d.H % 12 + d.p * 12;                                                                       // 2535
        var localZ = d.Z != null && d3_date !== d3_date_utc, date = new (localZ ? d3_date_utc : d3_date)();            // 2536
        if ("j" in d) date.setFullYear(d.y, 0, d.j); else if ("w" in d && ("W" in d || "U" in d)) {                    // 2537
          date.setFullYear(d.y, 0, 1);                                                                                 // 2538
          date.setFullYear(d.y, 0, "W" in d ? (d.w + 6) % 7 + d.W * 7 - (date.getDay() + 5) % 7 : d.w + d.U * 7 - (date.getDay() + 6) % 7);
        } else date.setFullYear(d.y, d.m, d.d);                                                                        // 2540
        date.setHours(d.H + (d.Z / 100 | 0), d.M + d.Z % 100, d.S, d.L);                                               // 2541
        return localZ ? date._ : date;                                                                                 // 2542
      };                                                                                                               // 2543
      format.toString = function() {                                                                                   // 2544
        return template;                                                                                               // 2545
      };                                                                                                               // 2546
      return format;                                                                                                   // 2547
    }                                                                                                                  // 2548
    function d3_time_parse(date, template, string, j) {                                                                // 2549
      var c, p, t, i = 0, n = template.length, m = string.length;                                                      // 2550
      while (i < n) {                                                                                                  // 2551
        if (j >= m) return -1;                                                                                         // 2552
        c = template.charCodeAt(i++);                                                                                  // 2553
        if (c === 37) {                                                                                                // 2554
          t = template.charAt(i++);                                                                                    // 2555
          p = d3_time_parsers[t in d3_time_formatPads ? template.charAt(i++) : t];                                     // 2556
          if (!p || (j = p(date, string, j)) < 0) return -1;                                                           // 2557
        } else if (c != string.charCodeAt(j++)) {                                                                      // 2558
          return -1;                                                                                                   // 2559
        }                                                                                                              // 2560
      }                                                                                                                // 2561
      return j;                                                                                                        // 2562
    }                                                                                                                  // 2563
    d3_time_format.utc = function(template) {                                                                          // 2564
      var local = d3_time_format(template);                                                                            // 2565
      function format(date) {                                                                                          // 2566
        try {                                                                                                          // 2567
          d3_date = d3_date_utc;                                                                                       // 2568
          var utc = new d3_date();                                                                                     // 2569
          utc._ = date;                                                                                                // 2570
          return local(utc);                                                                                           // 2571
        } finally {                                                                                                    // 2572
          d3_date = Date;                                                                                              // 2573
        }                                                                                                              // 2574
      }                                                                                                                // 2575
      format.parse = function(string) {                                                                                // 2576
        try {                                                                                                          // 2577
          d3_date = d3_date_utc;                                                                                       // 2578
          var date = local.parse(string);                                                                              // 2579
          return date && date._;                                                                                       // 2580
        } finally {                                                                                                    // 2581
          d3_date = Date;                                                                                              // 2582
        }                                                                                                              // 2583
      };                                                                                                               // 2584
      format.toString = local.toString;                                                                                // 2585
      return format;                                                                                                   // 2586
    };                                                                                                                 // 2587
    d3_time_format.multi = d3_time_format.utc.multi = d3_time_formatMulti;                                             // 2588
    var d3_time_periodLookup = d3.map(), d3_time_dayRe = d3_time_formatRe(locale_days), d3_time_dayLookup = d3_time_formatLookup(locale_days), d3_time_dayAbbrevRe = d3_time_formatRe(locale_shortDays), d3_time_dayAbbrevLookup = d3_time_formatLookup(locale_shortDays), d3_time_monthRe = d3_time_formatRe(locale_months), d3_time_monthLookup = d3_time_formatLookup(locale_months), d3_time_monthAbbrevRe = d3_time_formatRe(locale_shortMonths), d3_time_monthAbbrevLookup = d3_time_formatLookup(locale_shortMonths);
    locale_periods.forEach(function(p, i) {                                                                            // 2590
      d3_time_periodLookup.set(p.toLowerCase(), i);                                                                    // 2591
    });                                                                                                                // 2592
    var d3_time_formats = {                                                                                            // 2593
      a: function(d) {                                                                                                 // 2594
        return locale_shortDays[d.getDay()];                                                                           // 2595
      },                                                                                                               // 2596
      A: function(d) {                                                                                                 // 2597
        return locale_days[d.getDay()];                                                                                // 2598
      },                                                                                                               // 2599
      b: function(d) {                                                                                                 // 2600
        return locale_shortMonths[d.getMonth()];                                                                       // 2601
      },                                                                                                               // 2602
      B: function(d) {                                                                                                 // 2603
        return locale_months[d.getMonth()];                                                                            // 2604
      },                                                                                                               // 2605
      c: d3_time_format(locale_dateTime),                                                                              // 2606
      d: function(d, p) {                                                                                              // 2607
        return d3_time_formatPad(d.getDate(), p, 2);                                                                   // 2608
      },                                                                                                               // 2609
      e: function(d, p) {                                                                                              // 2610
        return d3_time_formatPad(d.getDate(), p, 2);                                                                   // 2611
      },                                                                                                               // 2612
      H: function(d, p) {                                                                                              // 2613
        return d3_time_formatPad(d.getHours(), p, 2);                                                                  // 2614
      },                                                                                                               // 2615
      I: function(d, p) {                                                                                              // 2616
        return d3_time_formatPad(d.getHours() % 12 || 12, p, 2);                                                       // 2617
      },                                                                                                               // 2618
      j: function(d, p) {                                                                                              // 2619
        return d3_time_formatPad(1 + d3_time.dayOfYear(d), p, 3);                                                      // 2620
      },                                                                                                               // 2621
      L: function(d, p) {                                                                                              // 2622
        return d3_time_formatPad(d.getMilliseconds(), p, 3);                                                           // 2623
      },                                                                                                               // 2624
      m: function(d, p) {                                                                                              // 2625
        return d3_time_formatPad(d.getMonth() + 1, p, 2);                                                              // 2626
      },                                                                                                               // 2627
      M: function(d, p) {                                                                                              // 2628
        return d3_time_formatPad(d.getMinutes(), p, 2);                                                                // 2629
      },                                                                                                               // 2630
      p: function(d) {                                                                                                 // 2631
        return locale_periods[+(d.getHours() >= 12)];                                                                  // 2632
      },                                                                                                               // 2633
      S: function(d, p) {                                                                                              // 2634
        return d3_time_formatPad(d.getSeconds(), p, 2);                                                                // 2635
      },                                                                                                               // 2636
      U: function(d, p) {                                                                                              // 2637
        return d3_time_formatPad(d3_time.sundayOfYear(d), p, 2);                                                       // 2638
      },                                                                                                               // 2639
      w: function(d) {                                                                                                 // 2640
        return d.getDay();                                                                                             // 2641
      },                                                                                                               // 2642
      W: function(d, p) {                                                                                              // 2643
        return d3_time_formatPad(d3_time.mondayOfYear(d), p, 2);                                                       // 2644
      },                                                                                                               // 2645
      x: d3_time_format(locale_date),                                                                                  // 2646
      X: d3_time_format(locale_time),                                                                                  // 2647
      y: function(d, p) {                                                                                              // 2648
        return d3_time_formatPad(d.getFullYear() % 100, p, 2);                                                         // 2649
      },                                                                                                               // 2650
      Y: function(d, p) {                                                                                              // 2651
        return d3_time_formatPad(d.getFullYear() % 1e4, p, 4);                                                         // 2652
      },                                                                                                               // 2653
      Z: d3_time_zone,                                                                                                 // 2654
      "%": function() {                                                                                                // 2655
        return "%";                                                                                                    // 2656
      }                                                                                                                // 2657
    };                                                                                                                 // 2658
    var d3_time_parsers = {                                                                                            // 2659
      a: d3_time_parseWeekdayAbbrev,                                                                                   // 2660
      A: d3_time_parseWeekday,                                                                                         // 2661
      b: d3_time_parseMonthAbbrev,                                                                                     // 2662
      B: d3_time_parseMonth,                                                                                           // 2663
      c: d3_time_parseLocaleFull,                                                                                      // 2664
      d: d3_time_parseDay,                                                                                             // 2665
      e: d3_time_parseDay,                                                                                             // 2666
      H: d3_time_parseHour24,                                                                                          // 2667
      I: d3_time_parseHour24,                                                                                          // 2668
      j: d3_time_parseDayOfYear,                                                                                       // 2669
      L: d3_time_parseMilliseconds,                                                                                    // 2670
      m: d3_time_parseMonthNumber,                                                                                     // 2671
      M: d3_time_parseMinutes,                                                                                         // 2672
      p: d3_time_parseAmPm,                                                                                            // 2673
      S: d3_time_parseSeconds,                                                                                         // 2674
      U: d3_time_parseWeekNumberSunday,                                                                                // 2675
      w: d3_time_parseWeekdayNumber,                                                                                   // 2676
      W: d3_time_parseWeekNumberMonday,                                                                                // 2677
      x: d3_time_parseLocaleDate,                                                                                      // 2678
      X: d3_time_parseLocaleTime,                                                                                      // 2679
      y: d3_time_parseYear,                                                                                            // 2680
      Y: d3_time_parseFullYear,                                                                                        // 2681
      Z: d3_time_parseZone,                                                                                            // 2682
      "%": d3_time_parseLiteralPercent                                                                                 // 2683
    };                                                                                                                 // 2684
    function d3_time_parseWeekdayAbbrev(date, string, i) {                                                             // 2685
      d3_time_dayAbbrevRe.lastIndex = 0;                                                                               // 2686
      var n = d3_time_dayAbbrevRe.exec(string.slice(i));                                                               // 2687
      return n ? (date.w = d3_time_dayAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;                     // 2688
    }                                                                                                                  // 2689
    function d3_time_parseWeekday(date, string, i) {                                                                   // 2690
      d3_time_dayRe.lastIndex = 0;                                                                                     // 2691
      var n = d3_time_dayRe.exec(string.slice(i));                                                                     // 2692
      return n ? (date.w = d3_time_dayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;                           // 2693
    }                                                                                                                  // 2694
    function d3_time_parseMonthAbbrev(date, string, i) {                                                               // 2695
      d3_time_monthAbbrevRe.lastIndex = 0;                                                                             // 2696
      var n = d3_time_monthAbbrevRe.exec(string.slice(i));                                                             // 2697
      return n ? (date.m = d3_time_monthAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;                   // 2698
    }                                                                                                                  // 2699
    function d3_time_parseMonth(date, string, i) {                                                                     // 2700
      d3_time_monthRe.lastIndex = 0;                                                                                   // 2701
      var n = d3_time_monthRe.exec(string.slice(i));                                                                   // 2702
      return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;                         // 2703
    }                                                                                                                  // 2704
    function d3_time_parseLocaleFull(date, string, i) {                                                                // 2705
      return d3_time_parse(date, d3_time_formats.c.toString(), string, i);                                             // 2706
    }                                                                                                                  // 2707
    function d3_time_parseLocaleDate(date, string, i) {                                                                // 2708
      return d3_time_parse(date, d3_time_formats.x.toString(), string, i);                                             // 2709
    }                                                                                                                  // 2710
    function d3_time_parseLocaleTime(date, string, i) {                                                                // 2711
      return d3_time_parse(date, d3_time_formats.X.toString(), string, i);                                             // 2712
    }                                                                                                                  // 2713
    function d3_time_parseAmPm(date, string, i) {                                                                      // 2714
      var n = d3_time_periodLookup.get(string.slice(i, i += 2).toLowerCase());                                         // 2715
      return n == null ? -1 : (date.p = n, i);                                                                         // 2716
    }                                                                                                                  // 2717
    return d3_time_format;                                                                                             // 2718
  }                                                                                                                    // 2719
  var d3_time_formatPads = {                                                                                           // 2720
    "-": "",                                                                                                           // 2721
    _: " ",                                                                                                            // 2722
    "0": "0"                                                                                                           // 2723
  }, d3_time_numberRe = /^\s*\d+/, d3_time_percentRe = /^%/;                                                           // 2724
  function d3_time_formatPad(value, fill, width) {                                                                     // 2725
    var sign = value < 0 ? "-" : "", string = (sign ? -value : value) + "", length = string.length;                    // 2726
    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);                       // 2727
  }                                                                                                                    // 2728
  function d3_time_formatRe(names) {                                                                                   // 2729
    return new RegExp("^(?:" + names.map(d3.requote).join("|") + ")", "i");                                            // 2730
  }                                                                                                                    // 2731
  function d3_time_formatLookup(names) {                                                                               // 2732
    var map = new d3_Map(), i = -1, n = names.length;                                                                  // 2733
    while (++i < n) map.set(names[i].toLowerCase(), i);                                                                // 2734
    return map;                                                                                                        // 2735
  }                                                                                                                    // 2736
  function d3_time_parseWeekdayNumber(date, string, i) {                                                               // 2737
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2738
    var n = d3_time_numberRe.exec(string.slice(i, i + 1));                                                             // 2739
    return n ? (date.w = +n[0], i + n[0].length) : -1;                                                                 // 2740
  }                                                                                                                    // 2741
  function d3_time_parseWeekNumberSunday(date, string, i) {                                                            // 2742
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2743
    var n = d3_time_numberRe.exec(string.slice(i));                                                                    // 2744
    return n ? (date.U = +n[0], i + n[0].length) : -1;                                                                 // 2745
  }                                                                                                                    // 2746
  function d3_time_parseWeekNumberMonday(date, string, i) {                                                            // 2747
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2748
    var n = d3_time_numberRe.exec(string.slice(i));                                                                    // 2749
    return n ? (date.W = +n[0], i + n[0].length) : -1;                                                                 // 2750
  }                                                                                                                    // 2751
  function d3_time_parseFullYear(date, string, i) {                                                                    // 2752
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2753
    var n = d3_time_numberRe.exec(string.slice(i, i + 4));                                                             // 2754
    return n ? (date.y = +n[0], i + n[0].length) : -1;                                                                 // 2755
  }                                                                                                                    // 2756
  function d3_time_parseYear(date, string, i) {                                                                        // 2757
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2758
    var n = d3_time_numberRe.exec(string.slice(i, i + 2));                                                             // 2759
    return n ? (date.y = d3_time_expandYear(+n[0]), i + n[0].length) : -1;                                             // 2760
  }                                                                                                                    // 2761
  function d3_time_parseZone(date, string, i) {                                                                        // 2762
    return /^[+-]\d{4}$/.test(string = string.slice(i, i + 5)) ? (date.Z = -string,                                    // 2763
    i + 5) : -1;                                                                                                       // 2764
  }                                                                                                                    // 2765
  function d3_time_expandYear(d) {                                                                                     // 2766
    return d + (d > 68 ? 1900 : 2e3);                                                                                  // 2767
  }                                                                                                                    // 2768
  function d3_time_parseMonthNumber(date, string, i) {                                                                 // 2769
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2770
    var n = d3_time_numberRe.exec(string.slice(i, i + 2));                                                             // 2771
    return n ? (date.m = n[0] - 1, i + n[0].length) : -1;                                                              // 2772
  }                                                                                                                    // 2773
  function d3_time_parseDay(date, string, i) {                                                                         // 2774
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2775
    var n = d3_time_numberRe.exec(string.slice(i, i + 2));                                                             // 2776
    return n ? (date.d = +n[0], i + n[0].length) : -1;                                                                 // 2777
  }                                                                                                                    // 2778
  function d3_time_parseDayOfYear(date, string, i) {                                                                   // 2779
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2780
    var n = d3_time_numberRe.exec(string.slice(i, i + 3));                                                             // 2781
    return n ? (date.j = +n[0], i + n[0].length) : -1;                                                                 // 2782
  }                                                                                                                    // 2783
  function d3_time_parseHour24(date, string, i) {                                                                      // 2784
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2785
    var n = d3_time_numberRe.exec(string.slice(i, i + 2));                                                             // 2786
    return n ? (date.H = +n[0], i + n[0].length) : -1;                                                                 // 2787
  }                                                                                                                    // 2788
  function d3_time_parseMinutes(date, string, i) {                                                                     // 2789
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2790
    var n = d3_time_numberRe.exec(string.slice(i, i + 2));                                                             // 2791
    return n ? (date.M = +n[0], i + n[0].length) : -1;                                                                 // 2792
  }                                                                                                                    // 2793
  function d3_time_parseSeconds(date, string, i) {                                                                     // 2794
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2795
    var n = d3_time_numberRe.exec(string.slice(i, i + 2));                                                             // 2796
    return n ? (date.S = +n[0], i + n[0].length) : -1;                                                                 // 2797
  }                                                                                                                    // 2798
  function d3_time_parseMilliseconds(date, string, i) {                                                                // 2799
    d3_time_numberRe.lastIndex = 0;                                                                                    // 2800
    var n = d3_time_numberRe.exec(string.slice(i, i + 3));                                                             // 2801
    return n ? (date.L = +n[0], i + n[0].length) : -1;                                                                 // 2802
  }                                                                                                                    // 2803
  function d3_time_zone(d) {                                                                                           // 2804
    var z = d.getTimezoneOffset(), zs = z > 0 ? "-" : "+", zh = abs(z) / 60 | 0, zm = abs(z) % 60;                     // 2805
    return zs + d3_time_formatPad(zh, "0", 2) + d3_time_formatPad(zm, "0", 2);                                         // 2806
  }                                                                                                                    // 2807
  function d3_time_parseLiteralPercent(date, string, i) {                                                              // 2808
    d3_time_percentRe.lastIndex = 0;                                                                                   // 2809
    var n = d3_time_percentRe.exec(string.slice(i, i + 1));                                                            // 2810
    return n ? i + n[0].length : -1;                                                                                   // 2811
  }                                                                                                                    // 2812
  function d3_time_formatMulti(formats) {                                                                              // 2813
    var n = formats.length, i = -1;                                                                                    // 2814
    while (++i < n) formats[i][0] = this(formats[i][0]);                                                               // 2815
    return function(date) {                                                                                            // 2816
      var i = 0, f = formats[i];                                                                                       // 2817
      while (!f[1](date)) f = formats[++i];                                                                            // 2818
      return f[0](date);                                                                                               // 2819
    };                                                                                                                 // 2820
  }                                                                                                                    // 2821
  d3.locale = function(locale) {                                                                                       // 2822
    return {                                                                                                           // 2823
      numberFormat: d3_locale_numberFormat(locale),                                                                    // 2824
      timeFormat: d3_locale_timeFormat(locale)                                                                         // 2825
    };                                                                                                                 // 2826
  };                                                                                                                   // 2827
  var d3_locale_enUS = d3.locale({                                                                                     // 2828
    decimal: ".",                                                                                                      // 2829
    thousands: ",",                                                                                                    // 2830
    grouping: [ 3 ],                                                                                                   // 2831
    currency: [ "$", "" ],                                                                                             // 2832
    dateTime: "%a %b %e %X %Y",                                                                                        // 2833
    date: "%m/%d/%Y",                                                                                                  // 2834
    time: "%H:%M:%S",                                                                                                  // 2835
    periods: [ "AM", "PM" ],                                                                                           // 2836
    days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],                            // 2837
    shortDays: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],                                                    // 2838
    months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
    shortMonths: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]                // 2840
  });                                                                                                                  // 2841
  d3.format = d3_locale_enUS.numberFormat;                                                                             // 2842
  d3.geo = {};                                                                                                         // 2843
  function d3_adder() {}                                                                                               // 2844
  d3_adder.prototype = {                                                                                               // 2845
    s: 0,                                                                                                              // 2846
    t: 0,                                                                                                              // 2847
    add: function(y) {                                                                                                 // 2848
      d3_adderSum(y, this.t, d3_adderTemp);                                                                            // 2849
      d3_adderSum(d3_adderTemp.s, this.s, this);                                                                       // 2850
      if (this.s) this.t += d3_adderTemp.t; else this.s = d3_adderTemp.t;                                              // 2851
    },                                                                                                                 // 2852
    reset: function() {                                                                                                // 2853
      this.s = this.t = 0;                                                                                             // 2854
    },                                                                                                                 // 2855
    valueOf: function() {                                                                                              // 2856
      return this.s;                                                                                                   // 2857
    }                                                                                                                  // 2858
  };                                                                                                                   // 2859
  var d3_adderTemp = new d3_adder();                                                                                   // 2860
  function d3_adderSum(a, b, o) {                                                                                      // 2861
    var x = o.s = a + b, bv = x - a, av = x - bv;                                                                      // 2862
    o.t = a - av + (b - bv);                                                                                           // 2863
  }                                                                                                                    // 2864
  d3.geo.stream = function(object, listener) {                                                                         // 2865
    if (object && d3_geo_streamObjectType.hasOwnProperty(object.type)) {                                               // 2866
      d3_geo_streamObjectType[object.type](object, listener);                                                          // 2867
    } else {                                                                                                           // 2868
      d3_geo_streamGeometry(object, listener);                                                                         // 2869
    }                                                                                                                  // 2870
  };                                                                                                                   // 2871
  function d3_geo_streamGeometry(geometry, listener) {                                                                 // 2872
    if (geometry && d3_geo_streamGeometryType.hasOwnProperty(geometry.type)) {                                         // 2873
      d3_geo_streamGeometryType[geometry.type](geometry, listener);                                                    // 2874
    }                                                                                                                  // 2875
  }                                                                                                                    // 2876
  var d3_geo_streamObjectType = {                                                                                      // 2877
    Feature: function(feature, listener) {                                                                             // 2878
      d3_geo_streamGeometry(feature.geometry, listener);                                                               // 2879
    },                                                                                                                 // 2880
    FeatureCollection: function(object, listener) {                                                                    // 2881
      var features = object.features, i = -1, n = features.length;                                                     // 2882
      while (++i < n) d3_geo_streamGeometry(features[i].geometry, listener);                                           // 2883
    }                                                                                                                  // 2884
  };                                                                                                                   // 2885
  var d3_geo_streamGeometryType = {                                                                                    // 2886
    Sphere: function(object, listener) {                                                                               // 2887
      listener.sphere();                                                                                               // 2888
    },                                                                                                                 // 2889
    Point: function(object, listener) {                                                                                // 2890
      object = object.coordinates;                                                                                     // 2891
      listener.point(object[0], object[1], object[2]);                                                                 // 2892
    },                                                                                                                 // 2893
    MultiPoint: function(object, listener) {                                                                           // 2894
      var coordinates = object.coordinates, i = -1, n = coordinates.length;                                            // 2895
      while (++i < n) object = coordinates[i], listener.point(object[0], object[1], object[2]);                        // 2896
    },                                                                                                                 // 2897
    LineString: function(object, listener) {                                                                           // 2898
      d3_geo_streamLine(object.coordinates, listener, 0);                                                              // 2899
    },                                                                                                                 // 2900
    MultiLineString: function(object, listener) {                                                                      // 2901
      var coordinates = object.coordinates, i = -1, n = coordinates.length;                                            // 2902
      while (++i < n) d3_geo_streamLine(coordinates[i], listener, 0);                                                  // 2903
    },                                                                                                                 // 2904
    Polygon: function(object, listener) {                                                                              // 2905
      d3_geo_streamPolygon(object.coordinates, listener);                                                              // 2906
    },                                                                                                                 // 2907
    MultiPolygon: function(object, listener) {                                                                         // 2908
      var coordinates = object.coordinates, i = -1, n = coordinates.length;                                            // 2909
      while (++i < n) d3_geo_streamPolygon(coordinates[i], listener);                                                  // 2910
    },                                                                                                                 // 2911
    GeometryCollection: function(object, listener) {                                                                   // 2912
      var geometries = object.geometries, i = -1, n = geometries.length;                                               // 2913
      while (++i < n) d3_geo_streamGeometry(geometries[i], listener);                                                  // 2914
    }                                                                                                                  // 2915
  };                                                                                                                   // 2916
  function d3_geo_streamLine(coordinates, listener, closed) {                                                          // 2917
    var i = -1, n = coordinates.length - closed, coordinate;                                                           // 2918
    listener.lineStart();                                                                                              // 2919
    while (++i < n) coordinate = coordinates[i], listener.point(coordinate[0], coordinate[1], coordinate[2]);          // 2920
    listener.lineEnd();                                                                                                // 2921
  }                                                                                                                    // 2922
  function d3_geo_streamPolygon(coordinates, listener) {                                                               // 2923
    var i = -1, n = coordinates.length;                                                                                // 2924
    listener.polygonStart();                                                                                           // 2925
    while (++i < n) d3_geo_streamLine(coordinates[i], listener, 1);                                                    // 2926
    listener.polygonEnd();                                                                                             // 2927
  }                                                                                                                    // 2928
  d3.geo.area = function(object) {                                                                                     // 2929
    d3_geo_areaSum = 0;                                                                                                // 2930
    d3.geo.stream(object, d3_geo_area);                                                                                // 2931
    return d3_geo_areaSum;                                                                                             // 2932
  };                                                                                                                   // 2933
  var d3_geo_areaSum, d3_geo_areaRingSum = new d3_adder();                                                             // 2934
  var d3_geo_area = {                                                                                                  // 2935
    sphere: function() {                                                                                               // 2936
      d3_geo_areaSum += 4 * ;                                                                                         // 2937
    },                                                                                                                 // 2938
    point: d3_noop,                                                                                                    // 2939
    lineStart: d3_noop,                                                                                                // 2940
    lineEnd: d3_noop,                                                                                                  // 2941
    polygonStart: function() {                                                                                         // 2942
      d3_geo_areaRingSum.reset();                                                                                      // 2943
      d3_geo_area.lineStart = d3_geo_areaRingStart;                                                                    // 2944
    },                                                                                                                 // 2945
    polygonEnd: function() {                                                                                           // 2946
      var area = 2 * d3_geo_areaRingSum;                                                                               // 2947
      d3_geo_areaSum += area < 0 ? 4 *  + area : area;                                                                // 2948
      d3_geo_area.lineStart = d3_geo_area.lineEnd = d3_geo_area.point = d3_noop;                                       // 2949
    }                                                                                                                  // 2950
  };                                                                                                                   // 2951
  function d3_geo_areaRingStart() {                                                                                    // 2952
    var 00, 00, 0, cos0, sin0;                                                                                    // 2953
    d3_geo_area.point = function(, ) {                                                                               // 2954
      d3_geo_area.point = nextPoint;                                                                                   // 2955
      0 = (00 = ) * d3_radians, cos0 = Math.cos( = (00 = ) * d3_radians / 2 +  / 4),                           // 2956
      sin0 = Math.sin();                                                                                             // 2957
    };                                                                                                                 // 2958
    function nextPoint(, ) {                                                                                         // 2959
       *= d3_radians;                                                                                                 // 2960
       =  * d3_radians / 2 +  / 4;                                                                                  // 2961
      var d =  - 0, sd = d >= 0 ? 1 : -1, ad = sd * d, cos = Math.cos(), sin = Math.sin(), k = sin0 * sin, u = cos0 * cos + k * Math.cos(ad), v = k * sd * Math.sin(ad);
      d3_geo_areaRingSum.add(Math.atan2(v, u));                                                                        // 2963
      0 = , cos0 = cos, sin0 = sin;                                                                              // 2964
    }                                                                                                                  // 2965
    d3_geo_area.lineEnd = function() {                                                                                 // 2966
      nextPoint(00, 00);                                                                                             // 2967
    };                                                                                                                 // 2968
  }                                                                                                                    // 2969
  function d3_geo_cartesian(spherical) {                                                                               // 2970
    var  = spherical[0],  = spherical[1], cos = Math.cos();                                                        // 2971
    return [ cos * Math.cos(), cos * Math.sin(), Math.sin() ];                                                    // 2972
  }                                                                                                                    // 2973
  function d3_geo_cartesianDot(a, b) {                                                                                 // 2974
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];                                                                    // 2975
  }                                                                                                                    // 2976
  function d3_geo_cartesianCross(a, b) {                                                                               // 2977
    return [ a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0] ];                        // 2978
  }                                                                                                                    // 2979
  function d3_geo_cartesianAdd(a, b) {                                                                                 // 2980
    a[0] += b[0];                                                                                                      // 2981
    a[1] += b[1];                                                                                                      // 2982
    a[2] += b[2];                                                                                                      // 2983
  }                                                                                                                    // 2984
  function d3_geo_cartesianScale(vector, k) {                                                                          // 2985
    return [ vector[0] * k, vector[1] * k, vector[2] * k ];                                                            // 2986
  }                                                                                                                    // 2987
  function d3_geo_cartesianNormalize(d) {                                                                              // 2988
    var l = Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);                                                        // 2989
    d[0] /= l;                                                                                                         // 2990
    d[1] /= l;                                                                                                         // 2991
    d[2] /= l;                                                                                                         // 2992
  }                                                                                                                    // 2993
  function d3_geo_spherical(cartesian) {                                                                               // 2994
    return [ Math.atan2(cartesian[1], cartesian[0]), d3_asin(cartesian[2]) ];                                          // 2995
  }                                                                                                                    // 2996
  function d3_geo_sphericalEqual(a, b) {                                                                               // 2997
    return abs(a[0] - b[0]) <  && abs(a[1] - b[1]) < ;                                                               // 2998
  }                                                                                                                    // 2999
  d3.geo.bounds = function() {                                                                                         // 3000
    var 0, 0, 1, 1, _, __, __, p0, dSum, ranges, range;                                                        // 3001
    var bound = {                                                                                                      // 3002
      point: point,                                                                                                    // 3003
      lineStart: lineStart,                                                                                            // 3004
      lineEnd: lineEnd,                                                                                                // 3005
      polygonStart: function() {                                                                                       // 3006
        bound.point = ringPoint;                                                                                       // 3007
        bound.lineStart = ringStart;                                                                                   // 3008
        bound.lineEnd = ringEnd;                                                                                       // 3009
        dSum = 0;                                                                                                     // 3010
        d3_geo_area.polygonStart();                                                                                    // 3011
      },                                                                                                               // 3012
      polygonEnd: function() {                                                                                         // 3013
        d3_geo_area.polygonEnd();                                                                                      // 3014
        bound.point = point;                                                                                           // 3015
        bound.lineStart = lineStart;                                                                                   // 3016
        bound.lineEnd = lineEnd;                                                                                       // 3017
        if (d3_geo_areaRingSum < 0) 0 = -(1 = 180), 0 = -(1 = 90); else if (dSum > ) 1 = 90; else if (dSum < -) 0 = -90;
        range[0] = 0, range[1] = 1;                                                                                  // 3019
      }                                                                                                                // 3020
    };                                                                                                                 // 3021
    function point(, ) {                                                                                             // 3022
      ranges.push(range = [ 0 = , 1 =  ]);                                                                         // 3023
      if ( < 0) 0 = ;                                                                                              // 3024
      if ( > 1) 1 = ;                                                                                              // 3025
    }                                                                                                                  // 3026
    function linePoint(, ) {                                                                                         // 3027
      var p = d3_geo_cartesian([  * d3_radians,  * d3_radians ]);                                                    // 3028
      if (p0) {                                                                                                        // 3029
        var normal = d3_geo_cartesianCross(p0, p), equatorial = [ normal[1], -normal[0], 0 ], inflection = d3_geo_cartesianCross(equatorial, normal);
        d3_geo_cartesianNormalize(inflection);                                                                         // 3031
        inflection = d3_geo_spherical(inflection);                                                                     // 3032
        var d =  - _, s = d > 0 ? 1 : -1, i = inflection[0] * d3_degrees * s, antimeridian = abs(d) > 180;       // 3033
        if (antimeridian ^ (s * _ < i && i < s * )) {                                                              // 3034
          var i = inflection[1] * d3_degrees;                                                                         // 3035
          if (i > 1) 1 = i;                                                                                        // 3036
        } else if (i = (i + 360) % 360 - 180, antimeridian ^ (s * _ < i && i < s * )) {                          // 3037
          var i = -inflection[1] * d3_degrees;                                                                        // 3038
          if (i < 0) 0 = i;                                                                                        // 3039
        } else {                                                                                                       // 3040
          if ( < 0) 0 = ;                                                                                          // 3041
          if ( > 1) 1 = ;                                                                                          // 3042
        }                                                                                                              // 3043
        if (antimeridian) {                                                                                            // 3044
          if ( < _) {                                                                                                // 3045
            if (angle(0, ) > angle(0, 1)) 1 = ;                                                                  // 3046
          } else {                                                                                                     // 3047
            if (angle(, 1) > angle(0, 1)) 0 = ;                                                                  // 3048
          }                                                                                                            // 3049
        } else {                                                                                                       // 3050
          if (1 >= 0) {                                                                                              // 3051
            if ( < 0) 0 = ;                                                                                        // 3052
            if ( > 1) 1 = ;                                                                                        // 3053
          } else {                                                                                                     // 3054
            if ( > _) {                                                                                              // 3055
              if (angle(0, ) > angle(0, 1)) 1 = ;                                                                // 3056
            } else {                                                                                                   // 3057
              if (angle(, 1) > angle(0, 1)) 0 = ;                                                                // 3058
            }                                                                                                          // 3059
          }                                                                                                            // 3060
        }                                                                                                              // 3061
      } else {                                                                                                         // 3062
        point(, );                                                                                                   // 3063
      }                                                                                                                // 3064
      p0 = p, _ = ;                                                                                                  // 3065
    }                                                                                                                  // 3066
    function lineStart() {                                                                                             // 3067
      bound.point = linePoint;                                                                                         // 3068
    }                                                                                                                  // 3069
    function lineEnd() {                                                                                               // 3070
      range[0] = 0, range[1] = 1;                                                                                    // 3071
      bound.point = point;                                                                                             // 3072
      p0 = null;                                                                                                       // 3073
    }                                                                                                                  // 3074
    function ringPoint(, ) {                                                                                         // 3075
      if (p0) {                                                                                                        // 3076
        var d =  - _;                                                                                               // 3077
        dSum += abs(d) > 180 ? d + (d > 0 ? 360 : -360) : d;                                                      // 3078
      } else __ = , __ = ;                                                                                         // 3079
      d3_geo_area.point(, );                                                                                         // 3080
      linePoint(, );                                                                                                 // 3081
    }                                                                                                                  // 3082
    function ringStart() {                                                                                             // 3083
      d3_geo_area.lineStart();                                                                                         // 3084
    }                                                                                                                  // 3085
    function ringEnd() {                                                                                               // 3086
      ringPoint(__, __);                                                                                             // 3087
      d3_geo_area.lineEnd();                                                                                           // 3088
      if (abs(dSum) > ) 0 = -(1 = 180);                                                                            // 3089
      range[0] = 0, range[1] = 1;                                                                                    // 3090
      p0 = null;                                                                                                       // 3091
    }                                                                                                                  // 3092
    function angle(0, 1) {                                                                                           // 3093
      return (1 -= 0) < 0 ? 1 + 360 : 1;                                                                           // 3094
    }                                                                                                                  // 3095
    function compareRanges(a, b) {                                                                                     // 3096
      return a[0] - b[0];                                                                                              // 3097
    }                                                                                                                  // 3098
    function withinRange(x, range) {                                                                                   // 3099
      return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;                     // 3100
    }                                                                                                                  // 3101
    return function(feature) {                                                                                         // 3102
      1 = 1 = -(0 = 0 = Infinity);                                                                                 // 3103
      ranges = [];                                                                                                     // 3104
      d3.geo.stream(feature, bound);                                                                                   // 3105
      var n = ranges.length;                                                                                           // 3106
      if (n) {                                                                                                         // 3107
        ranges.sort(compareRanges);                                                                                    // 3108
        for (var i = 1, a = ranges[0], b, merged = [ a ]; i < n; ++i) {                                                // 3109
          b = ranges[i];                                                                                               // 3110
          if (withinRange(b[0], a) || withinRange(b[1], a)) {                                                          // 3111
            if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];                                                    // 3112
            if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];                                                    // 3113
          } else {                                                                                                     // 3114
            merged.push(a = b);                                                                                        // 3115
          }                                                                                                            // 3116
        }                                                                                                              // 3117
        var best = -Infinity, d;                                                                                      // 3118
        for (var n = merged.length - 1, i = 0, a = merged[n], b; i <= n; a = b, ++i) {                                 // 3119
          b = merged[i];                                                                                               // 3120
          if ((d = angle(a[1], b[0])) > best) best = d, 0 = b[0], 1 = a[1];                                        // 3121
        }                                                                                                              // 3122
      }                                                                                                                // 3123
      ranges = range = null;                                                                                           // 3124
      return 0 === Infinity || 0 === Infinity ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ 0, 0 ], [ 1, 1 ] ];         // 3125
    };                                                                                                                 // 3126
  }();                                                                                                                 // 3127
  d3.geo.centroid = function(object) {                                                                                 // 3128
    d3_geo_centroidW0 = d3_geo_centroidW1 = d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;
    d3.geo.stream(object, d3_geo_centroid);                                                                            // 3130
    var x = d3_geo_centroidX2, y = d3_geo_centroidY2, z = d3_geo_centroidZ2, m = x * x + y * y + z * z;                // 3131
    if (m < 2) {                                                                                                      // 3132
      x = d3_geo_centroidX1, y = d3_geo_centroidY1, z = d3_geo_centroidZ1;                                             // 3133
      if (d3_geo_centroidW1 < ) x = d3_geo_centroidX0, y = d3_geo_centroidY0, z = d3_geo_centroidZ0;                  // 3134
      m = x * x + y * y + z * z;                                                                                       // 3135
      if (m < 2) return [ NaN, NaN ];                                                                                 // 3136
    }                                                                                                                  // 3137
    return [ Math.atan2(y, x) * d3_degrees, d3_asin(z / Math.sqrt(m)) * d3_degrees ];                                  // 3138
  };                                                                                                                   // 3139
  var d3_geo_centroidW0, d3_geo_centroidW1, d3_geo_centroidX0, d3_geo_centroidY0, d3_geo_centroidZ0, d3_geo_centroidX1, d3_geo_centroidY1, d3_geo_centroidZ1, d3_geo_centroidX2, d3_geo_centroidY2, d3_geo_centroidZ2;
  var d3_geo_centroid = {                                                                                              // 3141
    sphere: d3_noop,                                                                                                   // 3142
    point: d3_geo_centroidPoint,                                                                                       // 3143
    lineStart: d3_geo_centroidLineStart,                                                                               // 3144
    lineEnd: d3_geo_centroidLineEnd,                                                                                   // 3145
    polygonStart: function() {                                                                                         // 3146
      d3_geo_centroid.lineStart = d3_geo_centroidRingStart;                                                            // 3147
    },                                                                                                                 // 3148
    polygonEnd: function() {                                                                                           // 3149
      d3_geo_centroid.lineStart = d3_geo_centroidLineStart;                                                            // 3150
    }                                                                                                                  // 3151
  };                                                                                                                   // 3152
  function d3_geo_centroidPoint(, ) {                                                                                // 3153
     *= d3_radians;                                                                                                   // 3154
    var cos = Math.cos( *= d3_radians);                                                                              // 3155
    d3_geo_centroidPointXYZ(cos * Math.cos(), cos * Math.sin(), Math.sin());                                      // 3156
  }                                                                                                                    // 3157
  function d3_geo_centroidPointXYZ(x, y, z) {                                                                          // 3158
    ++d3_geo_centroidW0;                                                                                               // 3159
    d3_geo_centroidX0 += (x - d3_geo_centroidX0) / d3_geo_centroidW0;                                                  // 3160
    d3_geo_centroidY0 += (y - d3_geo_centroidY0) / d3_geo_centroidW0;                                                  // 3161
    d3_geo_centroidZ0 += (z - d3_geo_centroidZ0) / d3_geo_centroidW0;                                                  // 3162
  }                                                                                                                    // 3163
  function d3_geo_centroidLineStart() {                                                                                // 3164
    var x0, y0, z0;                                                                                                    // 3165
    d3_geo_centroid.point = function(, ) {                                                                           // 3166
       *= d3_radians;                                                                                                 // 3167
      var cos = Math.cos( *= d3_radians);                                                                            // 3168
      x0 = cos * Math.cos();                                                                                         // 3169
      y0 = cos * Math.sin();                                                                                         // 3170
      z0 = Math.sin();                                                                                                // 3171
      d3_geo_centroid.point = nextPoint;                                                                               // 3172
      d3_geo_centroidPointXYZ(x0, y0, z0);                                                                             // 3173
    };                                                                                                                 // 3174
    function nextPoint(, ) {                                                                                         // 3175
       *= d3_radians;                                                                                                 // 3176
      var cos = Math.cos( *= d3_radians), x = cos * Math.cos(), y = cos * Math.sin(), z = Math.sin(), w = Math.atan2(Math.sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);
      d3_geo_centroidW1 += w;                                                                                          // 3178
      d3_geo_centroidX1 += w * (x0 + (x0 = x));                                                                        // 3179
      d3_geo_centroidY1 += w * (y0 + (y0 = y));                                                                        // 3180
      d3_geo_centroidZ1 += w * (z0 + (z0 = z));                                                                        // 3181
      d3_geo_centroidPointXYZ(x0, y0, z0);                                                                             // 3182
    }                                                                                                                  // 3183
  }                                                                                                                    // 3184
  function d3_geo_centroidLineEnd() {                                                                                  // 3185
    d3_geo_centroid.point = d3_geo_centroidPoint;                                                                      // 3186
  }                                                                                                                    // 3187
  function d3_geo_centroidRingStart() {                                                                                // 3188
    var 00, 00, x0, y0, z0;                                                                                          // 3189
    d3_geo_centroid.point = function(, ) {                                                                           // 3190
      00 = , 00 = ;                                                                                                // 3191
      d3_geo_centroid.point = nextPoint;                                                                               // 3192
       *= d3_radians;                                                                                                 // 3193
      var cos = Math.cos( *= d3_radians);                                                                            // 3194
      x0 = cos * Math.cos();                                                                                         // 3195
      y0 = cos * Math.sin();                                                                                         // 3196
      z0 = Math.sin();                                                                                                // 3197
      d3_geo_centroidPointXYZ(x0, y0, z0);                                                                             // 3198
    };                                                                                                                 // 3199
    d3_geo_centroid.lineEnd = function() {                                                                             // 3200
      nextPoint(00, 00);                                                                                             // 3201
      d3_geo_centroid.lineEnd = d3_geo_centroidLineEnd;                                                                // 3202
      d3_geo_centroid.point = d3_geo_centroidPoint;                                                                    // 3203
    };                                                                                                                 // 3204
    function nextPoint(, ) {                                                                                         // 3205
       *= d3_radians;                                                                                                 // 3206
      var cos = Math.cos( *= d3_radians), x = cos * Math.cos(), y = cos * Math.sin(), z = Math.sin(), cx = y0 * z - z0 * y, cy = z0 * x - x0 * z, cz = x0 * y - y0 * x, m = Math.sqrt(cx * cx + cy * cy + cz * cz), u = x0 * x + y0 * y + z0 * z, v = m && -d3_acos(u) / m, w = Math.atan2(m, u);
      d3_geo_centroidX2 += v * cx;                                                                                     // 3208
      d3_geo_centroidY2 += v * cy;                                                                                     // 3209
      d3_geo_centroidZ2 += v * cz;                                                                                     // 3210
      d3_geo_centroidW1 += w;                                                                                          // 3211
      d3_geo_centroidX1 += w * (x0 + (x0 = x));                                                                        // 3212
      d3_geo_centroidY1 += w * (y0 + (y0 = y));                                                                        // 3213
      d3_geo_centroidZ1 += w * (z0 + (z0 = z));                                                                        // 3214
      d3_geo_centroidPointXYZ(x0, y0, z0);                                                                             // 3215
    }                                                                                                                  // 3216
  }                                                                                                                    // 3217
  function d3_geo_compose(a, b) {                                                                                      // 3218
    function compose(x, y) {                                                                                           // 3219
      return x = a(x, y), b(x[0], x[1]);                                                                               // 3220
    }                                                                                                                  // 3221
    if (a.invert && b.invert) compose.invert = function(x, y) {                                                        // 3222
      return x = b.invert(x, y), x && a.invert(x[0], x[1]);                                                            // 3223
    };                                                                                                                 // 3224
    return compose;                                                                                                    // 3225
  }                                                                                                                    // 3226
  function d3_true() {                                                                                                 // 3227
    return true;                                                                                                       // 3228
  }                                                                                                                    // 3229
  function d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener) {                             // 3230
    var subject = [], clip = [];                                                                                       // 3231
    segments.forEach(function(segment) {                                                                               // 3232
      if ((n = segment.length - 1) <= 0) return;                                                                       // 3233
      var n, p0 = segment[0], p1 = segment[n];                                                                         // 3234
      if (d3_geo_sphericalEqual(p0, p1)) {                                                                             // 3235
        listener.lineStart();                                                                                          // 3236
        for (var i = 0; i < n; ++i) listener.point((p0 = segment[i])[0], p0[1]);                                       // 3237
        listener.lineEnd();                                                                                            // 3238
        return;                                                                                                        // 3239
      }                                                                                                                // 3240
      var a = new d3_geo_clipPolygonIntersection(p0, segment, null, true), b = new d3_geo_clipPolygonIntersection(p0, null, a, false);
      a.o = b;                                                                                                         // 3242
      subject.push(a);                                                                                                 // 3243
      clip.push(b);                                                                                                    // 3244
      a = new d3_geo_clipPolygonIntersection(p1, segment, null, false);                                                // 3245
      b = new d3_geo_clipPolygonIntersection(p1, null, a, true);                                                       // 3246
      a.o = b;                                                                                                         // 3247
      subject.push(a);                                                                                                 // 3248
      clip.push(b);                                                                                                    // 3249
    });                                                                                                                // 3250
    clip.sort(compare);                                                                                                // 3251
    d3_geo_clipPolygonLinkCircular(subject);                                                                           // 3252
    d3_geo_clipPolygonLinkCircular(clip);                                                                              // 3253
    if (!subject.length) return;                                                                                       // 3254
    for (var i = 0, entry = clipStartInside, n = clip.length; i < n; ++i) {                                            // 3255
      clip[i].e = entry = !entry;                                                                                      // 3256
    }                                                                                                                  // 3257
    var start = subject[0], points, point;                                                                             // 3258
    while (1) {                                                                                                        // 3259
      var current = start, isSubject = true;                                                                           // 3260
      while (current.v) if ((current = current.n) === start) return;                                                   // 3261
      points = current.z;                                                                                              // 3262
      listener.lineStart();                                                                                            // 3263
      do {                                                                                                             // 3264
        current.v = current.o.v = true;                                                                                // 3265
        if (current.e) {                                                                                               // 3266
          if (isSubject) {                                                                                             // 3267
            for (var i = 0, n = points.length; i < n; ++i) listener.point((point = points[i])[0], point[1]);           // 3268
          } else {                                                                                                     // 3269
            interpolate(current.x, current.n.x, 1, listener);                                                          // 3270
          }                                                                                                            // 3271
          current = current.n;                                                                                         // 3272
        } else {                                                                                                       // 3273
          if (isSubject) {                                                                                             // 3274
            points = current.p.z;                                                                                      // 3275
            for (var i = points.length - 1; i >= 0; --i) listener.point((point = points[i])[0], point[1]);             // 3276
          } else {                                                                                                     // 3277
            interpolate(current.x, current.p.x, -1, listener);                                                         // 3278
          }                                                                                                            // 3279
          current = current.p;                                                                                         // 3280
        }                                                                                                              // 3281
        current = current.o;                                                                                           // 3282
        points = current.z;                                                                                            // 3283
        isSubject = !isSubject;                                                                                        // 3284
      } while (!current.v);                                                                                            // 3285
      listener.lineEnd();                                                                                              // 3286
    }                                                                                                                  // 3287
  }                                                                                                                    // 3288
  function d3_geo_clipPolygonLinkCircular(array) {                                                                     // 3289
    if (!(n = array.length)) return;                                                                                   // 3290
    var n, i = 0, a = array[0], b;                                                                                     // 3291
    while (++i < n) {                                                                                                  // 3292
      a.n = b = array[i];                                                                                              // 3293
      b.p = a;                                                                                                         // 3294
      a = b;                                                                                                           // 3295
    }                                                                                                                  // 3296
    a.n = b = array[0];                                                                                                // 3297
    b.p = a;                                                                                                           // 3298
  }                                                                                                                    // 3299
  function d3_geo_clipPolygonIntersection(point, points, other, entry) {                                               // 3300
    this.x = point;                                                                                                    // 3301
    this.z = points;                                                                                                   // 3302
    this.o = other;                                                                                                    // 3303
    this.e = entry;                                                                                                    // 3304
    this.v = false;                                                                                                    // 3305
    this.n = this.p = null;                                                                                            // 3306
  }                                                                                                                    // 3307
  function d3_geo_clip(pointVisible, clipLine, interpolate, clipStart) {                                               // 3308
    return function(rotate, listener) {                                                                                // 3309
      var line = clipLine(listener), rotatedClipStart = rotate.invert(clipStart[0], clipStart[1]);                     // 3310
      var clip = {                                                                                                     // 3311
        point: point,                                                                                                  // 3312
        lineStart: lineStart,                                                                                          // 3313
        lineEnd: lineEnd,                                                                                              // 3314
        polygonStart: function() {                                                                                     // 3315
          clip.point = pointRing;                                                                                      // 3316
          clip.lineStart = ringStart;                                                                                  // 3317
          clip.lineEnd = ringEnd;                                                                                      // 3318
          segments = [];                                                                                               // 3319
          polygon = [];                                                                                                // 3320
        },                                                                                                             // 3321
        polygonEnd: function() {                                                                                       // 3322
          clip.point = point;                                                                                          // 3323
          clip.lineStart = lineStart;                                                                                  // 3324
          clip.lineEnd = lineEnd;                                                                                      // 3325
          segments = d3.merge(segments);                                                                               // 3326
          var clipStartInside = d3_geo_pointInPolygon(rotatedClipStart, polygon);                                      // 3327
          if (segments.length) {                                                                                       // 3328
            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;                                       // 3329
            d3_geo_clipPolygon(segments, d3_geo_clipSort, clipStartInside, interpolate, listener);                     // 3330
          } else if (clipStartInside) {                                                                                // 3331
            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;                                       // 3332
            listener.lineStart();                                                                                      // 3333
            interpolate(null, null, 1, listener);                                                                      // 3334
            listener.lineEnd();                                                                                        // 3335
          }                                                                                                            // 3336
          if (polygonStarted) listener.polygonEnd(), polygonStarted = false;                                           // 3337
          segments = polygon = null;                                                                                   // 3338
        },                                                                                                             // 3339
        sphere: function() {                                                                                           // 3340
          listener.polygonStart();                                                                                     // 3341
          listener.lineStart();                                                                                        // 3342
          interpolate(null, null, 1, listener);                                                                        // 3343
          listener.lineEnd();                                                                                          // 3344
          listener.polygonEnd();                                                                                       // 3345
        }                                                                                                              // 3346
      };                                                                                                               // 3347
      function point(, ) {                                                                                           // 3348
        var point = rotate(, );                                                                                      // 3349
        if (pointVisible( = point[0],  = point[1])) listener.point(, );                                            // 3350
      }                                                                                                                // 3351
      function pointLine(, ) {                                                                                       // 3352
        var point = rotate(, );                                                                                      // 3353
        line.point(point[0], point[1]);                                                                                // 3354
      }                                                                                                                // 3355
      function lineStart() {                                                                                           // 3356
        clip.point = pointLine;                                                                                        // 3357
        line.lineStart();                                                                                              // 3358
      }                                                                                                                // 3359
      function lineEnd() {                                                                                             // 3360
        clip.point = point;                                                                                            // 3361
        line.lineEnd();                                                                                                // 3362
      }                                                                                                                // 3363
      var segments;                                                                                                    // 3364
      var buffer = d3_geo_clipBufferListener(), ringListener = clipLine(buffer), polygonStarted = false, polygon, ring;
      function pointRing(, ) {                                                                                       // 3366
        ring.push([ ,  ]);                                                                                           // 3367
        var point = rotate(, );                                                                                      // 3368
        ringListener.point(point[0], point[1]);                                                                        // 3369
      }                                                                                                                // 3370
      function ringStart() {                                                                                           // 3371
        ringListener.lineStart();                                                                                      // 3372
        ring = [];                                                                                                     // 3373
      }                                                                                                                // 3374
      function ringEnd() {                                                                                             // 3375
        pointRing(ring[0][0], ring[0][1]);                                                                             // 3376
        ringListener.lineEnd();                                                                                        // 3377
        var clean = ringListener.clean(), ringSegments = buffer.buffer(), segment, n = ringSegments.length;            // 3378
        ring.pop();                                                                                                    // 3379
        polygon.push(ring);                                                                                            // 3380
        ring = null;                                                                                                   // 3381
        if (!n) return;                                                                                                // 3382
        if (clean & 1) {                                                                                               // 3383
          segment = ringSegments[0];                                                                                   // 3384
          var n = segment.length - 1, i = -1, point;                                                                   // 3385
          if (n > 0) {                                                                                                 // 3386
            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;                                       // 3387
            listener.lineStart();                                                                                      // 3388
            while (++i < n) listener.point((point = segment[i])[0], point[1]);                                         // 3389
            listener.lineEnd();                                                                                        // 3390
          }                                                                                                            // 3391
          return;                                                                                                      // 3392
        }                                                                                                              // 3393
        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));                    // 3394
        segments.push(ringSegments.filter(d3_geo_clipSegmentLength1));                                                 // 3395
      }                                                                                                                // 3396
      return clip;                                                                                                     // 3397
    };                                                                                                                 // 3398
  }                                                                                                                    // 3399
  function d3_geo_clipSegmentLength1(segment) {                                                                        // 3400
    return segment.length > 1;                                                                                         // 3401
  }                                                                                                                    // 3402
  function d3_geo_clipBufferListener() {                                                                               // 3403
    var lines = [], line;                                                                                              // 3404
    return {                                                                                                           // 3405
      lineStart: function() {                                                                                          // 3406
        lines.push(line = []);                                                                                         // 3407
      },                                                                                                               // 3408
      point: function(, ) {                                                                                          // 3409
        line.push([ ,  ]);                                                                                           // 3410
      },                                                                                                               // 3411
      lineEnd: d3_noop,                                                                                                // 3412
      buffer: function() {                                                                                             // 3413
        var buffer = lines;                                                                                            // 3414
        lines = [];                                                                                                    // 3415
        line = null;                                                                                                   // 3416
        return buffer;                                                                                                 // 3417
      },                                                                                                               // 3418
      rejoin: function() {                                                                                             // 3419
        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));                                           // 3420
      }                                                                                                                // 3421
    };                                                                                                                 // 3422
  }                                                                                                                    // 3423
  function d3_geo_clipSort(a, b) {                                                                                     // 3424
    return ((a = a.x)[0] < 0 ? a[1] - half -  : half - a[1]) - ((b = b.x)[0] < 0 ? b[1] - half -  : half - b[1]);
  }                                                                                                                    // 3426
  var d3_geo_clipAntimeridian = d3_geo_clip(d3_true, d3_geo_clipAntimeridianLine, d3_geo_clipAntimeridianInterpolate, [ -, - / 2 ]);
  function d3_geo_clipAntimeridianLine(listener) {                                                                     // 3428
    var 0 = NaN, 0 = NaN, s0 = NaN, clean;                                                                          // 3429
    return {                                                                                                           // 3430
      lineStart: function() {                                                                                          // 3431
        listener.lineStart();                                                                                          // 3432
        clean = 1;                                                                                                     // 3433
      },                                                                                                               // 3434
      point: function(1, 1) {                                                                                        // 3435
        var s1 = 1 > 0 ?  : -, d = abs(1 - 0);                                                                  // 3436
        if (abs(d - ) < ) {                                                                                         // 3437
          listener.point(0, 0 = (0 + 1) / 2 > 0 ? half : -half);                                                 // 3438
          listener.point(s0, 0);                                                                                     // 3439
          listener.lineEnd();                                                                                          // 3440
          listener.lineStart();                                                                                        // 3441
          listener.point(s1, 0);                                                                                     // 3442
          listener.point(1, 0);                                                                                      // 3443
          clean = 0;                                                                                                   // 3444
        } else if (s0 !== s1 && d >= ) {                                                                           // 3445
          if (abs(0 - s0) < ) 0 -= s0 * ;                                                                        // 3446
          if (abs(1 - s1) < ) 1 -= s1 * ;                                                                        // 3447
          0 = d3_geo_clipAntimeridianIntersect(0, 0, 1, 1);                                                       // 3448
          listener.point(s0, 0);                                                                                     // 3449
          listener.lineEnd();                                                                                          // 3450
          listener.lineStart();                                                                                        // 3451
          listener.point(s1, 0);                                                                                     // 3452
          clean = 0;                                                                                                   // 3453
        }                                                                                                              // 3454
        listener.point(0 = 1, 0 = 1);                                                                              // 3455
        s0 = s1;                                                                                                     // 3456
      },                                                                                                               // 3457
      lineEnd: function() {                                                                                            // 3458
        listener.lineEnd();                                                                                            // 3459
        0 = 0 = NaN;                                                                                                 // 3460
      },                                                                                                               // 3461
      clean: function() {                                                                                              // 3462
        return 2 - clean;                                                                                              // 3463
      }                                                                                                                // 3464
    };                                                                                                                 // 3465
  }                                                                                                                    // 3466
  function d3_geo_clipAntimeridianIntersect(0, 0, 1, 1) {                                                          // 3467
    var cos0, cos1, sin0_1 = Math.sin(0 - 1);                                                                    // 3468
    return abs(sin0_1) >  ? Math.atan((Math.sin(0) * (cos1 = Math.cos(1)) * Math.sin(1) - Math.sin(1) * (cos0 = Math.cos(0)) * Math.sin(0)) / (cos0 * cos1 * sin0_1)) : (0 + 1) / 2;
  }                                                                                                                    // 3470
  function d3_geo_clipAntimeridianInterpolate(from, to, direction, listener) {                                         // 3471
    var ;                                                                                                             // 3472
    if (from == null) {                                                                                                // 3473
       = direction * half;                                                                                           // 3474
      listener.point(-, );                                                                                           // 3475
      listener.point(0, );                                                                                            // 3476
      listener.point(, );                                                                                            // 3477
      listener.point(, 0);                                                                                            // 3478
      listener.point(, -);                                                                                           // 3479
      listener.point(0, -);                                                                                           // 3480
      listener.point(-, -);                                                                                          // 3481
      listener.point(-, 0);                                                                                           // 3482
      listener.point(-, );                                                                                           // 3483
    } else if (abs(from[0] - to[0]) > ) {                                                                             // 3484
      var s = from[0] < to[0] ?  : -;                                                                                // 3485
       = direction * s / 2;                                                                                           // 3486
      listener.point(-s, );                                                                                           // 3487
      listener.point(0, );                                                                                            // 3488
      listener.point(s, );                                                                                            // 3489
    } else {                                                                                                           // 3490
      listener.point(to[0], to[1]);                                                                                    // 3491
    }                                                                                                                  // 3492
  }                                                                                                                    // 3493
  function d3_geo_pointInPolygon(point, polygon) {                                                                     // 3494
    var meridian = point[0], parallel = point[1], meridianNormal = [ Math.sin(meridian), -Math.cos(meridian), 0 ], polarAngle = 0, winding = 0;
    d3_geo_areaRingSum.reset();                                                                                        // 3496
    for (var i = 0, n = polygon.length; i < n; ++i) {                                                                  // 3497
      var ring = polygon[i], m = ring.length;                                                                          // 3498
      if (!m) continue;                                                                                                // 3499
      var point0 = ring[0], 0 = point0[0], 0 = point0[1] / 2 +  / 4, sin0 = Math.sin(0), cos0 = Math.cos(0), j = 1;
      while (true) {                                                                                                   // 3501
        if (j === m) j = 0;                                                                                            // 3502
        point = ring[j];                                                                                               // 3503
        var  = point[0],  = point[1] / 2 +  / 4, sin = Math.sin(), cos = Math.cos(), d =  - 0, sd = d >= 0 ? 1 : -1, ad = sd * d, antimeridian = ad > , k = sin0 * sin;
        d3_geo_areaRingSum.add(Math.atan2(k * sd * Math.sin(ad), cos0 * cos + k * Math.cos(ad)));                 // 3505
        polarAngle += antimeridian ? d + sd *  : d;                                                                // 3506
        if (antimeridian ^ 0 >= meridian ^  >= meridian) {                                                           // 3507
          var arc = d3_geo_cartesianCross(d3_geo_cartesian(point0), d3_geo_cartesian(point));                          // 3508
          d3_geo_cartesianNormalize(arc);                                                                              // 3509
          var intersection = d3_geo_cartesianCross(meridianNormal, arc);                                               // 3510
          d3_geo_cartesianNormalize(intersection);                                                                     // 3511
          var arc = (antimeridian ^ d >= 0 ? -1 : 1) * d3_asin(intersection[2]);                                     // 3512
          if (parallel > arc || parallel === arc && (arc[0] || arc[1])) {                                            // 3513
            winding += antimeridian ^ d >= 0 ? 1 : -1;                                                                // 3514
          }                                                                                                            // 3515
        }                                                                                                              // 3516
        if (!j++) break;                                                                                               // 3517
        0 = , sin0 = sin, cos0 = cos, point0 = point;                                                            // 3518
      }                                                                                                                // 3519
    }                                                                                                                  // 3520
    return (polarAngle < - || polarAngle <  && d3_geo_areaRingSum < 0) ^ winding & 1;                                // 3521
  }                                                                                                                    // 3522
  function d3_geo_clipCircle(radius) {                                                                                 // 3523
    var cr = Math.cos(radius), smallRadius = cr > 0, notHemisphere = abs(cr) > , interpolate = d3_geo_circleInterpolate(radius, 6 * d3_radians);
    return d3_geo_clip(visible, clipLine, interpolate, smallRadius ? [ 0, -radius ] : [ -, radius -  ]);             // 3525
    function visible(, ) {                                                                                           // 3526
      return Math.cos() * Math.cos() > cr;                                                                           // 3527
    }                                                                                                                  // 3528
    function clipLine(listener) {                                                                                      // 3529
      var point0, c0, v0, v00, clean;                                                                                  // 3530
      return {                                                                                                         // 3531
        lineStart: function() {                                                                                        // 3532
          v00 = v0 = false;                                                                                            // 3533
          clean = 1;                                                                                                   // 3534
        },                                                                                                             // 3535
        point: function(, ) {                                                                                        // 3536
          var point1 = [ ,  ], point2, v = visible(, ), c = smallRadius ? v ? 0 : code(, ) : v ? code( + ( < 0 ?  : -), ) : 0;
          if (!point0 && (v00 = v0 = v)) listener.lineStart();                                                         // 3538
          if (v !== v0) {                                                                                              // 3539
            point2 = intersect(point0, point1);                                                                        // 3540
            if (d3_geo_sphericalEqual(point0, point2) || d3_geo_sphericalEqual(point1, point2)) {                      // 3541
              point1[0] += ;                                                                                          // 3542
              point1[1] += ;                                                                                          // 3543
              v = visible(point1[0], point1[1]);                                                                       // 3544
            }                                                                                                          // 3545
          }                                                                                                            // 3546
          if (v !== v0) {                                                                                              // 3547
            clean = 0;                                                                                                 // 3548
            if (v) {                                                                                                   // 3549
              listener.lineStart();                                                                                    // 3550
              point2 = intersect(point1, point0);                                                                      // 3551
              listener.point(point2[0], point2[1]);                                                                    // 3552
            } else {                                                                                                   // 3553
              point2 = intersect(point0, point1);                                                                      // 3554
              listener.point(point2[0], point2[1]);                                                                    // 3555
              listener.lineEnd();                                                                                      // 3556
            }                                                                                                          // 3557
            point0 = point2;                                                                                           // 3558
          } else if (notHemisphere && point0 && smallRadius ^ v) {                                                     // 3559
            var t;                                                                                                     // 3560
            if (!(c & c0) && (t = intersect(point1, point0, true))) {                                                  // 3561
              clean = 0;                                                                                               // 3562
              if (smallRadius) {                                                                                       // 3563
                listener.lineStart();                                                                                  // 3564
                listener.point(t[0][0], t[0][1]);                                                                      // 3565
                listener.point(t[1][0], t[1][1]);                                                                      // 3566
                listener.lineEnd();                                                                                    // 3567
              } else {                                                                                                 // 3568
                listener.point(t[1][0], t[1][1]);                                                                      // 3569
                listener.lineEnd();                                                                                    // 3570
                listener.lineStart();                                                                                  // 3571
                listener.point(t[0][0], t[0][1]);                                                                      // 3572
              }                                                                                                        // 3573
            }                                                                                                          // 3574
          }                                                                                                            // 3575
          if (v && (!point0 || !d3_geo_sphericalEqual(point0, point1))) {                                              // 3576
            listener.point(point1[0], point1[1]);                                                                      // 3577
          }                                                                                                            // 3578
          point0 = point1, v0 = v, c0 = c;                                                                             // 3579
        },                                                                                                             // 3580
        lineEnd: function() {                                                                                          // 3581
          if (v0) listener.lineEnd();                                                                                  // 3582
          point0 = null;                                                                                               // 3583
        },                                                                                                             // 3584
        clean: function() {                                                                                            // 3585
          return clean | (v00 && v0) << 1;                                                                             // 3586
        }                                                                                                              // 3587
      };                                                                                                               // 3588
    }                                                                                                                  // 3589
    function intersect(a, b, two) {                                                                                    // 3590
      var pa = d3_geo_cartesian(a), pb = d3_geo_cartesian(b);                                                          // 3591
      var n1 = [ 1, 0, 0 ], n2 = d3_geo_cartesianCross(pa, pb), n2n2 = d3_geo_cartesianDot(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;
      if (!determinant) return !two && a;                                                                              // 3593
      var c1 = cr * n2n2 / determinant, c2 = -cr * n1n2 / determinant, n1xn2 = d3_geo_cartesianCross(n1, n2), A = d3_geo_cartesianScale(n1, c1), B = d3_geo_cartesianScale(n2, c2);
      d3_geo_cartesianAdd(A, B);                                                                                       // 3595
      var u = n1xn2, w = d3_geo_cartesianDot(A, u), uu = d3_geo_cartesianDot(u, u), t2 = w * w - uu * (d3_geo_cartesianDot(A, A) - 1);
      if (t2 < 0) return;                                                                                              // 3597
      var t = Math.sqrt(t2), q = d3_geo_cartesianScale(u, (-w - t) / uu);                                              // 3598
      d3_geo_cartesianAdd(q, A);                                                                                       // 3599
      q = d3_geo_spherical(q);                                                                                         // 3600
      if (!two) return q;                                                                                              // 3601
      var 0 = a[0], 1 = b[0], 0 = a[1], 1 = b[1], z;                                                               // 3602
      if (1 < 0) z = 0, 0 = 1, 1 = z;                                                                            // 3603
      var  = 1 - 0, polar = abs( - ) < , meridian = polar ||  < ;                                           // 3604
      if (!polar && 1 < 0) z = 0, 0 = 1, 1 = z;                                                                  // 3605
      if (meridian ? polar ? 0 + 1 > 0 ^ q[1] < (abs(q[0] - 0) <  ? 0 : 1) : 0 <= q[1] && q[1] <= 1 :  >  ^ (0 <= q[0] && q[0] <= 1)) {
        var q1 = d3_geo_cartesianScale(u, (-w + t) / uu);                                                              // 3607
        d3_geo_cartesianAdd(q1, A);                                                                                    // 3608
        return [ q, d3_geo_spherical(q1) ];                                                                            // 3609
      }                                                                                                                // 3610
    }                                                                                                                  // 3611
    function code(, ) {                                                                                              // 3612
      var r = smallRadius ? radius :  - radius, code = 0;                                                             // 3613
      if ( < -r) code |= 1; else if ( > r) code |= 2;                                                                // 3614
      if ( < -r) code |= 4; else if ( > r) code |= 8;                                                                // 3615
      return code;                                                                                                     // 3616
    }                                                                                                                  // 3617
  }                                                                                                                    // 3618
  function d3_geom_clipLine(x0, y0, x1, y1) {                                                                          // 3619
    return function(line) {                                                                                            // 3620
      var a = line.a, b = line.b, ax = a.x, ay = a.y, bx = b.x, by = b.y, t0 = 0, t1 = 1, dx = bx - ax, dy = by - ay, r;
      r = x0 - ax;                                                                                                     // 3622
      if (!dx && r > 0) return;                                                                                        // 3623
      r /= dx;                                                                                                         // 3624
      if (dx < 0) {                                                                                                    // 3625
        if (r < t0) return;                                                                                            // 3626
        if (r < t1) t1 = r;                                                                                            // 3627
      } else if (dx > 0) {                                                                                             // 3628
        if (r > t1) return;                                                                                            // 3629
        if (r > t0) t0 = r;                                                                                            // 3630
      }                                                                                                                // 3631
      r = x1 - ax;                                                                                                     // 3632
      if (!dx && r < 0) return;                                                                                        // 3633
      r /= dx;                                                                                                         // 3634
      if (dx < 0) {                                                                                                    // 3635
        if (r > t1) return;                                                                                            // 3636
        if (r > t0) t0 = r;                                                                                            // 3637
      } else if (dx > 0) {                                                                                             // 3638
        if (r < t0) return;                                                                                            // 3639
        if (r < t1) t1 = r;                                                                                            // 3640
      }                                                                                                                // 3641
      r = y0 - ay;                                                                                                     // 3642
      if (!dy && r > 0) return;                                                                                        // 3643
      r /= dy;                                                                                                         // 3644
      if (dy < 0) {                                                                                                    // 3645
        if (r < t0) return;                                                                                            // 3646
        if (r < t1) t1 = r;                                                                                            // 3647
      } else if (dy > 0) {                                                                                             // 3648
        if (r > t1) return;                                                                                            // 3649
        if (r > t0) t0 = r;                                                                                            // 3650
      }                                                                                                                // 3651
      r = y1 - ay;                                                                                                     // 3652
      if (!dy && r < 0) return;                                                                                        // 3653
      r /= dy;                                                                                                         // 3654
      if (dy < 0) {                                                                                                    // 3655
        if (r > t1) return;                                                                                            // 3656
        if (r > t0) t0 = r;                                                                                            // 3657
      } else if (dy > 0) {                                                                                             // 3658
        if (r < t0) return;                                                                                            // 3659
        if (r < t1) t1 = r;                                                                                            // 3660
      }                                                                                                                // 3661
      if (t0 > 0) line.a = {                                                                                           // 3662
        x: ax + t0 * dx,                                                                                               // 3663
        y: ay + t0 * dy                                                                                                // 3664
      };                                                                                                               // 3665
      if (t1 < 1) line.b = {                                                                                           // 3666
        x: ax + t1 * dx,                                                                                               // 3667
        y: ay + t1 * dy                                                                                                // 3668
      };                                                                                                               // 3669
      return line;                                                                                                     // 3670
    };                                                                                                                 // 3671
  }                                                                                                                    // 3672
  var d3_geo_clipExtentMAX = 1e9;                                                                                      // 3673
  d3.geo.clipExtent = function() {                                                                                     // 3674
    var x0, y0, x1, y1, stream, clip, clipExtent = {                                                                   // 3675
      stream: function(output) {                                                                                       // 3676
        if (stream) stream.valid = false;                                                                              // 3677
        stream = clip(output);                                                                                         // 3678
        stream.valid = true;                                                                                           // 3679
        return stream;                                                                                                 // 3680
      },                                                                                                               // 3681
      extent: function(_) {                                                                                            // 3682
        if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];                                                      // 3683
        clip = d3_geo_clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]);                          // 3684
        if (stream) stream.valid = false, stream = null;                                                               // 3685
        return clipExtent;                                                                                             // 3686
      }                                                                                                                // 3687
    };                                                                                                                 // 3688
    return clipExtent.extent([ [ 0, 0 ], [ 960, 500 ] ]);                                                              // 3689
  };                                                                                                                   // 3690
  function d3_geo_clipExtent(x0, y0, x1, y1) {                                                                         // 3691
    return function(listener) {                                                                                        // 3692
      var listener_ = listener, bufferListener = d3_geo_clipBufferListener(), clipLine = d3_geom_clipLine(x0, y0, x1, y1), segments, polygon, ring;
      var clip = {                                                                                                     // 3694
        point: point,                                                                                                  // 3695
        lineStart: lineStart,                                                                                          // 3696
        lineEnd: lineEnd,                                                                                              // 3697
        polygonStart: function() {                                                                                     // 3698
          listener = bufferListener;                                                                                   // 3699
          segments = [];                                                                                               // 3700
          polygon = [];                                                                                                // 3701
          clean = true;                                                                                                // 3702
        },                                                                                                             // 3703
        polygonEnd: function() {                                                                                       // 3704
          listener = listener_;                                                                                        // 3705
          segments = d3.merge(segments);                                                                               // 3706
          var clipStartInside = insidePolygon([ x0, y1 ]), inside = clean && clipStartInside, visible = segments.length;
          if (inside || visible) {                                                                                     // 3708
            listener.polygonStart();                                                                                   // 3709
            if (inside) {                                                                                              // 3710
              listener.lineStart();                                                                                    // 3711
              interpolate(null, null, 1, listener);                                                                    // 3712
              listener.lineEnd();                                                                                      // 3713
            }                                                                                                          // 3714
            if (visible) {                                                                                             // 3715
              d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener);                           // 3716
            }                                                                                                          // 3717
            listener.polygonEnd();                                                                                     // 3718
          }                                                                                                            // 3719
          segments = polygon = ring = null;                                                                            // 3720
        }                                                                                                              // 3721
      };                                                                                                               // 3722
      function insidePolygon(p) {                                                                                      // 3723
        var wn = 0, n = polygon.length, y = p[1];                                                                      // 3724
        for (var i = 0; i < n; ++i) {                                                                                  // 3725
          for (var j = 1, v = polygon[i], m = v.length, a = v[0], b; j < m; ++j) {                                     // 3726
            b = v[j];                                                                                                  // 3727
            if (a[1] <= y) {                                                                                           // 3728
              if (b[1] > y && d3_cross2d(a, b, p) > 0) ++wn;                                                           // 3729
            } else {                                                                                                   // 3730
              if (b[1] <= y && d3_cross2d(a, b, p) < 0) --wn;                                                          // 3731
            }                                                                                                          // 3732
            a = b;                                                                                                     // 3733
          }                                                                                                            // 3734
        }                                                                                                              // 3735
        return wn !== 0;                                                                                               // 3736
      }                                                                                                                // 3737
      function interpolate(from, to, direction, listener) {                                                            // 3738
        var a = 0, a1 = 0;                                                                                             // 3739
        if (from == null || (a = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoints(from, to) < 0 ^ direction > 0) {
          do {                                                                                                         // 3741
            listener.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);                                             // 3742
          } while ((a = (a + direction + 4) % 4) !== a1);                                                              // 3743
        } else {                                                                                                       // 3744
          listener.point(to[0], to[1]);                                                                                // 3745
        }                                                                                                              // 3746
      }                                                                                                                // 3747
      function pointVisible(x, y) {                                                                                    // 3748
        return x0 <= x && x <= x1 && y0 <= y && y <= y1;                                                               // 3749
      }                                                                                                                // 3750
      function point(x, y) {                                                                                           // 3751
        if (pointVisible(x, y)) listener.point(x, y);                                                                  // 3752
      }                                                                                                                // 3753
      var x__, y__, v__, x_, y_, v_, first, clean;                                                                     // 3754
      function lineStart() {                                                                                           // 3755
        clip.point = linePoint;                                                                                        // 3756
        if (polygon) polygon.push(ring = []);                                                                          // 3757
        first = true;                                                                                                  // 3758
        v_ = false;                                                                                                    // 3759
        x_ = y_ = NaN;                                                                                                 // 3760
      }                                                                                                                // 3761
      function lineEnd() {                                                                                             // 3762
        if (segments) {                                                                                                // 3763
          linePoint(x__, y__);                                                                                         // 3764
          if (v__ && v_) bufferListener.rejoin();                                                                      // 3765
          segments.push(bufferListener.buffer());                                                                      // 3766
        }                                                                                                              // 3767
        clip.point = point;                                                                                            // 3768
        if (v_) listener.lineEnd();                                                                                    // 3769
      }                                                                                                                // 3770
      function linePoint(x, y) {                                                                                       // 3771
        x = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, x));                                        // 3772
        y = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, y));                                        // 3773
        var v = pointVisible(x, y);                                                                                    // 3774
        if (polygon) ring.push([ x, y ]);                                                                              // 3775
        if (first) {                                                                                                   // 3776
          x__ = x, y__ = y, v__ = v;                                                                                   // 3777
          first = false;                                                                                               // 3778
          if (v) {                                                                                                     // 3779
            listener.lineStart();                                                                                      // 3780
            listener.point(x, y);                                                                                      // 3781
          }                                                                                                            // 3782
        } else {                                                                                                       // 3783
          if (v && v_) listener.point(x, y); else {                                                                    // 3784
            var l = {                                                                                                  // 3785
              a: {                                                                                                     // 3786
                x: x_,                                                                                                 // 3787
                y: y_                                                                                                  // 3788
              },                                                                                                       // 3789
              b: {                                                                                                     // 3790
                x: x,                                                                                                  // 3791
                y: y                                                                                                   // 3792
              }                                                                                                        // 3793
            };                                                                                                         // 3794
            if (clipLine(l)) {                                                                                         // 3795
              if (!v_) {                                                                                               // 3796
                listener.lineStart();                                                                                  // 3797
                listener.point(l.a.x, l.a.y);                                                                          // 3798
              }                                                                                                        // 3799
              listener.point(l.b.x, l.b.y);                                                                            // 3800
              if (!v) listener.lineEnd();                                                                              // 3801
              clean = false;                                                                                           // 3802
            } else if (v) {                                                                                            // 3803
              listener.lineStart();                                                                                    // 3804
              listener.point(x, y);                                                                                    // 3805
              clean = false;                                                                                           // 3806
            }                                                                                                          // 3807
          }                                                                                                            // 3808
        }                                                                                                              // 3809
        x_ = x, y_ = y, v_ = v;                                                                                        // 3810
      }                                                                                                                // 3811
      return clip;                                                                                                     // 3812
    };                                                                                                                 // 3813
    function corner(p, direction) {                                                                                    // 3814
      return abs(p[0] - x0) <  ? direction > 0 ? 0 : 3 : abs(p[0] - x1) <  ? direction > 0 ? 2 : 1 : abs(p[1] - y0) <  ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2;
    }                                                                                                                  // 3816
    function compare(a, b) {                                                                                           // 3817
      return comparePoints(a.x, b.x);                                                                                  // 3818
    }                                                                                                                  // 3819
    function comparePoints(a, b) {                                                                                     // 3820
      var ca = corner(a, 1), cb = corner(b, 1);                                                                        // 3821
      return ca !== cb ? ca - cb : ca === 0 ? b[1] - a[1] : ca === 1 ? a[0] - b[0] : ca === 2 ? a[1] - b[1] : b[0] - a[0];
    }                                                                                                                  // 3823
  }                                                                                                                    // 3824
  function d3_geo_conic(projectAt) {                                                                                   // 3825
    var 0 = 0, 1 =  / 3, m = d3_geo_projectionMutator(projectAt), p = m(0, 1);                                    // 3826
    p.parallels = function(_) {                                                                                        // 3827
      if (!arguments.length) return [ 0 /  * 180, 1 /  * 180 ];                                                    // 3828
      return m(0 = _[0] *  / 180, 1 = _[1] *  / 180);                                                              // 3829
    };                                                                                                                 // 3830
    return p;                                                                                                          // 3831
  }                                                                                                                    // 3832
  function d3_geo_conicEqualArea(0, 1) {                                                                             // 3833
    var sin0 = Math.sin(0), n = (sin0 + Math.sin(1)) / 2, C = 1 + sin0 * (2 * n - sin0), 0 = Math.sqrt(C) / n;  // 3834
    function forward(, ) {                                                                                           // 3835
      var  = Math.sqrt(C - 2 * n * Math.sin()) / n;                                                                  // 3836
      return [  * Math.sin( *= n), 0 -  * Math.cos() ];                                                           // 3837
    }                                                                                                                  // 3838
    forward.invert = function(x, y) {                                                                                  // 3839
      var 0_y = 0 - y;                                                                                               // 3840
      return [ Math.atan2(x, 0_y) / n, d3_asin((C - (x * x + 0_y * 0_y) * n * n) / (2 * n)) ];                      // 3841
    };                                                                                                                 // 3842
    return forward;                                                                                                    // 3843
  }                                                                                                                    // 3844
  (d3.geo.conicEqualArea = function() {                                                                                // 3845
    return d3_geo_conic(d3_geo_conicEqualArea);                                                                        // 3846
  }).raw = d3_geo_conicEqualArea;                                                                                      // 3847
  d3.geo.albers = function() {                                                                                         // 3848
    return d3.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);      // 3849
  };                                                                                                                   // 3850
  d3.geo.albersUsa = function() {                                                                                      // 3851
    var lower48 = d3.geo.albers();                                                                                     // 3852
    var alaska = d3.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]);                // 3853
    var hawaii = d3.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]);                 // 3854
    var point, pointStream = {                                                                                         // 3855
      point: function(x, y) {                                                                                          // 3856
        point = [ x, y ];                                                                                              // 3857
      }                                                                                                                // 3858
    }, lower48Point, alaskaPoint, hawaiiPoint;                                                                         // 3859
    function albersUsa(coordinates) {                                                                                  // 3860
      var x = coordinates[0], y = coordinates[1];                                                                      // 3861
      point = null;                                                                                                    // 3862
      (lower48Point(x, y), point) || (alaskaPoint(x, y), point) || hawaiiPoint(x, y);                                  // 3863
      return point;                                                                                                    // 3864
    }                                                                                                                  // 3865
    albersUsa.invert = function(coordinates) {                                                                         // 3866
      var k = lower48.scale(), t = lower48.translate(), x = (coordinates[0] - t[0]) / k, y = (coordinates[1] - t[1]) / k;
      return (y >= .12 && y < .234 && x >= -.425 && x < -.214 ? alaska : y >= .166 && y < .234 && x >= -.214 && x < -.115 ? hawaii : lower48).invert(coordinates);
    };                                                                                                                 // 3869
    albersUsa.stream = function(stream) {                                                                              // 3870
      var lower48Stream = lower48.stream(stream), alaskaStream = alaska.stream(stream), hawaiiStream = hawaii.stream(stream);
      return {                                                                                                         // 3872
        point: function(x, y) {                                                                                        // 3873
          lower48Stream.point(x, y);                                                                                   // 3874
          alaskaStream.point(x, y);                                                                                    // 3875
          hawaiiStream.point(x, y);                                                                                    // 3876
        },                                                                                                             // 3877
        sphere: function() {                                                                                           // 3878
          lower48Stream.sphere();                                                                                      // 3879
          alaskaStream.sphere();                                                                                       // 3880
          hawaiiStream.sphere();                                                                                       // 3881
        },                                                                                                             // 3882
        lineStart: function() {                                                                                        // 3883
          lower48Stream.lineStart();                                                                                   // 3884
          alaskaStream.lineStart();                                                                                    // 3885
          hawaiiStream.lineStart();                                                                                    // 3886
        },                                                                                                             // 3887
        lineEnd: function() {                                                                                          // 3888
          lower48Stream.lineEnd();                                                                                     // 3889
          alaskaStream.lineEnd();                                                                                      // 3890
          hawaiiStream.lineEnd();                                                                                      // 3891
        },                                                                                                             // 3892
        polygonStart: function() {                                                                                     // 3893
          lower48Stream.polygonStart();                                                                                // 3894
          alaskaStream.polygonStart();                                                                                 // 3895
          hawaiiStream.polygonStart();                                                                                 // 3896
        },                                                                                                             // 3897
        polygonEnd: function() {                                                                                       // 3898
          lower48Stream.polygonEnd();                                                                                  // 3899
          alaskaStream.polygonEnd();                                                                                   // 3900
          hawaiiStream.polygonEnd();                                                                                   // 3901
        }                                                                                                              // 3902
      };                                                                                                               // 3903
    };                                                                                                                 // 3904
    albersUsa.precision = function(_) {                                                                                // 3905
      if (!arguments.length) return lower48.precision();                                                               // 3906
      lower48.precision(_);                                                                                            // 3907
      alaska.precision(_);                                                                                             // 3908
      hawaii.precision(_);                                                                                             // 3909
      return albersUsa;                                                                                                // 3910
    };                                                                                                                 // 3911
    albersUsa.scale = function(_) {                                                                                    // 3912
      if (!arguments.length) return lower48.scale();                                                                   // 3913
      lower48.scale(_);                                                                                                // 3914
      alaska.scale(_ * .35);                                                                                           // 3915
      hawaii.scale(_);                                                                                                 // 3916
      return albersUsa.translate(lower48.translate());                                                                 // 3917
    };                                                                                                                 // 3918
    albersUsa.translate = function(_) {                                                                                // 3919
      if (!arguments.length) return lower48.translate();                                                               // 3920
      var k = lower48.scale(), x = +_[0], y = +_[1];                                                                   // 3921
      lower48Point = lower48.translate(_).clipExtent([ [ x - .455 * k, y - .238 * k ], [ x + .455 * k, y + .238 * k ] ]).stream(pointStream).point;
      alaskaPoint = alaska.translate([ x - .307 * k, y + .201 * k ]).clipExtent([ [ x - .425 * k + , y + .12 * k +  ], [ x - .214 * k - , y + .234 * k -  ] ]).stream(pointStream).point;
      hawaiiPoint = hawaii.translate([ x - .205 * k, y + .212 * k ]).clipExtent([ [ x - .214 * k + , y + .166 * k +  ], [ x - .115 * k - , y + .234 * k -  ] ]).stream(pointStream).point;
      return albersUsa;                                                                                                // 3925
    };                                                                                                                 // 3926
    return albersUsa.scale(1070);                                                                                      // 3927
  };                                                                                                                   // 3928
  var d3_geo_pathAreaSum, d3_geo_pathAreaPolygon, d3_geo_pathArea = {                                                  // 3929
    point: d3_noop,                                                                                                    // 3930
    lineStart: d3_noop,                                                                                                // 3931
    lineEnd: d3_noop,                                                                                                  // 3932
    polygonStart: function() {                                                                                         // 3933
      d3_geo_pathAreaPolygon = 0;                                                                                      // 3934
      d3_geo_pathArea.lineStart = d3_geo_pathAreaRingStart;                                                            // 3935
    },                                                                                                                 // 3936
    polygonEnd: function() {                                                                                           // 3937
      d3_geo_pathArea.lineStart = d3_geo_pathArea.lineEnd = d3_geo_pathArea.point = d3_noop;                           // 3938
      d3_geo_pathAreaSum += abs(d3_geo_pathAreaPolygon / 2);                                                           // 3939
    }                                                                                                                  // 3940
  };                                                                                                                   // 3941
  function d3_geo_pathAreaRingStart() {                                                                                // 3942
    var x00, y00, x0, y0;                                                                                              // 3943
    d3_geo_pathArea.point = function(x, y) {                                                                           // 3944
      d3_geo_pathArea.point = nextPoint;                                                                               // 3945
      x00 = x0 = x, y00 = y0 = y;                                                                                      // 3946
    };                                                                                                                 // 3947
    function nextPoint(x, y) {                                                                                         // 3948
      d3_geo_pathAreaPolygon += y0 * x - x0 * y;                                                                       // 3949
      x0 = x, y0 = y;                                                                                                  // 3950
    }                                                                                                                  // 3951
    d3_geo_pathArea.lineEnd = function() {                                                                             // 3952
      nextPoint(x00, y00);                                                                                             // 3953
    };                                                                                                                 // 3954
  }                                                                                                                    // 3955
  var d3_geo_pathBoundsX0, d3_geo_pathBoundsY0, d3_geo_pathBoundsX1, d3_geo_pathBoundsY1;                              // 3956
  var d3_geo_pathBounds = {                                                                                            // 3957
    point: d3_geo_pathBoundsPoint,                                                                                     // 3958
    lineStart: d3_noop,                                                                                                // 3959
    lineEnd: d3_noop,                                                                                                  // 3960
    polygonStart: d3_noop,                                                                                             // 3961
    polygonEnd: d3_noop                                                                                                // 3962
  };                                                                                                                   // 3963
  function d3_geo_pathBoundsPoint(x, y) {                                                                              // 3964
    if (x < d3_geo_pathBoundsX0) d3_geo_pathBoundsX0 = x;                                                              // 3965
    if (x > d3_geo_pathBoundsX1) d3_geo_pathBoundsX1 = x;                                                              // 3966
    if (y < d3_geo_pathBoundsY0) d3_geo_pathBoundsY0 = y;                                                              // 3967
    if (y > d3_geo_pathBoundsY1) d3_geo_pathBoundsY1 = y;                                                              // 3968
  }                                                                                                                    // 3969
  function d3_geo_pathBuffer() {                                                                                       // 3970
    var pointCircle = d3_geo_pathBufferCircle(4.5), buffer = [];                                                       // 3971
    var stream = {                                                                                                     // 3972
      point: point,                                                                                                    // 3973
      lineStart: function() {                                                                                          // 3974
        stream.point = pointLineStart;                                                                                 // 3975
      },                                                                                                               // 3976
      lineEnd: lineEnd,                                                                                                // 3977
      polygonStart: function() {                                                                                       // 3978
        stream.lineEnd = lineEndPolygon;                                                                               // 3979
      },                                                                                                               // 3980
      polygonEnd: function() {                                                                                         // 3981
        stream.lineEnd = lineEnd;                                                                                      // 3982
        stream.point = point;                                                                                          // 3983
      },                                                                                                               // 3984
      pointRadius: function(_) {                                                                                       // 3985
        pointCircle = d3_geo_pathBufferCircle(_);                                                                      // 3986
        return stream;                                                                                                 // 3987
      },                                                                                                               // 3988
      result: function() {                                                                                             // 3989
        if (buffer.length) {                                                                                           // 3990
          var result = buffer.join("");                                                                                // 3991
          buffer = [];                                                                                                 // 3992
          return result;                                                                                               // 3993
        }                                                                                                              // 3994
      }                                                                                                                // 3995
    };                                                                                                                 // 3996
    function point(x, y) {                                                                                             // 3997
      buffer.push("M", x, ",", y, pointCircle);                                                                        // 3998
    }                                                                                                                  // 3999
    function pointLineStart(x, y) {                                                                                    // 4000
      buffer.push("M", x, ",", y);                                                                                     // 4001
      stream.point = pointLine;                                                                                        // 4002
    }                                                                                                                  // 4003
    function pointLine(x, y) {                                                                                         // 4004
      buffer.push("L", x, ",", y);                                                                                     // 4005
    }                                                                                                                  // 4006
    function lineEnd() {                                                                                               // 4007
      stream.point = point;                                                                                            // 4008
    }                                                                                                                  // 4009
    function lineEndPolygon() {                                                                                        // 4010
      buffer.push("Z");                                                                                                // 4011
    }                                                                                                                  // 4012
    return stream;                                                                                                     // 4013
  }                                                                                                                    // 4014
  function d3_geo_pathBufferCircle(radius) {                                                                           // 4015
    return "m0," + radius + "a" + radius + "," + radius + " 0 1,1 0," + -2 * radius + "a" + radius + "," + radius + " 0 1,1 0," + 2 * radius + "z";
  }                                                                                                                    // 4017
  var d3_geo_pathCentroid = {                                                                                          // 4018
    point: d3_geo_pathCentroidPoint,                                                                                   // 4019
    lineStart: d3_geo_pathCentroidLineStart,                                                                           // 4020
    lineEnd: d3_geo_pathCentroidLineEnd,                                                                               // 4021
    polygonStart: function() {                                                                                         // 4022
      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidRingStart;                                                    // 4023
    },                                                                                                                 // 4024
    polygonEnd: function() {                                                                                           // 4025
      d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;                                                            // 4026
      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidLineStart;                                                    // 4027
      d3_geo_pathCentroid.lineEnd = d3_geo_pathCentroidLineEnd;                                                        // 4028
    }                                                                                                                  // 4029
  };                                                                                                                   // 4030
  function d3_geo_pathCentroidPoint(x, y) {                                                                            // 4031
    d3_geo_centroidX0 += x;                                                                                            // 4032
    d3_geo_centroidY0 += y;                                                                                            // 4033
    ++d3_geo_centroidZ0;                                                                                               // 4034
  }                                                                                                                    // 4035
  function d3_geo_pathCentroidLineStart() {                                                                            // 4036
    var x0, y0;                                                                                                        // 4037
    d3_geo_pathCentroid.point = function(x, y) {                                                                       // 4038
      d3_geo_pathCentroid.point = nextPoint;                                                                           // 4039
      d3_geo_pathCentroidPoint(x0 = x, y0 = y);                                                                        // 4040
    };                                                                                                                 // 4041
    function nextPoint(x, y) {                                                                                         // 4042
      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);                                                  // 4043
      d3_geo_centroidX1 += z * (x0 + x) / 2;                                                                           // 4044
      d3_geo_centroidY1 += z * (y0 + y) / 2;                                                                           // 4045
      d3_geo_centroidZ1 += z;                                                                                          // 4046
      d3_geo_pathCentroidPoint(x0 = x, y0 = y);                                                                        // 4047
    }                                                                                                                  // 4048
  }                                                                                                                    // 4049
  function d3_geo_pathCentroidLineEnd() {                                                                              // 4050
    d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;                                                              // 4051
  }                                                                                                                    // 4052
  function d3_geo_pathCentroidRingStart() {                                                                            // 4053
    var x00, y00, x0, y0;                                                                                              // 4054
    d3_geo_pathCentroid.point = function(x, y) {                                                                       // 4055
      d3_geo_pathCentroid.point = nextPoint;                                                                           // 4056
      d3_geo_pathCentroidPoint(x00 = x0 = x, y00 = y0 = y);                                                            // 4057
    };                                                                                                                 // 4058
    function nextPoint(x, y) {                                                                                         // 4059
      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);                                                  // 4060
      d3_geo_centroidX1 += z * (x0 + x) / 2;                                                                           // 4061
      d3_geo_centroidY1 += z * (y0 + y) / 2;                                                                           // 4062
      d3_geo_centroidZ1 += z;                                                                                          // 4063
      z = y0 * x - x0 * y;                                                                                             // 4064
      d3_geo_centroidX2 += z * (x0 + x);                                                                               // 4065
      d3_geo_centroidY2 += z * (y0 + y);                                                                               // 4066
      d3_geo_centroidZ2 += z * 3;                                                                                      // 4067
      d3_geo_pathCentroidPoint(x0 = x, y0 = y);                                                                        // 4068
    }                                                                                                                  // 4069
    d3_geo_pathCentroid.lineEnd = function() {                                                                         // 4070
      nextPoint(x00, y00);                                                                                             // 4071
    };                                                                                                                 // 4072
  }                                                                                                                    // 4073
  function d3_geo_pathContext(context) {                                                                               // 4074
    var pointRadius = 4.5;                                                                                             // 4075
    var stream = {                                                                                                     // 4076
      point: point,                                                                                                    // 4077
      lineStart: function() {                                                                                          // 4078
        stream.point = pointLineStart;                                                                                 // 4079
      },                                                                                                               // 4080
      lineEnd: lineEnd,                                                                                                // 4081
      polygonStart: function() {                                                                                       // 4082
        stream.lineEnd = lineEndPolygon;                                                                               // 4083
      },                                                                                                               // 4084
      polygonEnd: function() {                                                                                         // 4085
        stream.lineEnd = lineEnd;                                                                                      // 4086
        stream.point = point;                                                                                          // 4087
      },                                                                                                               // 4088
      pointRadius: function(_) {                                                                                       // 4089
        pointRadius = _;                                                                                               // 4090
        return stream;                                                                                                 // 4091
      },                                                                                                               // 4092
      result: d3_noop                                                                                                  // 4093
    };                                                                                                                 // 4094
    function point(x, y) {                                                                                             // 4095
      context.moveTo(x + pointRadius, y);                                                                              // 4096
      context.arc(x, y, pointRadius, 0, );                                                                            // 4097
    }                                                                                                                  // 4098
    function pointLineStart(x, y) {                                                                                    // 4099
      context.moveTo(x, y);                                                                                            // 4100
      stream.point = pointLine;                                                                                        // 4101
    }                                                                                                                  // 4102
    function pointLine(x, y) {                                                                                         // 4103
      context.lineTo(x, y);                                                                                            // 4104
    }                                                                                                                  // 4105
    function lineEnd() {                                                                                               // 4106
      stream.point = point;                                                                                            // 4107
    }                                                                                                                  // 4108
    function lineEndPolygon() {                                                                                        // 4109
      context.closePath();                                                                                             // 4110
    }                                                                                                                  // 4111
    return stream;                                                                                                     // 4112
  }                                                                                                                    // 4113
  function d3_geo_resample(project) {                                                                                  // 4114
    var 2 = .5, cosMinDistance = Math.cos(30 * d3_radians), maxDepth = 16;                                            // 4115
    function resample(stream) {                                                                                        // 4116
      return (maxDepth ? resampleRecursive : resampleNone)(stream);                                                    // 4117
    }                                                                                                                  // 4118
    function resampleNone(stream) {                                                                                    // 4119
      return d3_geo_transformPoint(stream, function(x, y) {                                                            // 4120
        x = project(x, y);                                                                                             // 4121
        stream.point(x[0], x[1]);                                                                                      // 4122
      });                                                                                                              // 4123
    }                                                                                                                  // 4124
    function resampleRecursive(stream) {                                                                               // 4125
      var 00, 00, x00, y00, a00, b00, c00, 0, x0, y0, a0, b0, c0;                                                   // 4126
      var resample = {                                                                                                 // 4127
        point: point,                                                                                                  // 4128
        lineStart: lineStart,                                                                                          // 4129
        lineEnd: lineEnd,                                                                                              // 4130
        polygonStart: function() {                                                                                     // 4131
          stream.polygonStart();                                                                                       // 4132
          resample.lineStart = ringStart;                                                                              // 4133
        },                                                                                                             // 4134
        polygonEnd: function() {                                                                                       // 4135
          stream.polygonEnd();                                                                                         // 4136
          resample.lineStart = lineStart;                                                                              // 4137
        }                                                                                                              // 4138
      };                                                                                                               // 4139
      function point(x, y) {                                                                                           // 4140
        x = project(x, y);                                                                                             // 4141
        stream.point(x[0], x[1]);                                                                                      // 4142
      }                                                                                                                // 4143
      function lineStart() {                                                                                           // 4144
        x0 = NaN;                                                                                                      // 4145
        resample.point = linePoint;                                                                                    // 4146
        stream.lineStart();                                                                                            // 4147
      }                                                                                                                // 4148
      function linePoint(, ) {                                                                                       // 4149
        var c = d3_geo_cartesian([ ,  ]), p = project(, );                                                         // 4150
        resampleLineTo(x0, y0, 0, a0, b0, c0, x0 = p[0], y0 = p[1], 0 = , a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);
        stream.point(x0, y0);                                                                                          // 4152
      }                                                                                                                // 4153
      function lineEnd() {                                                                                             // 4154
        resample.point = point;                                                                                        // 4155
        stream.lineEnd();                                                                                              // 4156
      }                                                                                                                // 4157
      function ringStart() {                                                                                           // 4158
        lineStart();                                                                                                   // 4159
        resample.point = ringPoint;                                                                                    // 4160
        resample.lineEnd = ringEnd;                                                                                    // 4161
      }                                                                                                                // 4162
      function ringPoint(, ) {                                                                                       // 4163
        linePoint(00 = , 00 = ), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;                                 // 4164
        resample.point = linePoint;                                                                                    // 4165
      }                                                                                                                // 4166
      function ringEnd() {                                                                                             // 4167
        resampleLineTo(x0, y0, 0, a0, b0, c0, x00, y00, 00, a00, b00, c00, maxDepth, stream);                        // 4168
        resample.lineEnd = lineEnd;                                                                                    // 4169
        lineEnd();                                                                                                     // 4170
      }                                                                                                                // 4171
      return resample;                                                                                                 // 4172
    }                                                                                                                  // 4173
    function resampleLineTo(x0, y0, 0, a0, b0, c0, x1, y1, 1, a1, b1, c1, depth, stream) {                           // 4174
      var dx = x1 - x0, dy = y1 - y0, d2 = dx * dx + dy * dy;                                                          // 4175
      if (d2 > 4 * 2 && depth--) {                                                                                    // 4176
        var a = a0 + a1, b = b0 + b1, c = c0 + c1, m = Math.sqrt(a * a + b * b + c * c), 2 = Math.asin(c /= m), 2 = abs(abs(c) - 1) <  || abs(0 - 1) <  ? (0 + 1) / 2 : Math.atan2(b, a), p = project(2, 2), x2 = p[0], y2 = p[1], dx2 = x2 - x0, dy2 = y2 - y0, dz = dy * dx2 - dx * dy2;
        if (dz * dz / d2 > 2 || abs((dx * dx2 + dy * dy2) / d2 - .5) > .3 || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) {
          resampleLineTo(x0, y0, 0, a0, b0, c0, x2, y2, 2, a /= m, b /= m, c, depth, stream);                        // 4179
          stream.point(x2, y2);                                                                                        // 4180
          resampleLineTo(x2, y2, 2, a, b, c, x1, y1, 1, a1, b1, c1, depth, stream);                                  // 4181
        }                                                                                                              // 4182
      }                                                                                                                // 4183
    }                                                                                                                  // 4184
    resample.precision = function(_) {                                                                                 // 4185
      if (!arguments.length) return Math.sqrt(2);                                                                     // 4186
      maxDepth = (2 = _ * _) > 0 && 16;                                                                               // 4187
      return resample;                                                                                                 // 4188
    };                                                                                                                 // 4189
    return resample;                                                                                                   // 4190
  }                                                                                                                    // 4191
  d3.geo.path = function() {                                                                                           // 4192
    var pointRadius = 4.5, projection, context, projectStream, contextStream, cacheStream;                             // 4193
    function path(object) {                                                                                            // 4194
      if (object) {                                                                                                    // 4195
        if (typeof pointRadius === "function") contextStream.pointRadius(+pointRadius.apply(this, arguments));         // 4196
        if (!cacheStream || !cacheStream.valid) cacheStream = projectStream(contextStream);                            // 4197
        d3.geo.stream(object, cacheStream);                                                                            // 4198
      }                                                                                                                // 4199
      return contextStream.result();                                                                                   // 4200
    }                                                                                                                  // 4201
    path.area = function(object) {                                                                                     // 4202
      d3_geo_pathAreaSum = 0;                                                                                          // 4203
      d3.geo.stream(object, projectStream(d3_geo_pathArea));                                                           // 4204
      return d3_geo_pathAreaSum;                                                                                       // 4205
    };                                                                                                                 // 4206
    path.centroid = function(object) {                                                                                 // 4207
      d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;
      d3.geo.stream(object, projectStream(d3_geo_pathCentroid));                                                       // 4209
      return d3_geo_centroidZ2 ? [ d3_geo_centroidX2 / d3_geo_centroidZ2, d3_geo_centroidY2 / d3_geo_centroidZ2 ] : d3_geo_centroidZ1 ? [ d3_geo_centroidX1 / d3_geo_centroidZ1, d3_geo_centroidY1 / d3_geo_centroidZ1 ] : d3_geo_centroidZ0 ? [ d3_geo_centroidX0 / d3_geo_centroidZ0, d3_geo_centroidY0 / d3_geo_centroidZ0 ] : [ NaN, NaN ];
    };                                                                                                                 // 4211
    path.bounds = function(object) {                                                                                   // 4212
      d3_geo_pathBoundsX1 = d3_geo_pathBoundsY1 = -(d3_geo_pathBoundsX0 = d3_geo_pathBoundsY0 = Infinity);             // 4213
      d3.geo.stream(object, projectStream(d3_geo_pathBounds));                                                         // 4214
      return [ [ d3_geo_pathBoundsX0, d3_geo_pathBoundsY0 ], [ d3_geo_pathBoundsX1, d3_geo_pathBoundsY1 ] ];           // 4215
    };                                                                                                                 // 4216
    path.projection = function(_) {                                                                                    // 4217
      if (!arguments.length) return projection;                                                                        // 4218
      projectStream = (projection = _) ? _.stream || d3_geo_pathProjectStream(_) : d3_identity;                        // 4219
      return reset();                                                                                                  // 4220
    };                                                                                                                 // 4221
    path.context = function(_) {                                                                                       // 4222
      if (!arguments.length) return context;                                                                           // 4223
      contextStream = (context = _) == null ? new d3_geo_pathBuffer() : new d3_geo_pathContext(_);                     // 4224
      if (typeof pointRadius !== "function") contextStream.pointRadius(pointRadius);                                   // 4225
      return reset();                                                                                                  // 4226
    };                                                                                                                 // 4227
    path.pointRadius = function(_) {                                                                                   // 4228
      if (!arguments.length) return pointRadius;                                                                       // 4229
      pointRadius = typeof _ === "function" ? _ : (contextStream.pointRadius(+_), +_);                                 // 4230
      return path;                                                                                                     // 4231
    };                                                                                                                 // 4232
    function reset() {                                                                                                 // 4233
      cacheStream = null;                                                                                              // 4234
      return path;                                                                                                     // 4235
    }                                                                                                                  // 4236
    return path.projection(d3.geo.albersUsa()).context(null);                                                          // 4237
  };                                                                                                                   // 4238
  function d3_geo_pathProjectStream(project) {                                                                         // 4239
    var resample = d3_geo_resample(function(x, y) {                                                                    // 4240
      return project([ x * d3_degrees, y * d3_degrees ]);                                                              // 4241
    });                                                                                                                // 4242
    return function(stream) {                                                                                          // 4243
      return d3_geo_projectionRadians(resample(stream));                                                               // 4244
    };                                                                                                                 // 4245
  }                                                                                                                    // 4246
  d3.geo.transform = function(methods) {                                                                               // 4247
    return {                                                                                                           // 4248
      stream: function(stream) {                                                                                       // 4249
        var transform = new d3_geo_transform(stream);                                                                  // 4250
        for (var k in methods) transform[k] = methods[k];                                                              // 4251
        return transform;                                                                                              // 4252
      }                                                                                                                // 4253
    };                                                                                                                 // 4254
  };                                                                                                                   // 4255
  function d3_geo_transform(stream) {                                                                                  // 4256
    this.stream = stream;                                                                                              // 4257
  }                                                                                                                    // 4258
  d3_geo_transform.prototype = {                                                                                       // 4259
    point: function(x, y) {                                                                                            // 4260
      this.stream.point(x, y);                                                                                         // 4261
    },                                                                                                                 // 4262
    sphere: function() {                                                                                               // 4263
      this.stream.sphere();                                                                                            // 4264
    },                                                                                                                 // 4265
    lineStart: function() {                                                                                            // 4266
      this.stream.lineStart();                                                                                         // 4267
    },                                                                                                                 // 4268
    lineEnd: function() {                                                                                              // 4269
      this.stream.lineEnd();                                                                                           // 4270
    },                                                                                                                 // 4271
    polygonStart: function() {                                                                                         // 4272
      this.stream.polygonStart();                                                                                      // 4273
    },                                                                                                                 // 4274
    polygonEnd: function() {                                                                                           // 4275
      this.stream.polygonEnd();                                                                                        // 4276
    }                                                                                                                  // 4277
  };                                                                                                                   // 4278
  function d3_geo_transformPoint(stream, point) {                                                                      // 4279
    return {                                                                                                           // 4280
      point: point,                                                                                                    // 4281
      sphere: function() {                                                                                             // 4282
        stream.sphere();                                                                                               // 4283
      },                                                                                                               // 4284
      lineStart: function() {                                                                                          // 4285
        stream.lineStart();                                                                                            // 4286
      },                                                                                                               // 4287
      lineEnd: function() {                                                                                            // 4288
        stream.lineEnd();                                                                                              // 4289
      },                                                                                                               // 4290
      polygonStart: function() {                                                                                       // 4291
        stream.polygonStart();                                                                                         // 4292
      },                                                                                                               // 4293
      polygonEnd: function() {                                                                                         // 4294
        stream.polygonEnd();                                                                                           // 4295
      }                                                                                                                // 4296
    };                                                                                                                 // 4297
  }                                                                                                                    // 4298
  d3.geo.projection = d3_geo_projection;                                                                               // 4299
  d3.geo.projectionMutator = d3_geo_projectionMutator;                                                                 // 4300
  function d3_geo_projection(project) {                                                                                // 4301
    return d3_geo_projectionMutator(function() {                                                                       // 4302
      return project;                                                                                                  // 4303
    })();                                                                                                              // 4304
  }                                                                                                                    // 4305
  function d3_geo_projectionMutator(projectAt) {                                                                       // 4306
    var project, rotate, projectRotate, projectResample = d3_geo_resample(function(x, y) {                             // 4307
      x = project(x, y);                                                                                               // 4308
      return [ x[0] * k + x, y - x[1] * k ];                                                                         // 4309
    }), k = 150, x = 480, y = 250,  = 0,  = 0,  = 0,  = 0,  = 0, x, y, preclip = d3_geo_clipAntimeridian, postclip = d3_identity, clipAngle = null, clipExtent = null, stream;
    function projection(point) {                                                                                       // 4311
      point = projectRotate(point[0] * d3_radians, point[1] * d3_radians);                                             // 4312
      return [ point[0] * k + x, y - point[1] * k ];                                                                 // 4313
    }                                                                                                                  // 4314
    function invert(point) {                                                                                           // 4315
      point = projectRotate.invert((point[0] - x) / k, (y - point[1]) / k);                                          // 4316
      return point && [ point[0] * d3_degrees, point[1] * d3_degrees ];                                                // 4317
    }                                                                                                                  // 4318
    projection.stream = function(output) {                                                                             // 4319
      if (stream) stream.valid = false;                                                                                // 4320
      stream = d3_geo_projectionRadians(preclip(rotate, projectResample(postclip(output))));                           // 4321
      stream.valid = true;                                                                                             // 4322
      return stream;                                                                                                   // 4323
    };                                                                                                                 // 4324
    projection.clipAngle = function(_) {                                                                               // 4325
      if (!arguments.length) return clipAngle;                                                                         // 4326
      preclip = _ == null ? (clipAngle = _, d3_geo_clipAntimeridian) : d3_geo_clipCircle((clipAngle = +_) * d3_radians);
      return invalidate();                                                                                             // 4328
    };                                                                                                                 // 4329
    projection.clipExtent = function(_) {                                                                              // 4330
      if (!arguments.length) return clipExtent;                                                                        // 4331
      clipExtent = _;                                                                                                  // 4332
      postclip = _ ? d3_geo_clipExtent(_[0][0], _[0][1], _[1][0], _[1][1]) : d3_identity;                              // 4333
      return invalidate();                                                                                             // 4334
    };                                                                                                                 // 4335
    projection.scale = function(_) {                                                                                   // 4336
      if (!arguments.length) return k;                                                                                 // 4337
      k = +_;                                                                                                          // 4338
      return reset();                                                                                                  // 4339
    };                                                                                                                 // 4340
    projection.translate = function(_) {                                                                               // 4341
      if (!arguments.length) return [ x, y ];                                                                          // 4342
      x = +_[0];                                                                                                       // 4343
      y = +_[1];                                                                                                       // 4344
      return reset();                                                                                                  // 4345
    };                                                                                                                 // 4346
    projection.center = function(_) {                                                                                  // 4347
      if (!arguments.length) return [  * d3_degrees,  * d3_degrees ];                                                // 4348
       = _[0] % 360 * d3_radians;                                                                                     // 4349
       = _[1] % 360 * d3_radians;                                                                                     // 4350
      return reset();                                                                                                  // 4351
    };                                                                                                                 // 4352
    projection.rotate = function(_) {                                                                                  // 4353
      if (!arguments.length) return [  * d3_degrees,  * d3_degrees,  * d3_degrees ];                             // 4354
       = _[0] % 360 * d3_radians;                                                                                    // 4355
       = _[1] % 360 * d3_radians;                                                                                    // 4356
       = _.length > 2 ? _[2] % 360 * d3_radians : 0;                                                                 // 4357
      return reset();                                                                                                  // 4358
    };                                                                                                                 // 4359
    d3.rebind(projection, projectResample, "precision");                                                               // 4360
    function reset() {                                                                                                 // 4361
      projectRotate = d3_geo_compose(rotate = d3_geo_rotation(, , ), project);                                   // 4362
      var center = project(, );                                                                                      // 4363
      x = x - center[0] * k;                                                                                          // 4364
      y = y + center[1] * k;                                                                                          // 4365
      return invalidate();                                                                                             // 4366
    }                                                                                                                  // 4367
    function invalidate() {                                                                                            // 4368
      if (stream) stream.valid = false, stream = null;                                                                 // 4369
      return projection;                                                                                               // 4370
    }                                                                                                                  // 4371
    return function() {                                                                                                // 4372
      project = projectAt.apply(this, arguments);                                                                      // 4373
      projection.invert = project.invert && invert;                                                                    // 4374
      return reset();                                                                                                  // 4375
    };                                                                                                                 // 4376
  }                                                                                                                    // 4377
  function d3_geo_projectionRadians(stream) {                                                                          // 4378
    return d3_geo_transformPoint(stream, function(x, y) {                                                              // 4379
      stream.point(x * d3_radians, y * d3_radians);                                                                    // 4380
    });                                                                                                                // 4381
  }                                                                                                                    // 4382
  function d3_geo_equirectangular(, ) {                                                                              // 4383
    return [ ,  ];                                                                                                   // 4384
  }                                                                                                                    // 4385
  (d3.geo.equirectangular = function() {                                                                               // 4386
    return d3_geo_projection(d3_geo_equirectangular);                                                                  // 4387
  }).raw = d3_geo_equirectangular.invert = d3_geo_equirectangular;                                                     // 4388
  d3.geo.rotation = function(rotate) {                                                                                 // 4389
    rotate = d3_geo_rotation(rotate[0] % 360 * d3_radians, rotate[1] * d3_radians, rotate.length > 2 ? rotate[2] * d3_radians : 0);
    function forward(coordinates) {                                                                                    // 4391
      coordinates = rotate(coordinates[0] * d3_radians, coordinates[1] * d3_radians);                                  // 4392
      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;                                  // 4393
    }                                                                                                                  // 4394
    forward.invert = function(coordinates) {                                                                           // 4395
      coordinates = rotate.invert(coordinates[0] * d3_radians, coordinates[1] * d3_radians);                           // 4396
      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;                                  // 4397
    };                                                                                                                 // 4398
    return forward;                                                                                                    // 4399
  };                                                                                                                   // 4400
  function d3_geo_identityRotation(, ) {                                                                             // 4401
    return [  >  ?  -  :  < - ?  +  : ,  ];                                                                  // 4402
  }                                                                                                                    // 4403
  d3_geo_identityRotation.invert = d3_geo_equirectangular;                                                             // 4404
  function d3_geo_rotation(, , ) {                                                                               // 4405
    return  ?  ||  ? d3_geo_compose(d3_geo_rotation(), d3_geo_rotation(, )) : d3_geo_rotation() :  ||  ? d3_geo_rotation(, ) : d3_geo_identityRotation;
  }                                                                                                                    // 4407
  function d3_geo_forwardRotation() {                                                                               // 4408
    return function(, ) {                                                                                            // 4409
      return  += , [  >  ?  -  :  < - ?  +  : ,  ];                                                       // 4410
    };                                                                                                                 // 4411
  }                                                                                                                    // 4412
  function d3_geo_rotation() {                                                                                      // 4413
    var rotation = d3_geo_forwardRotation();                                                                        // 4414
    rotation.invert = d3_geo_forwardRotation(-);                                                                    // 4415
    return rotation;                                                                                                   // 4416
  }                                                                                                                    // 4417
  function d3_geo_rotation(, ) {                                                                                 // 4418
    var cos = Math.cos(), sin = Math.sin(), cos = Math.cos(), sin = Math.sin();                        // 4419
    function rotation(, ) {                                                                                          // 4420
      var cos = Math.cos(), x = Math.cos() * cos, y = Math.sin() * cos, z = Math.sin(), k = z * cos + x * sin;
      return [ Math.atan2(y * cos - k * sin, x * cos - z * sin), d3_asin(k * cos + y * sin) ];             // 4422
    }                                                                                                                  // 4423
    rotation.invert = function(, ) {                                                                                 // 4424
      var cos = Math.cos(), x = Math.cos() * cos, y = Math.sin() * cos, z = Math.sin(), k = z * cos - y * sin;
      return [ Math.atan2(y * cos + z * sin, x * cos + k * sin), d3_asin(k * cos - x * sin) ];             // 4426
    };                                                                                                                 // 4427
    return rotation;                                                                                                   // 4428
  }                                                                                                                    // 4429
  d3.geo.circle = function() {                                                                                         // 4430
    var origin = [ 0, 0 ], angle, precision = 6, interpolate;                                                          // 4431
    function circle() {                                                                                                // 4432
      var center = typeof origin === "function" ? origin.apply(this, arguments) : origin, rotate = d3_geo_rotation(-center[0] * d3_radians, -center[1] * d3_radians, 0).invert, ring = [];
      interpolate(null, null, 1, {                                                                                     // 4434
        point: function(x, y) {                                                                                        // 4435
          ring.push(x = rotate(x, y));                                                                                 // 4436
          x[0] *= d3_degrees, x[1] *= d3_degrees;                                                                      // 4437
        }                                                                                                              // 4438
      });                                                                                                              // 4439
      return {                                                                                                         // 4440
        type: "Polygon",                                                                                               // 4441
        coordinates: [ ring ]                                                                                          // 4442
      };                                                                                                               // 4443
    }                                                                                                                  // 4444
    circle.origin = function(x) {                                                                                      // 4445
      if (!arguments.length) return origin;                                                                            // 4446
      origin = x;                                                                                                      // 4447
      return circle;                                                                                                   // 4448
    };                                                                                                                 // 4449
    circle.angle = function(x) {                                                                                       // 4450
      if (!arguments.length) return angle;                                                                             // 4451
      interpolate = d3_geo_circleInterpolate((angle = +x) * d3_radians, precision * d3_radians);                       // 4452
      return circle;                                                                                                   // 4453
    };                                                                                                                 // 4454
    circle.precision = function(_) {                                                                                   // 4455
      if (!arguments.length) return precision;                                                                         // 4456
      interpolate = d3_geo_circleInterpolate(angle * d3_radians, (precision = +_) * d3_radians);                       // 4457
      return circle;                                                                                                   // 4458
    };                                                                                                                 // 4459
    return circle.angle(90);                                                                                           // 4460
  };                                                                                                                   // 4461
  function d3_geo_circleInterpolate(radius, precision) {                                                               // 4462
    var cr = Math.cos(radius), sr = Math.sin(radius);                                                                  // 4463
    return function(from, to, direction, listener) {                                                                   // 4464
      var step = direction * precision;                                                                                // 4465
      if (from != null) {                                                                                              // 4466
        from = d3_geo_circleAngle(cr, from);                                                                           // 4467
        to = d3_geo_circleAngle(cr, to);                                                                               // 4468
        if (direction > 0 ? from < to : from > to) from += direction * ;                                              // 4469
      } else {                                                                                                         // 4470
        from = radius + direction * ;                                                                                 // 4471
        to = radius - .5 * step;                                                                                       // 4472
      }                                                                                                                // 4473
      for (var point, t = from; direction > 0 ? t > to : t < to; t -= step) {                                          // 4474
        listener.point((point = d3_geo_spherical([ cr, -sr * Math.cos(t), -sr * Math.sin(t) ]))[0], point[1]);         // 4475
      }                                                                                                                // 4476
    };                                                                                                                 // 4477
  }                                                                                                                    // 4478
  function d3_geo_circleAngle(cr, point) {                                                                             // 4479
    var a = d3_geo_cartesian(point);                                                                                   // 4480
    a[0] -= cr;                                                                                                        // 4481
    d3_geo_cartesianNormalize(a);                                                                                      // 4482
    var angle = d3_acos(-a[1]);                                                                                        // 4483
    return ((-a[2] < 0 ? -angle : angle) + 2 * Math.PI - ) % (2 * Math.PI);                                           // 4484
  }                                                                                                                    // 4485
  d3.geo.distance = function(a, b) {                                                                                   // 4486
    var  = (b[0] - a[0]) * d3_radians, 0 = a[1] * d3_radians, 1 = b[1] * d3_radians, sin = Math.sin(), cos = Math.cos(), sin0 = Math.sin(0), cos0 = Math.cos(0), sin1 = Math.sin(1), cos1 = Math.cos(1), t;
    return Math.atan2(Math.sqrt((t = cos1 * sin) * t + (t = cos0 * sin1 - sin0 * cos1 * cos) * t), sin0 * sin1 + cos0 * cos1 * cos);
  };                                                                                                                   // 4489
  d3.geo.graticule = function() {                                                                                      // 4490
    var x1, x0, X1, X0, y1, y0, Y1, Y0, dx = 10, dy = dx, DX = 90, DY = 360, x, y, X, Y, precision = 2.5;              // 4491
    function graticule() {                                                                                             // 4492
      return {                                                                                                         // 4493
        type: "MultiLineString",                                                                                       // 4494
        coordinates: lines()                                                                                           // 4495
      };                                                                                                               // 4496
    }                                                                                                                  // 4497
    function lines() {                                                                                                 // 4498
      return d3.range(Math.ceil(X0 / DX) * DX, X1, DX).map(X).concat(d3.range(Math.ceil(Y0 / DY) * DY, Y1, DY).map(Y)).concat(d3.range(Math.ceil(x0 / dx) * dx, x1, dx).filter(function(x) {
        return abs(x % DX) > ;                                                                                        // 4500
      }).map(x)).concat(d3.range(Math.ceil(y0 / dy) * dy, y1, dy).filter(function(y) {                                 // 4501
        return abs(y % DY) > ;                                                                                        // 4502
      }).map(y));                                                                                                      // 4503
    }                                                                                                                  // 4504
    graticule.lines = function() {                                                                                     // 4505
      return lines().map(function(coordinates) {                                                                       // 4506
        return {                                                                                                       // 4507
          type: "LineString",                                                                                          // 4508
          coordinates: coordinates                                                                                     // 4509
        };                                                                                                             // 4510
      });                                                                                                              // 4511
    };                                                                                                                 // 4512
    graticule.outline = function() {                                                                                   // 4513
      return {                                                                                                         // 4514
        type: "Polygon",                                                                                               // 4515
        coordinates: [ X(X0).concat(Y(Y1).slice(1), X(X1).reverse().slice(1), Y(Y0).reverse().slice(1)) ]              // 4516
      };                                                                                                               // 4517
    };                                                                                                                 // 4518
    graticule.extent = function(_) {                                                                                   // 4519
      if (!arguments.length) return graticule.minorExtent();                                                           // 4520
      return graticule.majorExtent(_).minorExtent(_);                                                                  // 4521
    };                                                                                                                 // 4522
    graticule.majorExtent = function(_) {                                                                              // 4523
      if (!arguments.length) return [ [ X0, Y0 ], [ X1, Y1 ] ];                                                        // 4524
      X0 = +_[0][0], X1 = +_[1][0];                                                                                    // 4525
      Y0 = +_[0][1], Y1 = +_[1][1];                                                                                    // 4526
      if (X0 > X1) _ = X0, X0 = X1, X1 = _;                                                                            // 4527
      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;                                                                            // 4528
      return graticule.precision(precision);                                                                           // 4529
    };                                                                                                                 // 4530
    graticule.minorExtent = function(_) {                                                                              // 4531
      if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];                                                        // 4532
      x0 = +_[0][0], x1 = +_[1][0];                                                                                    // 4533
      y0 = +_[0][1], y1 = +_[1][1];                                                                                    // 4534
      if (x0 > x1) _ = x0, x0 = x1, x1 = _;                                                                            // 4535
      if (y0 > y1) _ = y0, y0 = y1, y1 = _;                                                                            // 4536
      return graticule.precision(precision);                                                                           // 4537
    };                                                                                                                 // 4538
    graticule.step = function(_) {                                                                                     // 4539
      if (!arguments.length) return graticule.minorStep();                                                             // 4540
      return graticule.majorStep(_).minorStep(_);                                                                      // 4541
    };                                                                                                                 // 4542
    graticule.majorStep = function(_) {                                                                                // 4543
      if (!arguments.length) return [ DX, DY ];                                                                        // 4544
      DX = +_[0], DY = +_[1];                                                                                          // 4545
      return graticule;                                                                                                // 4546
    };                                                                                                                 // 4547
    graticule.minorStep = function(_) {                                                                                // 4548
      if (!arguments.length) return [ dx, dy ];                                                                        // 4549
      dx = +_[0], dy = +_[1];                                                                                          // 4550
      return graticule;                                                                                                // 4551
    };                                                                                                                 // 4552
    graticule.precision = function(_) {                                                                                // 4553
      if (!arguments.length) return precision;                                                                         // 4554
      precision = +_;                                                                                                  // 4555
      x = d3_geo_graticuleX(y0, y1, 90);                                                                               // 4556
      y = d3_geo_graticuleY(x0, x1, precision);                                                                        // 4557
      X = d3_geo_graticuleX(Y0, Y1, 90);                                                                               // 4558
      Y = d3_geo_graticuleY(X0, X1, precision);                                                                        // 4559
      return graticule;                                                                                                // 4560
    };                                                                                                                 // 4561
    return graticule.majorExtent([ [ -180, -90 +  ], [ 180, 90 -  ] ]).minorExtent([ [ -180, -80 -  ], [ 180, 80 +  ] ]);
  };                                                                                                                   // 4563
  function d3_geo_graticuleX(y0, y1, dy) {                                                                             // 4564
    var y = d3.range(y0, y1 - , dy).concat(y1);                                                                       // 4565
    return function(x) {                                                                                               // 4566
      return y.map(function(y) {                                                                                       // 4567
        return [ x, y ];                                                                                               // 4568
      });                                                                                                              // 4569
    };                                                                                                                 // 4570
  }                                                                                                                    // 4571
  function d3_geo_graticuleY(x0, x1, dx) {                                                                             // 4572
    var x = d3.range(x0, x1 - , dx).concat(x1);                                                                       // 4573
    return function(y) {                                                                                               // 4574
      return x.map(function(x) {                                                                                       // 4575
        return [ x, y ];                                                                                               // 4576
      });                                                                                                              // 4577
    };                                                                                                                 // 4578
  }                                                                                                                    // 4579
  function d3_source(d) {                                                                                              // 4580
    return d.source;                                                                                                   // 4581
  }                                                                                                                    // 4582
  function d3_target(d) {                                                                                              // 4583
    return d.target;                                                                                                   // 4584
  }                                                                                                                    // 4585
  d3.geo.greatArc = function() {                                                                                       // 4586
    var source = d3_source, source_, target = d3_target, target_;                                                      // 4587
    function greatArc() {                                                                                              // 4588
      return {                                                                                                         // 4589
        type: "LineString",                                                                                            // 4590
        coordinates: [ source_ || source.apply(this, arguments), target_ || target.apply(this, arguments) ]            // 4591
      };                                                                                                               // 4592
    }                                                                                                                  // 4593
    greatArc.distance = function() {                                                                                   // 4594
      return d3.geo.distance(source_ || source.apply(this, arguments), target_ || target.apply(this, arguments));      // 4595
    };                                                                                                                 // 4596
    greatArc.source = function(_) {                                                                                    // 4597
      if (!arguments.length) return source;                                                                            // 4598
      source = _, source_ = typeof _ === "function" ? null : _;                                                        // 4599
      return greatArc;                                                                                                 // 4600
    };                                                                                                                 // 4601
    greatArc.target = function(_) {                                                                                    // 4602
      if (!arguments.length) return target;                                                                            // 4603
      target = _, target_ = typeof _ === "function" ? null : _;                                                        // 4604
      return greatArc;                                                                                                 // 4605
    };                                                                                                                 // 4606
    greatArc.precision = function() {                                                                                  // 4607
      return arguments.length ? greatArc : 0;                                                                          // 4608
    };                                                                                                                 // 4609
    return greatArc;                                                                                                   // 4610
  };                                                                                                                   // 4611
  d3.geo.interpolate = function(source, target) {                                                                      // 4612
    return d3_geo_interpolate(source[0] * d3_radians, source[1] * d3_radians, target[0] * d3_radians, target[1] * d3_radians);
  };                                                                                                                   // 4614
  function d3_geo_interpolate(x0, y0, x1, y1) {                                                                        // 4615
    var cy0 = Math.cos(y0), sy0 = Math.sin(y0), cy1 = Math.cos(y1), sy1 = Math.sin(y1), kx0 = cy0 * Math.cos(x0), ky0 = cy0 * Math.sin(x0), kx1 = cy1 * Math.cos(x1), ky1 = cy1 * Math.sin(x1), d = 2 * Math.asin(Math.sqrt(d3_haversin(y1 - y0) + cy0 * cy1 * d3_haversin(x1 - x0))), k = 1 / Math.sin(d);
    var interpolate = d ? function(t) {                                                                                // 4617
      var B = Math.sin(t *= d) * k, A = Math.sin(d - t) * k, x = A * kx0 + B * kx1, y = A * ky0 + B * ky1, z = A * sy0 + B * sy1;
      return [ Math.atan2(y, x) * d3_degrees, Math.atan2(z, Math.sqrt(x * x + y * y)) * d3_degrees ];                  // 4619
    } : function() {                                                                                                   // 4620
      return [ x0 * d3_degrees, y0 * d3_degrees ];                                                                     // 4621
    };                                                                                                                 // 4622
    interpolate.distance = d;                                                                                          // 4623
    return interpolate;                                                                                                // 4624
  }                                                                                                                    // 4625
  d3.geo.length = function(object) {                                                                                   // 4626
    d3_geo_lengthSum = 0;                                                                                              // 4627
    d3.geo.stream(object, d3_geo_length);                                                                              // 4628
    return d3_geo_lengthSum;                                                                                           // 4629
  };                                                                                                                   // 4630
  var d3_geo_lengthSum;                                                                                                // 4631
  var d3_geo_length = {                                                                                                // 4632
    sphere: d3_noop,                                                                                                   // 4633
    point: d3_noop,                                                                                                    // 4634
    lineStart: d3_geo_lengthLineStart,                                                                                 // 4635
    lineEnd: d3_noop,                                                                                                  // 4636
    polygonStart: d3_noop,                                                                                             // 4637
    polygonEnd: d3_noop                                                                                                // 4638
  };                                                                                                                   // 4639
  function d3_geo_lengthLineStart() {                                                                                  // 4640
    var 0, sin0, cos0;                                                                                              // 4641
    d3_geo_length.point = function(, ) {                                                                             // 4642
      0 =  * d3_radians, sin0 = Math.sin( *= d3_radians), cos0 = Math.cos();                                     // 4643
      d3_geo_length.point = nextPoint;                                                                                 // 4644
    };                                                                                                                 // 4645
    d3_geo_length.lineEnd = function() {                                                                               // 4646
      d3_geo_length.point = d3_geo_length.lineEnd = d3_noop;                                                           // 4647
    };                                                                                                                 // 4648
    function nextPoint(, ) {                                                                                         // 4649
      var sin = Math.sin( *= d3_radians), cos = Math.cos(), t = abs(( *= d3_radians) - 0), cos = Math.cos(t);  // 4650
      d3_geo_lengthSum += Math.atan2(Math.sqrt((t = cos * Math.sin(t)) * t + (t = cos0 * sin - sin0 * cos * cos) * t), sin0 * sin + cos0 * cos * cos);
      0 = , sin0 = sin, cos0 = cos;                                                                              // 4652
    }                                                                                                                  // 4653
  }                                                                                                                    // 4654
  function d3_geo_azimuthal(scale, angle) {                                                                            // 4655
    function azimuthal(, ) {                                                                                         // 4656
      var cos = Math.cos(), cos = Math.cos(), k = scale(cos * cos);                                              // 4657
      return [ k * cos * Math.sin(), k * Math.sin() ];                                                              // 4658
    }                                                                                                                  // 4659
    azimuthal.invert = function(x, y) {                                                                                // 4660
      var  = Math.sqrt(x * x + y * y), c = angle(), sinc = Math.sin(c), cosc = Math.cos(c);                          // 4661
      return [ Math.atan2(x * sinc,  * cosc), Math.asin( && y * sinc / ) ];                                         // 4662
    };                                                                                                                 // 4663
    return azimuthal;                                                                                                  // 4664
  }                                                                                                                    // 4665
  var d3_geo_azimuthalEqualArea = d3_geo_azimuthal(function(coscos) {                                                // 4666
    return Math.sqrt(2 / (1 + coscos));                                                                              // 4667
  }, function() {                                                                                                     // 4668
    return 2 * Math.asin( / 2);                                                                                       // 4669
  });                                                                                                                  // 4670
  (d3.geo.azimuthalEqualArea = function() {                                                                            // 4671
    return d3_geo_projection(d3_geo_azimuthalEqualArea);                                                               // 4672
  }).raw = d3_geo_azimuthalEqualArea;                                                                                  // 4673
  var d3_geo_azimuthalEquidistant = d3_geo_azimuthal(function(coscos) {                                              // 4674
    var c = Math.acos(coscos);                                                                                       // 4675
    return c && c / Math.sin(c);                                                                                       // 4676
  }, d3_identity);                                                                                                     // 4677
  (d3.geo.azimuthalEquidistant = function() {                                                                          // 4678
    return d3_geo_projection(d3_geo_azimuthalEquidistant);                                                             // 4679
  }).raw = d3_geo_azimuthalEquidistant;                                                                                // 4680
  function d3_geo_conicConformal(0, 1) {                                                                             // 4681
    var cos0 = Math.cos(0), t = function() {                                                                        // 4682
      return Math.tan( / 4 +  / 2);                                                                                  // 4683
    }, n = 0 === 1 ? Math.sin(0) : Math.log(cos0 / Math.cos(1)) / Math.log(t(1) / t(0)), F = cos0 * Math.pow(t(0), n) / n;
    if (!n) return d3_geo_mercator;                                                                                    // 4685
    function forward(, ) {                                                                                           // 4686
      if (F > 0) {                                                                                                     // 4687
        if ( < -half + )  = -half + ;                                                                            // 4688
      } else {                                                                                                         // 4689
        if ( > half - )  = half - ;                                                                              // 4690
      }                                                                                                                // 4691
      var  = F / Math.pow(t(), n);                                                                                   // 4692
      return [  * Math.sin(n * ), F -  * Math.cos(n * ) ];                                                         // 4693
    }                                                                                                                  // 4694
    forward.invert = function(x, y) {                                                                                  // 4695
      var 0_y = F - y,  = d3_sgn(n) * Math.sqrt(x * x + 0_y * 0_y);                                                // 4696
      return [ Math.atan2(x, 0_y) / n, 2 * Math.atan(Math.pow(F / , 1 / n)) - half ];                               // 4697
    };                                                                                                                 // 4698
    return forward;                                                                                                    // 4699
  }                                                                                                                    // 4700
  (d3.geo.conicConformal = function() {                                                                                // 4701
    return d3_geo_conic(d3_geo_conicConformal);                                                                        // 4702
  }).raw = d3_geo_conicConformal;                                                                                      // 4703
  function d3_geo_conicEquidistant(0, 1) {                                                                           // 4704
    var cos0 = Math.cos(0), n = 0 === 1 ? Math.sin(0) : (cos0 - Math.cos(1)) / (1 - 0), G = cos0 / n + 0;   // 4705
    if (abs(n) < ) return d3_geo_equirectangular;                                                                     // 4706
    function forward(, ) {                                                                                           // 4707
      var  = G - ;                                                                                                   // 4708
      return [  * Math.sin(n * ), G -  * Math.cos(n * ) ];                                                         // 4709
    }                                                                                                                  // 4710
    forward.invert = function(x, y) {                                                                                  // 4711
      var 0_y = G - y;                                                                                                // 4712
      return [ Math.atan2(x, 0_y) / n, G - d3_sgn(n) * Math.sqrt(x * x + 0_y * 0_y) ];                              // 4713
    };                                                                                                                 // 4714
    return forward;                                                                                                    // 4715
  }                                                                                                                    // 4716
  (d3.geo.conicEquidistant = function() {                                                                              // 4717
    return d3_geo_conic(d3_geo_conicEquidistant);                                                                      // 4718
  }).raw = d3_geo_conicEquidistant;                                                                                    // 4719
  var d3_geo_gnomonic = d3_geo_azimuthal(function(coscos) {                                                          // 4720
    return 1 / coscos;                                                                                               // 4721
  }, Math.atan);                                                                                                       // 4722
  (d3.geo.gnomonic = function() {                                                                                      // 4723
    return d3_geo_projection(d3_geo_gnomonic);                                                                         // 4724
  }).raw = d3_geo_gnomonic;                                                                                            // 4725
  function d3_geo_mercator(, ) {                                                                                     // 4726
    return [ , Math.log(Math.tan( / 4 +  / 2)) ];                                                                   // 4727
  }                                                                                                                    // 4728
  d3_geo_mercator.invert = function(x, y) {                                                                            // 4729
    return [ x, 2 * Math.atan(Math.exp(y)) - half ];                                                                  // 4730
  };                                                                                                                   // 4731
  function d3_geo_mercatorProjection(project) {                                                                        // 4732
    var m = d3_geo_projection(project), scale = m.scale, translate = m.translate, clipExtent = m.clipExtent, clipAuto; // 4733
    m.scale = function() {                                                                                             // 4734
      var v = scale.apply(m, arguments);                                                                               // 4735
      return v === m ? clipAuto ? m.clipExtent(null) : m : v;                                                          // 4736
    };                                                                                                                 // 4737
    m.translate = function() {                                                                                         // 4738
      var v = translate.apply(m, arguments);                                                                           // 4739
      return v === m ? clipAuto ? m.clipExtent(null) : m : v;                                                          // 4740
    };                                                                                                                 // 4741
    m.clipExtent = function(_) {                                                                                       // 4742
      var v = clipExtent.apply(m, arguments);                                                                          // 4743
      if (v === m) {                                                                                                   // 4744
        if (clipAuto = _ == null) {                                                                                    // 4745
          var k =  * scale(), t = translate();                                                                        // 4746
          clipExtent([ [ t[0] - k, t[1] - k ], [ t[0] + k, t[1] + k ] ]);                                              // 4747
        }                                                                                                              // 4748
      } else if (clipAuto) {                                                                                           // 4749
        v = null;                                                                                                      // 4750
      }                                                                                                                // 4751
      return v;                                                                                                        // 4752
    };                                                                                                                 // 4753
    return m.clipExtent(null);                                                                                         // 4754
  }                                                                                                                    // 4755
  (d3.geo.mercator = function() {                                                                                      // 4756
    return d3_geo_mercatorProjection(d3_geo_mercator);                                                                 // 4757
  }).raw = d3_geo_mercator;                                                                                            // 4758
  var d3_geo_orthographic = d3_geo_azimuthal(function() {                                                              // 4759
    return 1;                                                                                                          // 4760
  }, Math.asin);                                                                                                       // 4761
  (d3.geo.orthographic = function() {                                                                                  // 4762
    return d3_geo_projection(d3_geo_orthographic);                                                                     // 4763
  }).raw = d3_geo_orthographic;                                                                                        // 4764
  var d3_geo_stereographic = d3_geo_azimuthal(function(coscos) {                                                     // 4765
    return 1 / (1 + coscos);                                                                                         // 4766
  }, function() {                                                                                                     // 4767
    return 2 * Math.atan();                                                                                           // 4768
  });                                                                                                                  // 4769
  (d3.geo.stereographic = function() {                                                                                 // 4770
    return d3_geo_projection(d3_geo_stereographic);                                                                    // 4771
  }).raw = d3_geo_stereographic;                                                                                       // 4772
  function d3_geo_transverseMercator(, ) {                                                                           // 4773
    return [ Math.log(Math.tan( / 4 +  / 2)), - ];                                                                  // 4774
  }                                                                                                                    // 4775
  d3_geo_transverseMercator.invert = function(x, y) {                                                                  // 4776
    return [ -y, 2 * Math.atan(Math.exp(x)) - half ];                                                                 // 4777
  };                                                                                                                   // 4778
  (d3.geo.transverseMercator = function() {                                                                            // 4779
    var projection = d3_geo_mercatorProjection(d3_geo_transverseMercator), center = projection.center, rotate = projection.rotate;
    projection.center = function(_) {                                                                                  // 4781
      return _ ? center([ -_[1], _[0] ]) : (_ = center(), [ _[1], -_[0] ]);                                            // 4782
    };                                                                                                                 // 4783
    projection.rotate = function(_) {                                                                                  // 4784
      return _ ? rotate([ _[0], _[1], _.length > 2 ? _[2] + 90 : 90 ]) : (_ = rotate(),                                // 4785
      [ _[0], _[1], _[2] - 90 ]);                                                                                      // 4786
    };                                                                                                                 // 4787
    return rotate([ 0, 0, 90 ]);                                                                                       // 4788
  }).raw = d3_geo_transverseMercator;                                                                                  // 4789
  d3.geom = {};                                                                                                        // 4790
  function d3_geom_pointX(d) {                                                                                         // 4791
    return d[0];                                                                                                       // 4792
  }                                                                                                                    // 4793
  function d3_geom_pointY(d) {                                                                                         // 4794
    return d[1];                                                                                                       // 4795
  }                                                                                                                    // 4796
  d3.geom.hull = function(vertices) {                                                                                  // 4797
    var x = d3_geom_pointX, y = d3_geom_pointY;                                                                        // 4798
    if (arguments.length) return hull(vertices);                                                                       // 4799
    function hull(data) {                                                                                              // 4800
      if (data.length < 3) return [];                                                                                  // 4801
      var fx = d3_functor(x), fy = d3_functor(y), i, n = data.length, points = [], flippedPoints = [];                 // 4802
      for (i = 0; i < n; i++) {                                                                                        // 4803
        points.push([ +fx.call(this, data[i], i), +fy.call(this, data[i], i), i ]);                                    // 4804
      }                                                                                                                // 4805
      points.sort(d3_geom_hullOrder);                                                                                  // 4806
      for (i = 0; i < n; i++) flippedPoints.push([ points[i][0], -points[i][1] ]);                                     // 4807
      var upper = d3_geom_hullUpper(points), lower = d3_geom_hullUpper(flippedPoints);                                 // 4808
      var skipLeft = lower[0] === upper[0], skipRight = lower[lower.length - 1] === upper[upper.length - 1], polygon = [];
      for (i = upper.length - 1; i >= 0; --i) polygon.push(data[points[upper[i]][2]]);                                 // 4810
      for (i = +skipLeft; i < lower.length - skipRight; ++i) polygon.push(data[points[lower[i]][2]]);                  // 4811
      return polygon;                                                                                                  // 4812
    }                                                                                                                  // 4813
    hull.x = function(_) {                                                                                             // 4814
      return arguments.length ? (x = _, hull) : x;                                                                     // 4815
    };                                                                                                                 // 4816
    hull.y = function(_) {                                                                                             // 4817
      return arguments.length ? (y = _, hull) : y;                                                                     // 4818
    };                                                                                                                 // 4819
    return hull;                                                                                                       // 4820
  };                                                                                                                   // 4821
  function d3_geom_hullUpper(points) {                                                                                 // 4822
    var n = points.length, hull = [ 0, 1 ], hs = 2;                                                                    // 4823
    for (var i = 2; i < n; i++) {                                                                                      // 4824
      while (hs > 1 && d3_cross2d(points[hull[hs - 2]], points[hull[hs - 1]], points[i]) <= 0) --hs;                   // 4825
      hull[hs++] = i;                                                                                                  // 4826
    }                                                                                                                  // 4827
    return hull.slice(0, hs);                                                                                          // 4828
  }                                                                                                                    // 4829
  function d3_geom_hullOrder(a, b) {                                                                                   // 4830
    return a[0] - b[0] || a[1] - b[1];                                                                                 // 4831
  }                                                                                                                    // 4832
  d3.geom.polygon = function(coordinates) {                                                                            // 4833
    d3_subclass(coordinates, d3_geom_polygonPrototype);                                                                // 4834
    return coordinates;                                                                                                // 4835
  };                                                                                                                   // 4836
  var d3_geom_polygonPrototype = d3.geom.polygon.prototype = [];                                                       // 4837
  d3_geom_polygonPrototype.area = function() {                                                                         // 4838
    var i = -1, n = this.length, a, b = this[n - 1], area = 0;                                                         // 4839
    while (++i < n) {                                                                                                  // 4840
      a = b;                                                                                                           // 4841
      b = this[i];                                                                                                     // 4842
      area += a[1] * b[0] - a[0] * b[1];                                                                               // 4843
    }                                                                                                                  // 4844
    return area * .5;                                                                                                  // 4845
  };                                                                                                                   // 4846
  d3_geom_polygonPrototype.centroid = function(k) {                                                                    // 4847
    var i = -1, n = this.length, x = 0, y = 0, a, b = this[n - 1], c;                                                  // 4848
    if (!arguments.length) k = -1 / (6 * this.area());                                                                 // 4849
    while (++i < n) {                                                                                                  // 4850
      a = b;                                                                                                           // 4851
      b = this[i];                                                                                                     // 4852
      c = a[0] * b[1] - b[0] * a[1];                                                                                   // 4853
      x += (a[0] + b[0]) * c;                                                                                          // 4854
      y += (a[1] + b[1]) * c;                                                                                          // 4855
    }                                                                                                                  // 4856
    return [ x * k, y * k ];                                                                                           // 4857
  };                                                                                                                   // 4858
  d3_geom_polygonPrototype.clip = function(subject) {                                                                  // 4859
    var input, closed = d3_geom_polygonClosed(subject), i = -1, n = this.length - d3_geom_polygonClosed(this), j, m, a = this[n - 1], b, c, d;
    while (++i < n) {                                                                                                  // 4861
      input = subject.slice();                                                                                         // 4862
      subject.length = 0;                                                                                              // 4863
      b = this[i];                                                                                                     // 4864
      c = input[(m = input.length - closed) - 1];                                                                      // 4865
      j = -1;                                                                                                          // 4866
      while (++j < m) {                                                                                                // 4867
        d = input[j];                                                                                                  // 4868
        if (d3_geom_polygonInside(d, a, b)) {                                                                          // 4869
          if (!d3_geom_polygonInside(c, a, b)) {                                                                       // 4870
            subject.push(d3_geom_polygonIntersect(c, d, a, b));                                                        // 4871
          }                                                                                                            // 4872
          subject.push(d);                                                                                             // 4873
        } else if (d3_geom_polygonInside(c, a, b)) {                                                                   // 4874
          subject.push(d3_geom_polygonIntersect(c, d, a, b));                                                          // 4875
        }                                                                                                              // 4876
        c = d;                                                                                                         // 4877
      }                                                                                                                // 4878
      if (closed) subject.push(subject[0]);                                                                            // 4879
      a = b;                                                                                                           // 4880
    }                                                                                                                  // 4881
    return subject;                                                                                                    // 4882
  };                                                                                                                   // 4883
  function d3_geom_polygonInside(p, a, b) {                                                                            // 4884
    return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);                                              // 4885
  }                                                                                                                    // 4886
  function d3_geom_polygonIntersect(c, d, a, b) {                                                                      // 4887
    var x1 = c[0], x3 = a[0], x21 = d[0] - x1, x43 = b[0] - x3, y1 = c[1], y3 = a[1], y21 = d[1] - y1, y43 = b[1] - y3, ua = (x43 * (y1 - y3) - y43 * (x1 - x3)) / (y43 * x21 - x43 * y21);
    return [ x1 + ua * x21, y1 + ua * y21 ];                                                                           // 4889
  }                                                                                                                    // 4890
  function d3_geom_polygonClosed(coordinates) {                                                                        // 4891
    var a = coordinates[0], b = coordinates[coordinates.length - 1];                                                   // 4892
    return !(a[0] - b[0] || a[1] - b[1]);                                                                              // 4893
  }                                                                                                                    // 4894
  var d3_geom_voronoiEdges, d3_geom_voronoiCells, d3_geom_voronoiBeaches, d3_geom_voronoiBeachPool = [], d3_geom_voronoiFirstCircle, d3_geom_voronoiCircles, d3_geom_voronoiCirclePool = [];
  function d3_geom_voronoiBeach() {                                                                                    // 4896
    d3_geom_voronoiRedBlackNode(this);                                                                                 // 4897
    this.edge = this.site = this.circle = null;                                                                        // 4898
  }                                                                                                                    // 4899
  function d3_geom_voronoiCreateBeach(site) {                                                                          // 4900
    var beach = d3_geom_voronoiBeachPool.pop() || new d3_geom_voronoiBeach();                                          // 4901
    beach.site = site;                                                                                                 // 4902
    return beach;                                                                                                      // 4903
  }                                                                                                                    // 4904
  function d3_geom_voronoiDetachBeach(beach) {                                                                         // 4905
    d3_geom_voronoiDetachCircle(beach);                                                                                // 4906
    d3_geom_voronoiBeaches.remove(beach);                                                                              // 4907
    d3_geom_voronoiBeachPool.push(beach);                                                                              // 4908
    d3_geom_voronoiRedBlackNode(beach);                                                                                // 4909
  }                                                                                                                    // 4910
  function d3_geom_voronoiRemoveBeach(beach) {                                                                         // 4911
    var circle = beach.circle, x = circle.x, y = circle.cy, vertex = {                                                 // 4912
      x: x,                                                                                                            // 4913
      y: y                                                                                                             // 4914
    }, previous = beach.P, next = beach.N, disappearing = [ beach ];                                                   // 4915
    d3_geom_voronoiDetachBeach(beach);                                                                                 // 4916
    var lArc = previous;                                                                                               // 4917
    while (lArc.circle && abs(x - lArc.circle.x) <  && abs(y - lArc.circle.cy) < ) {                                 // 4918
      previous = lArc.P;                                                                                               // 4919
      disappearing.unshift(lArc);                                                                                      // 4920
      d3_geom_voronoiDetachBeach(lArc);                                                                                // 4921
      lArc = previous;                                                                                                 // 4922
    }                                                                                                                  // 4923
    disappearing.unshift(lArc);                                                                                        // 4924
    d3_geom_voronoiDetachCircle(lArc);                                                                                 // 4925
    var rArc = next;                                                                                                   // 4926
    while (rArc.circle && abs(x - rArc.circle.x) <  && abs(y - rArc.circle.cy) < ) {                                 // 4927
      next = rArc.N;                                                                                                   // 4928
      disappearing.push(rArc);                                                                                         // 4929
      d3_geom_voronoiDetachBeach(rArc);                                                                                // 4930
      rArc = next;                                                                                                     // 4931
    }                                                                                                                  // 4932
    disappearing.push(rArc);                                                                                           // 4933
    d3_geom_voronoiDetachCircle(rArc);                                                                                 // 4934
    var nArcs = disappearing.length, iArc;                                                                             // 4935
    for (iArc = 1; iArc < nArcs; ++iArc) {                                                                             // 4936
      rArc = disappearing[iArc];                                                                                       // 4937
      lArc = disappearing[iArc - 1];                                                                                   // 4938
      d3_geom_voronoiSetEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);                                              // 4939
    }                                                                                                                  // 4940
    lArc = disappearing[0];                                                                                            // 4941
    rArc = disappearing[nArcs - 1];                                                                                    // 4942
    rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, rArc.site, null, vertex);                                         // 4943
    d3_geom_voronoiAttachCircle(lArc);                                                                                 // 4944
    d3_geom_voronoiAttachCircle(rArc);                                                                                 // 4945
  }                                                                                                                    // 4946
  function d3_geom_voronoiAddBeach(site) {                                                                             // 4947
    var x = site.x, directrix = site.y, lArc, rArc, dxl, dxr, node = d3_geom_voronoiBeaches._;                         // 4948
    while (node) {                                                                                                     // 4949
      dxl = d3_geom_voronoiLeftBreakPoint(node, directrix) - x;                                                        // 4950
      if (dxl > ) node = node.L; else {                                                                               // 4951
        dxr = x - d3_geom_voronoiRightBreakPoint(node, directrix);                                                     // 4952
        if (dxr > ) {                                                                                                 // 4953
          if (!node.R) {                                                                                               // 4954
            lArc = node;                                                                                               // 4955
            break;                                                                                                     // 4956
          }                                                                                                            // 4957
          node = node.R;                                                                                               // 4958
        } else {                                                                                                       // 4959
          if (dxl > -) {                                                                                              // 4960
            lArc = node.P;                                                                                             // 4961
            rArc = node;                                                                                               // 4962
          } else if (dxr > -) {                                                                                       // 4963
            lArc = node;                                                                                               // 4964
            rArc = node.N;                                                                                             // 4965
          } else {                                                                                                     // 4966
            lArc = rArc = node;                                                                                        // 4967
          }                                                                                                            // 4968
          break;                                                                                                       // 4969
        }                                                                                                              // 4970
      }                                                                                                                // 4971
    }                                                                                                                  // 4972
    var newArc = d3_geom_voronoiCreateBeach(site);                                                                     // 4973
    d3_geom_voronoiBeaches.insert(lArc, newArc);                                                                       // 4974
    if (!lArc && !rArc) return;                                                                                        // 4975
    if (lArc === rArc) {                                                                                               // 4976
      d3_geom_voronoiDetachCircle(lArc);                                                                               // 4977
      rArc = d3_geom_voronoiCreateBeach(lArc.site);                                                                    // 4978
      d3_geom_voronoiBeaches.insert(newArc, rArc);                                                                     // 4979
      newArc.edge = rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);                                     // 4980
      d3_geom_voronoiAttachCircle(lArc);                                                                               // 4981
      d3_geom_voronoiAttachCircle(rArc);                                                                               // 4982
      return;                                                                                                          // 4983
    }                                                                                                                  // 4984
    if (!rArc) {                                                                                                       // 4985
      newArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);                                                 // 4986
      return;                                                                                                          // 4987
    }                                                                                                                  // 4988
    d3_geom_voronoiDetachCircle(lArc);                                                                                 // 4989
    d3_geom_voronoiDetachCircle(rArc);                                                                                 // 4990
    var lSite = lArc.site, ax = lSite.x, ay = lSite.y, bx = site.x - ax, by = site.y - ay, rSite = rArc.site, cx = rSite.x - ax, cy = rSite.y - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = {
      x: (cy * hb - by * hc) / d + ax,                                                                                 // 4992
      y: (bx * hc - cx * hb) / d + ay                                                                                  // 4993
    };                                                                                                                 // 4994
    d3_geom_voronoiSetEdgeEnd(rArc.edge, lSite, rSite, vertex);                                                        // 4995
    newArc.edge = d3_geom_voronoiCreateEdge(lSite, site, null, vertex);                                                // 4996
    rArc.edge = d3_geom_voronoiCreateEdge(site, rSite, null, vertex);                                                  // 4997
    d3_geom_voronoiAttachCircle(lArc);                                                                                 // 4998
    d3_geom_voronoiAttachCircle(rArc);                                                                                 // 4999
  }                                                                                                                    // 5000
  function d3_geom_voronoiLeftBreakPoint(arc, directrix) {                                                             // 5001
    var site = arc.site, rfocx = site.x, rfocy = site.y, pby2 = rfocy - directrix;                                     // 5002
    if (!pby2) return rfocx;                                                                                           // 5003
    var lArc = arc.P;                                                                                                  // 5004
    if (!lArc) return -Infinity;                                                                                       // 5005
    site = lArc.site;                                                                                                  // 5006
    var lfocx = site.x, lfocy = site.y, plby2 = lfocy - directrix;                                                     // 5007
    if (!plby2) return lfocx;                                                                                          // 5008
    var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;                                               // 5009
    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;
    return (rfocx + lfocx) / 2;                                                                                        // 5011
  }                                                                                                                    // 5012
  function d3_geom_voronoiRightBreakPoint(arc, directrix) {                                                            // 5013
    var rArc = arc.N;                                                                                                  // 5014
    if (rArc) return d3_geom_voronoiLeftBreakPoint(rArc, directrix);                                                   // 5015
    var site = arc.site;                                                                                               // 5016
    return site.y === directrix ? site.x : Infinity;                                                                   // 5017
  }                                                                                                                    // 5018
  function d3_geom_voronoiCell(site) {                                                                                 // 5019
    this.site = site;                                                                                                  // 5020
    this.edges = [];                                                                                                   // 5021
  }                                                                                                                    // 5022
  d3_geom_voronoiCell.prototype.prepare = function() {                                                                 // 5023
    var halfEdges = this.edges, iHalfEdge = halfEdges.length, edge;                                                    // 5024
    while (iHalfEdge--) {                                                                                              // 5025
      edge = halfEdges[iHalfEdge].edge;                                                                                // 5026
      if (!edge.b || !edge.a) halfEdges.splice(iHalfEdge, 1);                                                          // 5027
    }                                                                                                                  // 5028
    halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);                                                                      // 5029
    return halfEdges.length;                                                                                           // 5030
  };                                                                                                                   // 5031
  function d3_geom_voronoiCloseCells(extent) {                                                                         // 5032
    var x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], x2, y2, x3, y3, cells = d3_geom_voronoiCells, iCell = cells.length, cell, iHalfEdge, halfEdges, nHalfEdges, start, end;
    while (iCell--) {                                                                                                  // 5034
      cell = cells[iCell];                                                                                             // 5035
      if (!cell || !cell.prepare()) continue;                                                                          // 5036
      halfEdges = cell.edges;                                                                                          // 5037
      nHalfEdges = halfEdges.length;                                                                                   // 5038
      iHalfEdge = 0;                                                                                                   // 5039
      while (iHalfEdge < nHalfEdges) {                                                                                 // 5040
        end = halfEdges[iHalfEdge].end(), x3 = end.x, y3 = end.y;                                                      // 5041
        start = halfEdges[++iHalfEdge % nHalfEdges].start(), x2 = start.x, y2 = start.y;                               // 5042
        if (abs(x3 - x2) >  || abs(y3 - y2) > ) {                                                                    // 5043
          halfEdges.splice(iHalfEdge, 0, new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site, end, abs(x3 - x0) <  && y1 - y3 >  ? {
            x: x0,                                                                                                     // 5045
            y: abs(x2 - x0) <  ? y2 : y1                                                                              // 5046
          } : abs(y3 - y1) <  && x1 - x3 >  ? {                                                                      // 5047
            x: abs(y2 - y1) <  ? x2 : x1,                                                                             // 5048
            y: y1                                                                                                      // 5049
          } : abs(x3 - x1) <  && y3 - y0 >  ? {                                                                      // 5050
            x: x1,                                                                                                     // 5051
            y: abs(x2 - x1) <  ? y2 : y0                                                                              // 5052
          } : abs(y3 - y0) <  && x3 - x0 >  ? {                                                                      // 5053
            x: abs(y2 - y0) <  ? x2 : x0,                                                                             // 5054
            y: y0                                                                                                      // 5055
          } : null), cell.site, null));                                                                                // 5056
          ++nHalfEdges;                                                                                                // 5057
        }                                                                                                              // 5058
      }                                                                                                                // 5059
    }                                                                                                                  // 5060
  }                                                                                                                    // 5061
  function d3_geom_voronoiHalfEdgeOrder(a, b) {                                                                        // 5062
    return b.angle - a.angle;                                                                                          // 5063
  }                                                                                                                    // 5064
  function d3_geom_voronoiCircle() {                                                                                   // 5065
    d3_geom_voronoiRedBlackNode(this);                                                                                 // 5066
    this.x = this.y = this.arc = this.site = this.cy = null;                                                           // 5067
  }                                                                                                                    // 5068
  function d3_geom_voronoiAttachCircle(arc) {                                                                          // 5069
    var lArc = arc.P, rArc = arc.N;                                                                                    // 5070
    if (!lArc || !rArc) return;                                                                                        // 5071
    var lSite = lArc.site, cSite = arc.site, rSite = rArc.site;                                                        // 5072
    if (lSite === rSite) return;                                                                                       // 5073
    var bx = cSite.x, by = cSite.y, ax = lSite.x - bx, ay = lSite.y - by, cx = rSite.x - bx, cy = rSite.y - by;        // 5074
    var d = 2 * (ax * cy - ay * cx);                                                                                   // 5075
    if (d >= -2) return;                                                                                              // 5076
    var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x = (cy * ha - ay * hc) / d, y = (ax * hc - cx * ha) / d, cy = y + by;
    var circle = d3_geom_voronoiCirclePool.pop() || new d3_geom_voronoiCircle();                                       // 5078
    circle.arc = arc;                                                                                                  // 5079
    circle.site = cSite;                                                                                               // 5080
    circle.x = x + bx;                                                                                                 // 5081
    circle.y = cy + Math.sqrt(x * x + y * y);                                                                          // 5082
    circle.cy = cy;                                                                                                    // 5083
    arc.circle = circle;                                                                                               // 5084
    var before = null, node = d3_geom_voronoiCircles._;                                                                // 5085
    while (node) {                                                                                                     // 5086
      if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {                                            // 5087
        if (node.L) node = node.L; else {                                                                              // 5088
          before = node.P;                                                                                             // 5089
          break;                                                                                                       // 5090
        }                                                                                                              // 5091
      } else {                                                                                                         // 5092
        if (node.R) node = node.R; else {                                                                              // 5093
          before = node;                                                                                               // 5094
          break;                                                                                                       // 5095
        }                                                                                                              // 5096
      }                                                                                                                // 5097
    }                                                                                                                  // 5098
    d3_geom_voronoiCircles.insert(before, circle);                                                                     // 5099
    if (!before) d3_geom_voronoiFirstCircle = circle;                                                                  // 5100
  }                                                                                                                    // 5101
  function d3_geom_voronoiDetachCircle(arc) {                                                                          // 5102
    var circle = arc.circle;                                                                                           // 5103
    if (circle) {                                                                                                      // 5104
      if (!circle.P) d3_geom_voronoiFirstCircle = circle.N;                                                            // 5105
      d3_geom_voronoiCircles.remove(circle);                                                                           // 5106
      d3_geom_voronoiCirclePool.push(circle);                                                                          // 5107
      d3_geom_voronoiRedBlackNode(circle);                                                                             // 5108
      arc.circle = null;                                                                                               // 5109
    }                                                                                                                  // 5110
  }                                                                                                                    // 5111
  function d3_geom_voronoiClipEdges(extent) {                                                                          // 5112
    var edges = d3_geom_voronoiEdges, clip = d3_geom_clipLine(extent[0][0], extent[0][1], extent[1][0], extent[1][1]), i = edges.length, e;
    while (i--) {                                                                                                      // 5114
      e = edges[i];                                                                                                    // 5115
      if (!d3_geom_voronoiConnectEdge(e, extent) || !clip(e) || abs(e.a.x - e.b.x) <  && abs(e.a.y - e.b.y) < ) {    // 5116
        e.a = e.b = null;                                                                                              // 5117
        edges.splice(i, 1);                                                                                            // 5118
      }                                                                                                                // 5119
    }                                                                                                                  // 5120
  }                                                                                                                    // 5121
  function d3_geom_voronoiConnectEdge(edge, extent) {                                                                  // 5122
    var vb = edge.b;                                                                                                   // 5123
    if (vb) return true;                                                                                               // 5124
    var va = edge.a, x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], lSite = edge.l, rSite = edge.r, lx = lSite.x, ly = lSite.y, rx = rSite.x, ry = rSite.y, fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;
    if (ry === ly) {                                                                                                   // 5126
      if (fx < x0 || fx >= x1) return;                                                                                 // 5127
      if (lx > rx) {                                                                                                   // 5128
        if (!va) va = {                                                                                                // 5129
          x: fx,                                                                                                       // 5130
          y: y0                                                                                                        // 5131
        }; else if (va.y >= y1) return;                                                                                // 5132
        vb = {                                                                                                         // 5133
          x: fx,                                                                                                       // 5134
          y: y1                                                                                                        // 5135
        };                                                                                                             // 5136
      } else {                                                                                                         // 5137
        if (!va) va = {                                                                                                // 5138
          x: fx,                                                                                                       // 5139
          y: y1                                                                                                        // 5140
        }; else if (va.y < y0) return;                                                                                 // 5141
        vb = {                                                                                                         // 5142
          x: fx,                                                                                                       // 5143
          y: y0                                                                                                        // 5144
        };                                                                                                             // 5145
      }                                                                                                                // 5146
    } else {                                                                                                           // 5147
      fm = (lx - rx) / (ry - ly);                                                                                      // 5148
      fb = fy - fm * fx;                                                                                               // 5149
      if (fm < -1 || fm > 1) {                                                                                         // 5150
        if (lx > rx) {                                                                                                 // 5151
          if (!va) va = {                                                                                              // 5152
            x: (y0 - fb) / fm,                                                                                         // 5153
            y: y0                                                                                                      // 5154
          }; else if (va.y >= y1) return;                                                                              // 5155
          vb = {                                                                                                       // 5156
            x: (y1 - fb) / fm,                                                                                         // 5157
            y: y1                                                                                                      // 5158
          };                                                                                                           // 5159
        } else {                                                                                                       // 5160
          if (!va) va = {                                                                                              // 5161
            x: (y1 - fb) / fm,                                                                                         // 5162
            y: y1                                                                                                      // 5163
          }; else if (va.y < y0) return;                                                                               // 5164
          vb = {                                                                                                       // 5165
            x: (y0 - fb) / fm,                                                                                         // 5166
            y: y0                                                                                                      // 5167
          };                                                                                                           // 5168
        }                                                                                                              // 5169
      } else {                                                                                                         // 5170
        if (ly < ry) {                                                                                                 // 5171
          if (!va) va = {                                                                                              // 5172
            x: x0,                                                                                                     // 5173
            y: fm * x0 + fb                                                                                            // 5174
          }; else if (va.x >= x1) return;                                                                              // 5175
          vb = {                                                                                                       // 5176
            x: x1,                                                                                                     // 5177
            y: fm * x1 + fb                                                                                            // 5178
          };                                                                                                           // 5179
        } else {                                                                                                       // 5180
          if (!va) va = {                                                                                              // 5181
            x: x1,                                                                                                     // 5182
            y: fm * x1 + fb                                                                                            // 5183
          }; else if (va.x < x0) return;                                                                               // 5184
          vb = {                                                                                                       // 5185
            x: x0,                                                                                                     // 5186
            y: fm * x0 + fb                                                                                            // 5187
          };                                                                                                           // 5188
        }                                                                                                              // 5189
      }                                                                                                                // 5190
    }                                                                                                                  // 5191
    edge.a = va;                                                                                                       // 5192
    edge.b = vb;                                                                                                       // 5193
    return true;                                                                                                       // 5194
  }                                                                                                                    // 5195
  function d3_geom_voronoiEdge(lSite, rSite) {                                                                         // 5196
    this.l = lSite;                                                                                                    // 5197
    this.r = rSite;                                                                                                    // 5198
    this.a = this.b = null;                                                                                            // 5199
  }                                                                                                                    // 5200
  function d3_geom_voronoiCreateEdge(lSite, rSite, va, vb) {                                                           // 5201
    var edge = new d3_geom_voronoiEdge(lSite, rSite);                                                                  // 5202
    d3_geom_voronoiEdges.push(edge);                                                                                   // 5203
    if (va) d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, va);                                                         // 5204
    if (vb) d3_geom_voronoiSetEdgeEnd(edge, rSite, lSite, vb);                                                         // 5205
    d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, lSite, rSite));                         // 5206
    d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, rSite, lSite));                         // 5207
    return edge;                                                                                                       // 5208
  }                                                                                                                    // 5209
  function d3_geom_voronoiCreateBorderEdge(lSite, va, vb) {                                                            // 5210
    var edge = new d3_geom_voronoiEdge(lSite, null);                                                                   // 5211
    edge.a = va;                                                                                                       // 5212
    edge.b = vb;                                                                                                       // 5213
    d3_geom_voronoiEdges.push(edge);                                                                                   // 5214
    return edge;                                                                                                       // 5215
  }                                                                                                                    // 5216
  function d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, vertex) {                                                     // 5217
    if (!edge.a && !edge.b) {                                                                                          // 5218
      edge.a = vertex;                                                                                                 // 5219
      edge.l = lSite;                                                                                                  // 5220
      edge.r = rSite;                                                                                                  // 5221
    } else if (edge.l === rSite) {                                                                                     // 5222
      edge.b = vertex;                                                                                                 // 5223
    } else {                                                                                                           // 5224
      edge.a = vertex;                                                                                                 // 5225
    }                                                                                                                  // 5226
  }                                                                                                                    // 5227
  function d3_geom_voronoiHalfEdge(edge, lSite, rSite) {                                                               // 5228
    var va = edge.a, vb = edge.b;                                                                                      // 5229
    this.edge = edge;                                                                                                  // 5230
    this.site = lSite;                                                                                                 // 5231
    this.angle = rSite ? Math.atan2(rSite.y - lSite.y, rSite.x - lSite.x) : edge.l === lSite ? Math.atan2(vb.x - va.x, va.y - vb.y) : Math.atan2(va.x - vb.x, vb.y - va.y);
  }                                                                                                                    // 5233
  d3_geom_voronoiHalfEdge.prototype = {                                                                                // 5234
    start: function() {                                                                                                // 5235
      return this.edge.l === this.site ? this.edge.a : this.edge.b;                                                    // 5236
    },                                                                                                                 // 5237
    end: function() {                                                                                                  // 5238
      return this.edge.l === this.site ? this.edge.b : this.edge.a;                                                    // 5239
    }                                                                                                                  // 5240
  };                                                                                                                   // 5241
  function d3_geom_voronoiRedBlackTree() {                                                                             // 5242
    this._ = null;                                                                                                     // 5243
  }                                                                                                                    // 5244
  function d3_geom_voronoiRedBlackNode(node) {                                                                         // 5245
    node.U = node.C = node.L = node.R = node.P = node.N = null;                                                        // 5246
  }                                                                                                                    // 5247
  d3_geom_voronoiRedBlackTree.prototype = {                                                                            // 5248
    insert: function(after, node) {                                                                                    // 5249
      var parent, grandpa, uncle;                                                                                      // 5250
      if (after) {                                                                                                     // 5251
        node.P = after;                                                                                                // 5252
        node.N = after.N;                                                                                              // 5253
        if (after.N) after.N.P = node;                                                                                 // 5254
        after.N = node;                                                                                                // 5255
        if (after.R) {                                                                                                 // 5256
          after = after.R;                                                                                             // 5257
          while (after.L) after = after.L;                                                                             // 5258
          after.L = node;                                                                                              // 5259
        } else {                                                                                                       // 5260
          after.R = node;                                                                                              // 5261
        }                                                                                                              // 5262
        parent = after;                                                                                                // 5263
      } else if (this._) {                                                                                             // 5264
        after = d3_geom_voronoiRedBlackFirst(this._);                                                                  // 5265
        node.P = null;                                                                                                 // 5266
        node.N = after;                                                                                                // 5267
        after.P = after.L = node;                                                                                      // 5268
        parent = after;                                                                                                // 5269
      } else {                                                                                                         // 5270
        node.P = node.N = null;                                                                                        // 5271
        this._ = node;                                                                                                 // 5272
        parent = null;                                                                                                 // 5273
      }                                                                                                                // 5274
      node.L = node.R = null;                                                                                          // 5275
      node.U = parent;                                                                                                 // 5276
      node.C = true;                                                                                                   // 5277
      after = node;                                                                                                    // 5278
      while (parent && parent.C) {                                                                                     // 5279
        grandpa = parent.U;                                                                                            // 5280
        if (parent === grandpa.L) {                                                                                    // 5281
          uncle = grandpa.R;                                                                                           // 5282
          if (uncle && uncle.C) {                                                                                      // 5283
            parent.C = uncle.C = false;                                                                                // 5284
            grandpa.C = true;                                                                                          // 5285
            after = grandpa;                                                                                           // 5286
          } else {                                                                                                     // 5287
            if (after === parent.R) {                                                                                  // 5288
              d3_geom_voronoiRedBlackRotateLeft(this, parent);                                                         // 5289
              after = parent;                                                                                          // 5290
              parent = after.U;                                                                                        // 5291
            }                                                                                                          // 5292
            parent.C = false;                                                                                          // 5293
            grandpa.C = true;                                                                                          // 5294
            d3_geom_voronoiRedBlackRotateRight(this, grandpa);                                                         // 5295
          }                                                                                                            // 5296
        } else {                                                                                                       // 5297
          uncle = grandpa.L;                                                                                           // 5298
          if (uncle && uncle.C) {                                                                                      // 5299
            parent.C = uncle.C = false;                                                                                // 5300
            grandpa.C = true;                                                                                          // 5301
            after = grandpa;                                                                                           // 5302
          } else {                                                                                                     // 5303
            if (after === parent.L) {                                                                                  // 5304
              d3_geom_voronoiRedBlackRotateRight(this, parent);                                                        // 5305
              after = parent;                                                                                          // 5306
              parent = after.U;                                                                                        // 5307
            }                                                                                                          // 5308
            parent.C = false;                                                                                          // 5309
            grandpa.C = true;                                                                                          // 5310
            d3_geom_voronoiRedBlackRotateLeft(this, grandpa);                                                          // 5311
          }                                                                                                            // 5312
        }                                                                                                              // 5313
        parent = after.U;                                                                                              // 5314
      }                                                                                                                // 5315
      this._.C = false;                                                                                                // 5316
    },                                                                                                                 // 5317
    remove: function(node) {                                                                                           // 5318
      if (node.N) node.N.P = node.P;                                                                                   // 5319
      if (node.P) node.P.N = node.N;                                                                                   // 5320
      node.N = node.P = null;                                                                                          // 5321
      var parent = node.U, sibling, left = node.L, right = node.R, next, red;                                          // 5322
      if (!left) next = right; else if (!right) next = left; else next = d3_geom_voronoiRedBlackFirst(right);          // 5323
      if (parent) {                                                                                                    // 5324
        if (parent.L === node) parent.L = next; else parent.R = next;                                                  // 5325
      } else {                                                                                                         // 5326
        this._ = next;                                                                                                 // 5327
      }                                                                                                                // 5328
      if (left && right) {                                                                                             // 5329
        red = next.C;                                                                                                  // 5330
        next.C = node.C;                                                                                               // 5331
        next.L = left;                                                                                                 // 5332
        left.U = next;                                                                                                 // 5333
        if (next !== right) {                                                                                          // 5334
          parent = next.U;                                                                                             // 5335
          next.U = node.U;                                                                                             // 5336
          node = next.R;                                                                                               // 5337
          parent.L = node;                                                                                             // 5338
          next.R = right;                                                                                              // 5339
          right.U = next;                                                                                              // 5340
        } else {                                                                                                       // 5341
          next.U = parent;                                                                                             // 5342
          parent = next;                                                                                               // 5343
          node = next.R;                                                                                               // 5344
        }                                                                                                              // 5345
      } else {                                                                                                         // 5346
        red = node.C;                                                                                                  // 5347
        node = next;                                                                                                   // 5348
      }                                                                                                                // 5349
      if (node) node.U = parent;                                                                                       // 5350
      if (red) return;                                                                                                 // 5351
      if (node && node.C) {                                                                                            // 5352
        node.C = false;                                                                                                // 5353
        return;                                                                                                        // 5354
      }                                                                                                                // 5355
      do {                                                                                                             // 5356
        if (node === this._) break;                                                                                    // 5357
        if (node === parent.L) {                                                                                       // 5358
          sibling = parent.R;                                                                                          // 5359
          if (sibling.C) {                                                                                             // 5360
            sibling.C = false;                                                                                         // 5361
            parent.C = true;                                                                                           // 5362
            d3_geom_voronoiRedBlackRotateLeft(this, parent);                                                           // 5363
            sibling = parent.R;                                                                                        // 5364
          }                                                                                                            // 5365
          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {                                                  // 5366
            if (!sibling.R || !sibling.R.C) {                                                                          // 5367
              sibling.L.C = false;                                                                                     // 5368
              sibling.C = true;                                                                                        // 5369
              d3_geom_voronoiRedBlackRotateRight(this, sibling);                                                       // 5370
              sibling = parent.R;                                                                                      // 5371
            }                                                                                                          // 5372
            sibling.C = parent.C;                                                                                      // 5373
            parent.C = sibling.R.C = false;                                                                            // 5374
            d3_geom_voronoiRedBlackRotateLeft(this, parent);                                                           // 5375
            node = this._;                                                                                             // 5376
            break;                                                                                                     // 5377
          }                                                                                                            // 5378
        } else {                                                                                                       // 5379
          sibling = parent.L;                                                                                          // 5380
          if (sibling.C) {                                                                                             // 5381
            sibling.C = false;                                                                                         // 5382
            parent.C = true;                                                                                           // 5383
            d3_geom_voronoiRedBlackRotateRight(this, parent);                                                          // 5384
            sibling = parent.L;                                                                                        // 5385
          }                                                                                                            // 5386
          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {                                                  // 5387
            if (!sibling.L || !sibling.L.C) {                                                                          // 5388
              sibling.R.C = false;                                                                                     // 5389
              sibling.C = true;                                                                                        // 5390
              d3_geom_voronoiRedBlackRotateLeft(this, sibling);                                                        // 5391
              sibling = parent.L;                                                                                      // 5392
            }                                                                                                          // 5393
            sibling.C = parent.C;                                                                                      // 5394
            parent.C = sibling.L.C = false;                                                                            // 5395
            d3_geom_voronoiRedBlackRotateRight(this, parent);                                                          // 5396
            node = this._;                                                                                             // 5397
            break;                                                                                                     // 5398
          }                                                                                                            // 5399
        }                                                                                                              // 5400
        sibling.C = true;                                                                                              // 5401
        node = parent;                                                                                                 // 5402
        parent = parent.U;                                                                                             // 5403
      } while (!node.C);                                                                                               // 5404
      if (node) node.C = false;                                                                                        // 5405
    }                                                                                                                  // 5406
  };                                                                                                                   // 5407
  function d3_geom_voronoiRedBlackRotateLeft(tree, node) {                                                             // 5408
    var p = node, q = node.R, parent = p.U;                                                                            // 5409
    if (parent) {                                                                                                      // 5410
      if (parent.L === p) parent.L = q; else parent.R = q;                                                             // 5411
    } else {                                                                                                           // 5412
      tree._ = q;                                                                                                      // 5413
    }                                                                                                                  // 5414
    q.U = parent;                                                                                                      // 5415
    p.U = q;                                                                                                           // 5416
    p.R = q.L;                                                                                                         // 5417
    if (p.R) p.R.U = p;                                                                                                // 5418
    q.L = p;                                                                                                           // 5419
  }                                                                                                                    // 5420
  function d3_geom_voronoiRedBlackRotateRight(tree, node) {                                                            // 5421
    var p = node, q = node.L, parent = p.U;                                                                            // 5422
    if (parent) {                                                                                                      // 5423
      if (parent.L === p) parent.L = q; else parent.R = q;                                                             // 5424
    } else {                                                                                                           // 5425
      tree._ = q;                                                                                                      // 5426
    }                                                                                                                  // 5427
    q.U = parent;                                                                                                      // 5428
    p.U = q;                                                                                                           // 5429
    p.L = q.R;                                                                                                         // 5430
    if (p.L) p.L.U = p;                                                                                                // 5431
    q.R = p;                                                                                                           // 5432
  }                                                                                                                    // 5433
  function d3_geom_voronoiRedBlackFirst(node) {                                                                        // 5434
    while (node.L) node = node.L;                                                                                      // 5435
    return node;                                                                                                       // 5436
  }                                                                                                                    // 5437
  function d3_geom_voronoi(sites, bbox) {                                                                              // 5438
    var site = sites.sort(d3_geom_voronoiVertexOrder).pop(), x0, y0, circle;                                           // 5439
    d3_geom_voronoiEdges = [];                                                                                         // 5440
    d3_geom_voronoiCells = new Array(sites.length);                                                                    // 5441
    d3_geom_voronoiBeaches = new d3_geom_voronoiRedBlackTree();                                                        // 5442
    d3_geom_voronoiCircles = new d3_geom_voronoiRedBlackTree();                                                        // 5443
    while (true) {                                                                                                     // 5444
      circle = d3_geom_voronoiFirstCircle;                                                                             // 5445
      if (site && (!circle || site.y < circle.y || site.y === circle.y && site.x < circle.x)) {                        // 5446
        if (site.x !== x0 || site.y !== y0) {                                                                          // 5447
          d3_geom_voronoiCells[site.i] = new d3_geom_voronoiCell(site);                                                // 5448
          d3_geom_voronoiAddBeach(site);                                                                               // 5449
          x0 = site.x, y0 = site.y;                                                                                    // 5450
        }                                                                                                              // 5451
        site = sites.pop();                                                                                            // 5452
      } else if (circle) {                                                                                             // 5453
        d3_geom_voronoiRemoveBeach(circle.arc);                                                                        // 5454
      } else {                                                                                                         // 5455
        break;                                                                                                         // 5456
      }                                                                                                                // 5457
    }                                                                                                                  // 5458
    if (bbox) d3_geom_voronoiClipEdges(bbox), d3_geom_voronoiCloseCells(bbox);                                         // 5459
    var diagram = {                                                                                                    // 5460
      cells: d3_geom_voronoiCells,                                                                                     // 5461
      edges: d3_geom_voronoiEdges                                                                                      // 5462
    };                                                                                                                 // 5463
    d3_geom_voronoiBeaches = d3_geom_voronoiCircles = d3_geom_voronoiEdges = d3_geom_voronoiCells = null;              // 5464
    return diagram;                                                                                                    // 5465
  }                                                                                                                    // 5466
  function d3_geom_voronoiVertexOrder(a, b) {                                                                          // 5467
    return b.y - a.y || b.x - a.x;                                                                                     // 5468
  }                                                                                                                    // 5469
  d3.geom.voronoi = function(points) {                                                                                 // 5470
    var x = d3_geom_pointX, y = d3_geom_pointY, fx = x, fy = y, clipExtent = d3_geom_voronoiClipExtent;                // 5471
    if (points) return voronoi(points);                                                                                // 5472
    function voronoi(data) {                                                                                           // 5473
      var polygons = new Array(data.length), x0 = clipExtent[0][0], y0 = clipExtent[0][1], x1 = clipExtent[1][0], y1 = clipExtent[1][1];
      d3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {                                       // 5475
        var edges = cell.edges, site = cell.site, polygon = polygons[i] = edges.length ? edges.map(function(e) {       // 5476
          var s = e.start();                                                                                           // 5477
          return [ s.x, s.y ];                                                                                         // 5478
        }) : site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [ [ x0, y1 ], [ x1, y1 ], [ x1, y0 ], [ x0, y0 ] ] : [];
        polygon.point = data[i];                                                                                       // 5480
      });                                                                                                              // 5481
      return polygons;                                                                                                 // 5482
    }                                                                                                                  // 5483
    function sites(data) {                                                                                             // 5484
      return data.map(function(d, i) {                                                                                 // 5485
        return {                                                                                                       // 5486
          x: Math.round(fx(d, i) / ) * ,                                                                             // 5487
          y: Math.round(fy(d, i) / ) * ,                                                                             // 5488
          i: i                                                                                                         // 5489
        };                                                                                                             // 5490
      });                                                                                                              // 5491
    }                                                                                                                  // 5492
    voronoi.links = function(data) {                                                                                   // 5493
      return d3_geom_voronoi(sites(data)).edges.filter(function(edge) {                                                // 5494
        return edge.l && edge.r;                                                                                       // 5495
      }).map(function(edge) {                                                                                          // 5496
        return {                                                                                                       // 5497
          source: data[edge.l.i],                                                                                      // 5498
          target: data[edge.r.i]                                                                                       // 5499
        };                                                                                                             // 5500
      });                                                                                                              // 5501
    };                                                                                                                 // 5502
    voronoi.triangles = function(data) {                                                                               // 5503
      var triangles = [];                                                                                              // 5504
      d3_geom_voronoi(sites(data)).cells.forEach(function(cell, i) {                                                   // 5505
        var site = cell.site, edges = cell.edges.sort(d3_geom_voronoiHalfEdgeOrder), j = -1, m = edges.length, e0, s0, e1 = edges[m - 1].edge, s1 = e1.l === site ? e1.r : e1.l;
        while (++j < m) {                                                                                              // 5507
          e0 = e1;                                                                                                     // 5508
          s0 = s1;                                                                                                     // 5509
          e1 = edges[j].edge;                                                                                          // 5510
          s1 = e1.l === site ? e1.r : e1.l;                                                                            // 5511
          if (i < s0.i && i < s1.i && d3_geom_voronoiTriangleArea(site, s0, s1) < 0) {                                 // 5512
            triangles.push([ data[i], data[s0.i], data[s1.i] ]);                                                       // 5513
          }                                                                                                            // 5514
        }                                                                                                              // 5515
      });                                                                                                              // 5516
      return triangles;                                                                                                // 5517
    };                                                                                                                 // 5518
    voronoi.x = function(_) {                                                                                          // 5519
      return arguments.length ? (fx = d3_functor(x = _), voronoi) : x;                                                 // 5520
    };                                                                                                                 // 5521
    voronoi.y = function(_) {                                                                                          // 5522
      return arguments.length ? (fy = d3_functor(y = _), voronoi) : y;                                                 // 5523
    };                                                                                                                 // 5524
    voronoi.clipExtent = function(_) {                                                                                 // 5525
      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent;                      // 5526
      clipExtent = _ == null ? d3_geom_voronoiClipExtent : _;                                                          // 5527
      return voronoi;                                                                                                  // 5528
    };                                                                                                                 // 5529
    voronoi.size = function(_) {                                                                                       // 5530
      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent && clipExtent[1];     // 5531
      return voronoi.clipExtent(_ && [ [ 0, 0 ], _ ]);                                                                 // 5532
    };                                                                                                                 // 5533
    return voronoi;                                                                                                    // 5534
  };                                                                                                                   // 5535
  var d3_geom_voronoiClipExtent = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];                                                    // 5536
  function d3_geom_voronoiTriangleArea(a, b, c) {                                                                      // 5537
    return (a.x - c.x) * (b.y - a.y) - (a.x - b.x) * (c.y - a.y);                                                      // 5538
  }                                                                                                                    // 5539
  d3.geom.delaunay = function(vertices) {                                                                              // 5540
    return d3.geom.voronoi().triangles(vertices);                                                                      // 5541
  };                                                                                                                   // 5542
  d3.geom.quadtree = function(points, x1, y1, x2, y2) {                                                                // 5543
    var x = d3_geom_pointX, y = d3_geom_pointY, compat;                                                                // 5544
    if (compat = arguments.length) {                                                                                   // 5545
      x = d3_geom_quadtreeCompatX;                                                                                     // 5546
      y = d3_geom_quadtreeCompatY;                                                                                     // 5547
      if (compat === 3) {                                                                                              // 5548
        y2 = y1;                                                                                                       // 5549
        x2 = x1;                                                                                                       // 5550
        y1 = x1 = 0;                                                                                                   // 5551
      }                                                                                                                // 5552
      return quadtree(points);                                                                                         // 5553
    }                                                                                                                  // 5554
    function quadtree(data) {                                                                                          // 5555
      var d, fx = d3_functor(x), fy = d3_functor(y), xs, ys, i, n, x1_, y1_, x2_, y2_;                                 // 5556
      if (x1 != null) {                                                                                                // 5557
        x1_ = x1, y1_ = y1, x2_ = x2, y2_ = y2;                                                                        // 5558
      } else {                                                                                                         // 5559
        x2_ = y2_ = -(x1_ = y1_ = Infinity);                                                                           // 5560
        xs = [], ys = [];                                                                                              // 5561
        n = data.length;                                                                                               // 5562
        if (compat) for (i = 0; i < n; ++i) {                                                                          // 5563
          d = data[i];                                                                                                 // 5564
          if (d.x < x1_) x1_ = d.x;                                                                                    // 5565
          if (d.y < y1_) y1_ = d.y;                                                                                    // 5566
          if (d.x > x2_) x2_ = d.x;                                                                                    // 5567
          if (d.y > y2_) y2_ = d.y;                                                                                    // 5568
          xs.push(d.x);                                                                                                // 5569
          ys.push(d.y);                                                                                                // 5570
        } else for (i = 0; i < n; ++i) {                                                                               // 5571
          var x_ = +fx(d = data[i], i), y_ = +fy(d, i);                                                                // 5572
          if (x_ < x1_) x1_ = x_;                                                                                      // 5573
          if (y_ < y1_) y1_ = y_;                                                                                      // 5574
          if (x_ > x2_) x2_ = x_;                                                                                      // 5575
          if (y_ > y2_) y2_ = y_;                                                                                      // 5576
          xs.push(x_);                                                                                                 // 5577
          ys.push(y_);                                                                                                 // 5578
        }                                                                                                              // 5579
      }                                                                                                                // 5580
      var dx = x2_ - x1_, dy = y2_ - y1_;                                                                              // 5581
      if (dx > dy) y2_ = y1_ + dx; else x2_ = x1_ + dy;                                                                // 5582
      function insert(n, d, x, y, x1, y1, x2, y2) {                                                                    // 5583
        if (isNaN(x) || isNaN(y)) return;                                                                              // 5584
        if (n.leaf) {                                                                                                  // 5585
          var nx = n.x, ny = n.y;                                                                                      // 5586
          if (nx != null) {                                                                                            // 5587
            if (abs(nx - x) + abs(ny - y) < .01) {                                                                     // 5588
              insertChild(n, d, x, y, x1, y1, x2, y2);                                                                 // 5589
            } else {                                                                                                   // 5590
              var nPoint = n.point;                                                                                    // 5591
              n.x = n.y = n.point = null;                                                                              // 5592
              insertChild(n, nPoint, nx, ny, x1, y1, x2, y2);                                                          // 5593
              insertChild(n, d, x, y, x1, y1, x2, y2);                                                                 // 5594
            }                                                                                                          // 5595
          } else {                                                                                                     // 5596
            n.x = x, n.y = y, n.point = d;                                                                             // 5597
          }                                                                                                            // 5598
        } else {                                                                                                       // 5599
          insertChild(n, d, x, y, x1, y1, x2, y2);                                                                     // 5600
        }                                                                                                              // 5601
      }                                                                                                                // 5602
      function insertChild(n, d, x, y, x1, y1, x2, y2) {                                                               // 5603
        var xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym, i = below << 1 | right;        // 5604
        n.leaf = false;                                                                                                // 5605
        n = n.nodes[i] || (n.nodes[i] = d3_geom_quadtreeNode());                                                       // 5606
        if (right) x1 = xm; else x2 = xm;                                                                              // 5607
        if (below) y1 = ym; else y2 = ym;                                                                              // 5608
        insert(n, d, x, y, x1, y1, x2, y2);                                                                            // 5609
      }                                                                                                                // 5610
      var root = d3_geom_quadtreeNode();                                                                               // 5611
      root.add = function(d) {                                                                                         // 5612
        insert(root, d, +fx(d, ++i), +fy(d, i), x1_, y1_, x2_, y2_);                                                   // 5613
      };                                                                                                               // 5614
      root.visit = function(f) {                                                                                       // 5615
        d3_geom_quadtreeVisit(f, root, x1_, y1_, x2_, y2_);                                                            // 5616
      };                                                                                                               // 5617
      root.find = function(point) {                                                                                    // 5618
        return d3_geom_quadtreeFind(root, point[0], point[1], x1_, y1_, x2_, y2_);                                     // 5619
      };                                                                                                               // 5620
      i = -1;                                                                                                          // 5621
      if (x1 == null) {                                                                                                // 5622
        while (++i < n) {                                                                                              // 5623
          insert(root, data[i], xs[i], ys[i], x1_, y1_, x2_, y2_);                                                     // 5624
        }                                                                                                              // 5625
        --i;                                                                                                           // 5626
      } else data.forEach(root.add);                                                                                   // 5627
      xs = ys = data = d = null;                                                                                       // 5628
      return root;                                                                                                     // 5629
    }                                                                                                                  // 5630
    quadtree.x = function(_) {                                                                                         // 5631
      return arguments.length ? (x = _, quadtree) : x;                                                                 // 5632
    };                                                                                                                 // 5633
    quadtree.y = function(_) {                                                                                         // 5634
      return arguments.length ? (y = _, quadtree) : y;                                                                 // 5635
    };                                                                                                                 // 5636
    quadtree.extent = function(_) {                                                                                    // 5637
      if (!arguments.length) return x1 == null ? null : [ [ x1, y1 ], [ x2, y2 ] ];                                    // 5638
      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = +_[0][0], y1 = +_[0][1], x2 = +_[1][0],                       // 5639
      y2 = +_[1][1];                                                                                                   // 5640
      return quadtree;                                                                                                 // 5641
    };                                                                                                                 // 5642
    quadtree.size = function(_) {                                                                                      // 5643
      if (!arguments.length) return x1 == null ? null : [ x2 - x1, y2 - y1 ];                                          // 5644
      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = y1 = 0, x2 = +_[0], y2 = +_[1];                               // 5645
      return quadtree;                                                                                                 // 5646
    };                                                                                                                 // 5647
    return quadtree;                                                                                                   // 5648
  };                                                                                                                   // 5649
  function d3_geom_quadtreeCompatX(d) {                                                                                // 5650
    return d.x;                                                                                                        // 5651
  }                                                                                                                    // 5652
  function d3_geom_quadtreeCompatY(d) {                                                                                // 5653
    return d.y;                                                                                                        // 5654
  }                                                                                                                    // 5655
  function d3_geom_quadtreeNode() {                                                                                    // 5656
    return {                                                                                                           // 5657
      leaf: true,                                                                                                      // 5658
      nodes: [],                                                                                                       // 5659
      point: null,                                                                                                     // 5660
      x: null,                                                                                                         // 5661
      y: null                                                                                                          // 5662
    };                                                                                                                 // 5663
  }                                                                                                                    // 5664
  function d3_geom_quadtreeVisit(f, node, x1, y1, x2, y2) {                                                            // 5665
    if (!f(node, x1, y1, x2, y2)) {                                                                                    // 5666
      var sx = (x1 + x2) * .5, sy = (y1 + y2) * .5, children = node.nodes;                                             // 5667
      if (children[0]) d3_geom_quadtreeVisit(f, children[0], x1, y1, sx, sy);                                          // 5668
      if (children[1]) d3_geom_quadtreeVisit(f, children[1], sx, y1, x2, sy);                                          // 5669
      if (children[2]) d3_geom_quadtreeVisit(f, children[2], x1, sy, sx, y2);                                          // 5670
      if (children[3]) d3_geom_quadtreeVisit(f, children[3], sx, sy, x2, y2);                                          // 5671
    }                                                                                                                  // 5672
  }                                                                                                                    // 5673
  function d3_geom_quadtreeFind(root, x, y, x0, y0, x3, y3) {                                                          // 5674
    var minDistance2 = Infinity, closestPoint;                                                                         // 5675
    (function find(node, x1, y1, x2, y2) {                                                                             // 5676
      if (x1 > x3 || y1 > y3 || x2 < x0 || y2 < y0) return;                                                            // 5677
      if (point = node.point) {                                                                                        // 5678
        var point, dx = x - node.x, dy = y - node.y, distance2 = dx * dx + dy * dy;                                    // 5679
        if (distance2 < minDistance2) {                                                                                // 5680
          var distance = Math.sqrt(minDistance2 = distance2);                                                          // 5681
          x0 = x - distance, y0 = y - distance;                                                                        // 5682
          x3 = x + distance, y3 = y + distance;                                                                        // 5683
          closestPoint = point;                                                                                        // 5684
        }                                                                                                              // 5685
      }                                                                                                                // 5686
      var children = node.nodes, xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym;           // 5687
      for (var i = below << 1 | right, j = i + 4; i < j; ++i) {                                                        // 5688
        if (node = children[i & 3]) switch (i & 3) {                                                                   // 5689
         case 0:                                                                                                       // 5690
          find(node, x1, y1, xm, ym);                                                                                  // 5691
          break;                                                                                                       // 5692
                                                                                                                       // 5693
         case 1:                                                                                                       // 5694
          find(node, xm, y1, x2, ym);                                                                                  // 5695
          break;                                                                                                       // 5696
                                                                                                                       // 5697
         case 2:                                                                                                       // 5698
          find(node, x1, ym, xm, y2);                                                                                  // 5699
          break;                                                                                                       // 5700
                                                                                                                       // 5701
         case 3:                                                                                                       // 5702
          find(node, xm, ym, x2, y2);                                                                                  // 5703
          break;                                                                                                       // 5704
        }                                                                                                              // 5705
      }                                                                                                                // 5706
    })(root, x0, y0, x3, y3);                                                                                          // 5707
    return closestPoint;                                                                                               // 5708
  }                                                                                                                    // 5709
  d3.interpolateRgb = d3_interpolateRgb;                                                                               // 5710
  function d3_interpolateRgb(a, b) {                                                                                   // 5711
    a = d3.rgb(a);                                                                                                     // 5712
    b = d3.rgb(b);                                                                                                     // 5713
    var ar = a.r, ag = a.g, ab = a.b, br = b.r - ar, bg = b.g - ag, bb = b.b - ab;                                     // 5714
    return function(t) {                                                                                               // 5715
      return "#" + d3_rgb_hex(Math.round(ar + br * t)) + d3_rgb_hex(Math.round(ag + bg * t)) + d3_rgb_hex(Math.round(ab + bb * t));
    };                                                                                                                 // 5717
  }                                                                                                                    // 5718
  d3.interpolateObject = d3_interpolateObject;                                                                         // 5719
  function d3_interpolateObject(a, b) {                                                                                // 5720
    var i = {}, c = {}, k;                                                                                             // 5721
    for (k in a) {                                                                                                     // 5722
      if (k in b) {                                                                                                    // 5723
        i[k] = d3_interpolate(a[k], b[k]);                                                                             // 5724
      } else {                                                                                                         // 5725
        c[k] = a[k];                                                                                                   // 5726
      }                                                                                                                // 5727
    }                                                                                                                  // 5728
    for (k in b) {                                                                                                     // 5729
      if (!(k in a)) {                                                                                                 // 5730
        c[k] = b[k];                                                                                                   // 5731
      }                                                                                                                // 5732
    }                                                                                                                  // 5733
    return function(t) {                                                                                               // 5734
      for (k in i) c[k] = i[k](t);                                                                                     // 5735
      return c;                                                                                                        // 5736
    };                                                                                                                 // 5737
  }                                                                                                                    // 5738
  d3.interpolateNumber = d3_interpolateNumber;                                                                         // 5739
  function d3_interpolateNumber(a, b) {                                                                                // 5740
    a = +a, b = +b;                                                                                                    // 5741
    return function(t) {                                                                                               // 5742
      return a * (1 - t) + b * t;                                                                                      // 5743
    };                                                                                                                 // 5744
  }                                                                                                                    // 5745
  d3.interpolateString = d3_interpolateString;                                                                         // 5746
  function d3_interpolateString(a, b) {                                                                                // 5747
    var bi = d3_interpolate_numberA.lastIndex = d3_interpolate_numberB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];
    a = a + "", b = b + "";                                                                                            // 5749
    while ((am = d3_interpolate_numberA.exec(a)) && (bm = d3_interpolate_numberB.exec(b))) {                           // 5750
      if ((bs = bm.index) > bi) {                                                                                      // 5751
        bs = b.slice(bi, bs);                                                                                          // 5752
        if (s[i]) s[i] += bs; else s[++i] = bs;                                                                        // 5753
      }                                                                                                                // 5754
      if ((am = am[0]) === (bm = bm[0])) {                                                                             // 5755
        if (s[i]) s[i] += bm; else s[++i] = bm;                                                                        // 5756
      } else {                                                                                                         // 5757
        s[++i] = null;                                                                                                 // 5758
        q.push({                                                                                                       // 5759
          i: i,                                                                                                        // 5760
          x: d3_interpolateNumber(am, bm)                                                                              // 5761
        });                                                                                                            // 5762
      }                                                                                                                // 5763
      bi = d3_interpolate_numberB.lastIndex;                                                                           // 5764
    }                                                                                                                  // 5765
    if (bi < b.length) {                                                                                               // 5766
      bs = b.slice(bi);                                                                                                // 5767
      if (s[i]) s[i] += bs; else s[++i] = bs;                                                                          // 5768
    }                                                                                                                  // 5769
    return s.length < 2 ? q[0] ? (b = q[0].x, function(t) {                                                            // 5770
      return b(t) + "";                                                                                                // 5771
    }) : function() {                                                                                                  // 5772
      return b;                                                                                                        // 5773
    } : (b = q.length, function(t) {                                                                                   // 5774
      for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);                                                         // 5775
      return s.join("");                                                                                               // 5776
    });                                                                                                                // 5777
  }                                                                                                                    // 5778
  var d3_interpolate_numberA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, d3_interpolate_numberB = new RegExp(d3_interpolate_numberA.source, "g");
  d3.interpolate = d3_interpolate;                                                                                     // 5780
  function d3_interpolate(a, b) {                                                                                      // 5781
    var i = d3.interpolators.length, f;                                                                                // 5782
    while (--i >= 0 && !(f = d3.interpolators[i](a, b))) ;                                                             // 5783
    return f;                                                                                                          // 5784
  }                                                                                                                    // 5785
  d3.interpolators = [ function(a, b) {                                                                                // 5786
    var t = typeof b;                                                                                                  // 5787
    return (t === "string" ? d3_rgb_names.has(b) || /^(#|rgb\(|hsl\()/.test(b) ? d3_interpolateRgb : d3_interpolateString : b instanceof d3_color ? d3_interpolateRgb : Array.isArray(b) ? d3_interpolateArray : t === "object" && isNaN(b) ? d3_interpolateObject : d3_interpolateNumber)(a, b);
  } ];                                                                                                                 // 5789
  d3.interpolateArray = d3_interpolateArray;                                                                           // 5790
  function d3_interpolateArray(a, b) {                                                                                 // 5791
    var x = [], c = [], na = a.length, nb = b.length, n0 = Math.min(a.length, b.length), i;                            // 5792
    for (i = 0; i < n0; ++i) x.push(d3_interpolate(a[i], b[i]));                                                       // 5793
    for (;i < na; ++i) c[i] = a[i];                                                                                    // 5794
    for (;i < nb; ++i) c[i] = b[i];                                                                                    // 5795
    return function(t) {                                                                                               // 5796
      for (i = 0; i < n0; ++i) c[i] = x[i](t);                                                                         // 5797
      return c;                                                                                                        // 5798
    };                                                                                                                 // 5799
  }                                                                                                                    // 5800
  var d3_ease_default = function() {                                                                                   // 5801
    return d3_identity;                                                                                                // 5802
  };                                                                                                                   // 5803
  var d3_ease = d3.map({                                                                                               // 5804
    linear: d3_ease_default,                                                                                           // 5805
    poly: d3_ease_poly,                                                                                                // 5806
    quad: function() {                                                                                                 // 5807
      return d3_ease_quad;                                                                                             // 5808
    },                                                                                                                 // 5809
    cubic: function() {                                                                                                // 5810
      return d3_ease_cubic;                                                                                            // 5811
    },                                                                                                                 // 5812
    sin: function() {                                                                                                  // 5813
      return d3_ease_sin;                                                                                              // 5814
    },                                                                                                                 // 5815
    exp: function() {                                                                                                  // 5816
      return d3_ease_exp;                                                                                              // 5817
    },                                                                                                                 // 5818
    circle: function() {                                                                                               // 5819
      return d3_ease_circle;                                                                                           // 5820
    },                                                                                                                 // 5821
    elastic: d3_ease_elastic,                                                                                          // 5822
    back: d3_ease_back,                                                                                                // 5823
    bounce: function() {                                                                                               // 5824
      return d3_ease_bounce;                                                                                           // 5825
    }                                                                                                                  // 5826
  });                                                                                                                  // 5827
  var d3_ease_mode = d3.map({                                                                                          // 5828
    "in": d3_identity,                                                                                                 // 5829
    out: d3_ease_reverse,                                                                                              // 5830
    "in-out": d3_ease_reflect,                                                                                         // 5831
    "out-in": function(f) {                                                                                            // 5832
      return d3_ease_reflect(d3_ease_reverse(f));                                                                      // 5833
    }                                                                                                                  // 5834
  });                                                                                                                  // 5835
  d3.ease = function(name) {                                                                                           // 5836
    var i = name.indexOf("-"), t = i >= 0 ? name.slice(0, i) : name, m = i >= 0 ? name.slice(i + 1) : "in";            // 5837
    t = d3_ease.get(t) || d3_ease_default;                                                                             // 5838
    m = d3_ease_mode.get(m) || d3_identity;                                                                            // 5839
    return d3_ease_clamp(m(t.apply(null, d3_arraySlice.call(arguments, 1))));                                          // 5840
  };                                                                                                                   // 5841
  function d3_ease_clamp(f) {                                                                                          // 5842
    return function(t) {                                                                                               // 5843
      return t <= 0 ? 0 : t >= 1 ? 1 : f(t);                                                                           // 5844
    };                                                                                                                 // 5845
  }                                                                                                                    // 5846
  function d3_ease_reverse(f) {                                                                                        // 5847
    return function(t) {                                                                                               // 5848
      return 1 - f(1 - t);                                                                                             // 5849
    };                                                                                                                 // 5850
  }                                                                                                                    // 5851
  function d3_ease_reflect(f) {                                                                                        // 5852
    return function(t) {                                                                                               // 5853
      return .5 * (t < .5 ? f(2 * t) : 2 - f(2 - 2 * t));                                                              // 5854
    };                                                                                                                 // 5855
  }                                                                                                                    // 5856
  function d3_ease_quad(t) {                                                                                           // 5857
    return t * t;                                                                                                      // 5858
  }                                                                                                                    // 5859
  function d3_ease_cubic(t) {                                                                                          // 5860
    return t * t * t;                                                                                                  // 5861
  }                                                                                                                    // 5862
  function d3_ease_cubicInOut(t) {                                                                                     // 5863
    if (t <= 0) return 0;                                                                                              // 5864
    if (t >= 1) return 1;                                                                                              // 5865
    var t2 = t * t, t3 = t2 * t;                                                                                       // 5866
    return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);                                                                // 5867
  }                                                                                                                    // 5868
  function d3_ease_poly(e) {                                                                                           // 5869
    return function(t) {                                                                                               // 5870
      return Math.pow(t, e);                                                                                           // 5871
    };                                                                                                                 // 5872
  }                                                                                                                    // 5873
  function d3_ease_sin(t) {                                                                                            // 5874
    return 1 - Math.cos(t * half);                                                                                    // 5875
  }                                                                                                                    // 5876
  function d3_ease_exp(t) {                                                                                            // 5877
    return Math.pow(2, 10 * (t - 1));                                                                                  // 5878
  }                                                                                                                    // 5879
  function d3_ease_circle(t) {                                                                                         // 5880
    return 1 - Math.sqrt(1 - t * t);                                                                                   // 5881
  }                                                                                                                    // 5882
  function d3_ease_elastic(a, p) {                                                                                     // 5883
    var s;                                                                                                             // 5884
    if (arguments.length < 2) p = .45;                                                                                 // 5885
    if (arguments.length) s = p /  * Math.asin(1 / a); else a = 1, s = p / 4;                                         // 5886
    return function(t) {                                                                                               // 5887
      return 1 + a * Math.pow(2, -10 * t) * Math.sin((t - s) *  / p);                                                 // 5888
    };                                                                                                                 // 5889
  }                                                                                                                    // 5890
  function d3_ease_back(s) {                                                                                           // 5891
    if (!s) s = 1.70158;                                                                                               // 5892
    return function(t) {                                                                                               // 5893
      return t * t * ((s + 1) * t - s);                                                                                // 5894
    };                                                                                                                 // 5895
  }                                                                                                                    // 5896
  function d3_ease_bounce(t) {                                                                                         // 5897
    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;
  }                                                                                                                    // 5899
  d3.interpolateHcl = d3_interpolateHcl;                                                                               // 5900
  function d3_interpolateHcl(a, b) {                                                                                   // 5901
    a = d3.hcl(a);                                                                                                     // 5902
    b = d3.hcl(b);                                                                                                     // 5903
    var ah = a.h, ac = a.c, al = a.l, bh = b.h - ah, bc = b.c - ac, bl = b.l - al;                                     // 5904
    if (isNaN(bc)) bc = 0, ac = isNaN(ac) ? b.c : ac;                                                                  // 5905
    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;     // 5906
    return function(t) {                                                                                               // 5907
      return d3_hcl_lab(ah + bh * t, ac + bc * t, al + bl * t) + "";                                                   // 5908
    };                                                                                                                 // 5909
  }                                                                                                                    // 5910
  d3.interpolateHsl = d3_interpolateHsl;                                                                               // 5911
  function d3_interpolateHsl(a, b) {                                                                                   // 5912
    a = d3.hsl(a);                                                                                                     // 5913
    b = d3.hsl(b);                                                                                                     // 5914
    var ah = a.h, as = a.s, al = a.l, bh = b.h - ah, bs = b.s - as, bl = b.l - al;                                     // 5915
    if (isNaN(bs)) bs = 0, as = isNaN(as) ? b.s : as;                                                                  // 5916
    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;     // 5917
    return function(t) {                                                                                               // 5918
      return d3_hsl_rgb(ah + bh * t, as + bs * t, al + bl * t) + "";                                                   // 5919
    };                                                                                                                 // 5920
  }                                                                                                                    // 5921
  d3.interpolateLab = d3_interpolateLab;                                                                               // 5922
  function d3_interpolateLab(a, b) {                                                                                   // 5923
    a = d3.lab(a);                                                                                                     // 5924
    b = d3.lab(b);                                                                                                     // 5925
    var al = a.l, aa = a.a, ab = a.b, bl = b.l - al, ba = b.a - aa, bb = b.b - ab;                                     // 5926
    return function(t) {                                                                                               // 5927
      return d3_lab_rgb(al + bl * t, aa + ba * t, ab + bb * t) + "";                                                   // 5928
    };                                                                                                                 // 5929
  }                                                                                                                    // 5930
  d3.interpolateRound = d3_interpolateRound;                                                                           // 5931
  function d3_interpolateRound(a, b) {                                                                                 // 5932
    b -= a;                                                                                                            // 5933
    return function(t) {                                                                                               // 5934
      return Math.round(a + b * t);                                                                                    // 5935
    };                                                                                                                 // 5936
  }                                                                                                                    // 5937
  d3.transform = function(string) {                                                                                    // 5938
    var g = d3_document.createElementNS(d3.ns.prefix.svg, "g");                                                        // 5939
    return (d3.transform = function(string) {                                                                          // 5940
      if (string != null) {                                                                                            // 5941
        g.setAttribute("transform", string);                                                                           // 5942
        var t = g.transform.baseVal.consolidate();                                                                     // 5943
      }                                                                                                                // 5944
      return new d3_transform(t ? t.matrix : d3_transformIdentity);                                                    // 5945
    })(string);                                                                                                        // 5946
  };                                                                                                                   // 5947
  function d3_transform(m) {                                                                                           // 5948
    var r0 = [ m.a, m.b ], r1 = [ m.c, m.d ], kx = d3_transformNormalize(r0), kz = d3_transformDot(r0, r1), ky = d3_transformNormalize(d3_transformCombine(r1, r0, -kz)) || 0;
    if (r0[0] * r1[1] < r1[0] * r0[1]) {                                                                               // 5950
      r0[0] *= -1;                                                                                                     // 5951
      r0[1] *= -1;                                                                                                     // 5952
      kx *= -1;                                                                                                        // 5953
      kz *= -1;                                                                                                        // 5954
    }                                                                                                                  // 5955
    this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * d3_degrees;                            // 5956
    this.translate = [ m.e, m.f ];                                                                                     // 5957
    this.scale = [ kx, ky ];                                                                                           // 5958
    this.skew = ky ? Math.atan2(kz, ky) * d3_degrees : 0;                                                              // 5959
  }                                                                                                                    // 5960
  d3_transform.prototype.toString = function() {                                                                       // 5961
    return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")";
  };                                                                                                                   // 5963
  function d3_transformDot(a, b) {                                                                                     // 5964
    return a[0] * b[0] + a[1] * b[1];                                                                                  // 5965
  }                                                                                                                    // 5966
  function d3_transformNormalize(a) {                                                                                  // 5967
    var k = Math.sqrt(d3_transformDot(a, a));                                                                          // 5968
    if (k) {                                                                                                           // 5969
      a[0] /= k;                                                                                                       // 5970
      a[1] /= k;                                                                                                       // 5971
    }                                                                                                                  // 5972
    return k;                                                                                                          // 5973
  }                                                                                                                    // 5974
  function d3_transformCombine(a, b, k) {                                                                              // 5975
    a[0] += k * b[0];                                                                                                  // 5976
    a[1] += k * b[1];                                                                                                  // 5977
    return a;                                                                                                          // 5978
  }                                                                                                                    // 5979
  var d3_transformIdentity = {                                                                                         // 5980
    a: 1,                                                                                                              // 5981
    b: 0,                                                                                                              // 5982
    c: 0,                                                                                                              // 5983
    d: 1,                                                                                                              // 5984
    e: 0,                                                                                                              // 5985
    f: 0                                                                                                               // 5986
  };                                                                                                                   // 5987
  d3.interpolateTransform = d3_interpolateTransform;                                                                   // 5988
  function d3_interpolateTransform(a, b) {                                                                             // 5989
    var s = [], q = [], n, A = d3.transform(a), B = d3.transform(b), ta = A.translate, tb = B.translate, ra = A.rotate, rb = B.rotate, wa = A.skew, wb = B.skew, ka = A.scale, kb = B.scale;
    if (ta[0] != tb[0] || ta[1] != tb[1]) {                                                                            // 5991
      s.push("translate(", null, ",", null, ")");                                                                      // 5992
      q.push({                                                                                                         // 5993
        i: 1,                                                                                                          // 5994
        x: d3_interpolateNumber(ta[0], tb[0])                                                                          // 5995
      }, {                                                                                                             // 5996
        i: 3,                                                                                                          // 5997
        x: d3_interpolateNumber(ta[1], tb[1])                                                                          // 5998
      });                                                                                                              // 5999
    } else if (tb[0] || tb[1]) {                                                                                       // 6000
      s.push("translate(" + tb + ")");                                                                                 // 6001
    } else {                                                                                                           // 6002
      s.push("");                                                                                                      // 6003
    }                                                                                                                  // 6004
    if (ra != rb) {                                                                                                    // 6005
      if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360;                                                 // 6006
      q.push({                                                                                                         // 6007
        i: s.push(s.pop() + "rotate(", null, ")") - 2,                                                                 // 6008
        x: d3_interpolateNumber(ra, rb)                                                                                // 6009
      });                                                                                                              // 6010
    } else if (rb) {                                                                                                   // 6011
      s.push(s.pop() + "rotate(" + rb + ")");                                                                          // 6012
    }                                                                                                                  // 6013
    if (wa != wb) {                                                                                                    // 6014
      q.push({                                                                                                         // 6015
        i: s.push(s.pop() + "skewX(", null, ")") - 2,                                                                  // 6016
        x: d3_interpolateNumber(wa, wb)                                                                                // 6017
      });                                                                                                              // 6018
    } else if (wb) {                                                                                                   // 6019
      s.push(s.pop() + "skewX(" + wb + ")");                                                                           // 6020
    }                                                                                                                  // 6021
    if (ka[0] != kb[0] || ka[1] != kb[1]) {                                                                            // 6022
      n = s.push(s.pop() + "scale(", null, ",", null, ")");                                                            // 6023
      q.push({                                                                                                         // 6024
        i: n - 4,                                                                                                      // 6025
        x: d3_interpolateNumber(ka[0], kb[0])                                                                          // 6026
      }, {                                                                                                             // 6027
        i: n - 2,                                                                                                      // 6028
        x: d3_interpolateNumber(ka[1], kb[1])                                                                          // 6029
      });                                                                                                              // 6030
    } else if (kb[0] != 1 || kb[1] != 1) {                                                                             // 6031
      s.push(s.pop() + "scale(" + kb + ")");                                                                           // 6032
    }                                                                                                                  // 6033
    n = q.length;                                                                                                      // 6034
    return function(t) {                                                                                               // 6035
      var i = -1, o;                                                                                                   // 6036
      while (++i < n) s[(o = q[i]).i] = o.x(t);                                                                        // 6037
      return s.join("");                                                                                               // 6038
    };                                                                                                                 // 6039
  }                                                                                                                    // 6040
  function d3_uninterpolateNumber(a, b) {                                                                              // 6041
    b = (b -= a = +a) || 1 / b;                                                                                        // 6042
    return function(x) {                                                                                               // 6043
      return (x - a) / b;                                                                                              // 6044
    };                                                                                                                 // 6045
  }                                                                                                                    // 6046
  function d3_uninterpolateClamp(a, b) {                                                                               // 6047
    b = (b -= a = +a) || 1 / b;                                                                                        // 6048
    return function(x) {                                                                                               // 6049
      return Math.max(0, Math.min(1, (x - a) / b));                                                                    // 6050
    };                                                                                                                 // 6051
  }                                                                                                                    // 6052
  d3.layout = {};                                                                                                      // 6053
  d3.layout.bundle = function() {                                                                                      // 6054
    return function(links) {                                                                                           // 6055
      var paths = [], i = -1, n = links.length;                                                                        // 6056
      while (++i < n) paths.push(d3_layout_bundlePath(links[i]));                                                      // 6057
      return paths;                                                                                                    // 6058
    };                                                                                                                 // 6059
  };                                                                                                                   // 6060
  function d3_layout_bundlePath(link) {                                                                                // 6061
    var start = link.source, end = link.target, lca = d3_layout_bundleLeastCommonAncestor(start, end), points = [ start ];
    while (start !== lca) {                                                                                            // 6063
      start = start.parent;                                                                                            // 6064
      points.push(start);                                                                                              // 6065
    }                                                                                                                  // 6066
    var k = points.length;                                                                                             // 6067
    while (end !== lca) {                                                                                              // 6068
      points.splice(k, 0, end);                                                                                        // 6069
      end = end.parent;                                                                                                // 6070
    }                                                                                                                  // 6071
    return points;                                                                                                     // 6072
  }                                                                                                                    // 6073
  function d3_layout_bundleAncestors(node) {                                                                           // 6074
    var ancestors = [], parent = node.parent;                                                                          // 6075
    while (parent != null) {                                                                                           // 6076
      ancestors.push(node);                                                                                            // 6077
      node = parent;                                                                                                   // 6078
      parent = parent.parent;                                                                                          // 6079
    }                                                                                                                  // 6080
    ancestors.push(node);                                                                                              // 6081
    return ancestors;                                                                                                  // 6082
  }                                                                                                                    // 6083
  function d3_layout_bundleLeastCommonAncestor(a, b) {                                                                 // 6084
    if (a === b) return a;                                                                                             // 6085
    var aNodes = d3_layout_bundleAncestors(a), bNodes = d3_layout_bundleAncestors(b), aNode = aNodes.pop(), bNode = bNodes.pop(), sharedNode = null;
    while (aNode === bNode) {                                                                                          // 6087
      sharedNode = aNode;                                                                                              // 6088
      aNode = aNodes.pop();                                                                                            // 6089
      bNode = bNodes.pop();                                                                                            // 6090
    }                                                                                                                  // 6091
    return sharedNode;                                                                                                 // 6092
  }                                                                                                                    // 6093
  d3.layout.chord = function() {                                                                                       // 6094
    var chord = {}, chords, groups, matrix, n, padding = 0, sortGroups, sortSubgroups, sortChords;                     // 6095
    function relayout() {                                                                                              // 6096
      var subgroups = {}, groupSums = [], groupIndex = d3.range(n), subgroupIndex = [], k, x, x0, i, j;                // 6097
      chords = [];                                                                                                     // 6098
      groups = [];                                                                                                     // 6099
      k = 0, i = -1;                                                                                                   // 6100
      while (++i < n) {                                                                                                // 6101
        x = 0, j = -1;                                                                                                 // 6102
        while (++j < n) {                                                                                              // 6103
          x += matrix[i][j];                                                                                           // 6104
        }                                                                                                              // 6105
        groupSums.push(x);                                                                                             // 6106
        subgroupIndex.push(d3.range(n));                                                                               // 6107
        k += x;                                                                                                        // 6108
      }                                                                                                                // 6109
      if (sortGroups) {                                                                                                // 6110
        groupIndex.sort(function(a, b) {                                                                               // 6111
          return sortGroups(groupSums[a], groupSums[b]);                                                               // 6112
        });                                                                                                            // 6113
      }                                                                                                                // 6114
      if (sortSubgroups) {                                                                                             // 6115
        subgroupIndex.forEach(function(d, i) {                                                                         // 6116
          d.sort(function(a, b) {                                                                                      // 6117
            return sortSubgroups(matrix[i][a], matrix[i][b]);                                                          // 6118
          });                                                                                                          // 6119
        });                                                                                                            // 6120
      }                                                                                                                // 6121
      k = ( - padding * n) / k;                                                                                       // 6122
      x = 0, i = -1;                                                                                                   // 6123
      while (++i < n) {                                                                                                // 6124
        x0 = x, j = -1;                                                                                                // 6125
        while (++j < n) {                                                                                              // 6126
          var di = groupIndex[i], dj = subgroupIndex[di][j], v = matrix[di][dj], a0 = x, a1 = x += v * k;              // 6127
          subgroups[di + "-" + dj] = {                                                                                 // 6128
            index: di,                                                                                                 // 6129
            subindex: dj,                                                                                              // 6130
            startAngle: a0,                                                                                            // 6131
            endAngle: a1,                                                                                              // 6132
            value: v                                                                                                   // 6133
          };                                                                                                           // 6134
        }                                                                                                              // 6135
        groups[di] = {                                                                                                 // 6136
          index: di,                                                                                                   // 6137
          startAngle: x0,                                                                                              // 6138
          endAngle: x,                                                                                                 // 6139
          value: (x - x0) / k                                                                                          // 6140
        };                                                                                                             // 6141
        x += padding;                                                                                                  // 6142
      }                                                                                                                // 6143
      i = -1;                                                                                                          // 6144
      while (++i < n) {                                                                                                // 6145
        j = i - 1;                                                                                                     // 6146
        while (++j < n) {                                                                                              // 6147
          var source = subgroups[i + "-" + j], target = subgroups[j + "-" + i];                                        // 6148
          if (source.value || target.value) {                                                                          // 6149
            chords.push(source.value < target.value ? {                                                                // 6150
              source: target,                                                                                          // 6151
              target: source                                                                                           // 6152
            } : {                                                                                                      // 6153
              source: source,                                                                                          // 6154
              target: target                                                                                           // 6155
            });                                                                                                        // 6156
          }                                                                                                            // 6157
        }                                                                                                              // 6158
      }                                                                                                                // 6159
      if (sortChords) resort();                                                                                        // 6160
    }                                                                                                                  // 6161
    function resort() {                                                                                                // 6162
      chords.sort(function(a, b) {                                                                                     // 6163
        return sortChords((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2);               // 6164
      });                                                                                                              // 6165
    }                                                                                                                  // 6166
    chord.matrix = function(x) {                                                                                       // 6167
      if (!arguments.length) return matrix;                                                                            // 6168
      n = (matrix = x) && matrix.length;                                                                               // 6169
      chords = groups = null;                                                                                          // 6170
      return chord;                                                                                                    // 6171
    };                                                                                                                 // 6172
    chord.padding = function(x) {                                                                                      // 6173
      if (!arguments.length) return padding;                                                                           // 6174
      padding = x;                                                                                                     // 6175
      chords = groups = null;                                                                                          // 6176
      return chord;                                                                                                    // 6177
    };                                                                                                                 // 6178
    chord.sortGroups = function(x) {                                                                                   // 6179
      if (!arguments.length) return sortGroups;                                                                        // 6180
      sortGroups = x;                                                                                                  // 6181
      chords = groups = null;                                                                                          // 6182
      return chord;                                                                                                    // 6183
    };                                                                                                                 // 6184
    chord.sortSubgroups = function(x) {                                                                                // 6185
      if (!arguments.length) return sortSubgroups;                                                                     // 6186
      sortSubgroups = x;                                                                                               // 6187
      chords = null;                                                                                                   // 6188
      return chord;                                                                                                    // 6189
    };                                                                                                                 // 6190
    chord.sortChords = function(x) {                                                                                   // 6191
      if (!arguments.length) return sortChords;                                                                        // 6192
      sortChords = x;                                                                                                  // 6193
      if (chords) resort();                                                                                            // 6194
      return chord;                                                                                                    // 6195
    };                                                                                                                 // 6196
    chord.chords = function() {                                                                                        // 6197
      if (!chords) relayout();                                                                                         // 6198
      return chords;                                                                                                   // 6199
    };                                                                                                                 // 6200
    chord.groups = function() {                                                                                        // 6201
      if (!groups) relayout();                                                                                         // 6202
      return groups;                                                                                                   // 6203
    };                                                                                                                 // 6204
    return chord;                                                                                                      // 6205
  };                                                                                                                   // 6206
  d3.layout.force = function() {                                                                                       // 6207
    var force = {}, event = d3.dispatch("start", "tick", "end"), size = [ 1, 1 ], drag, alpha, friction = .9, linkDistance = d3_layout_forceLinkDistance, linkStrength = d3_layout_forceLinkStrength, charge = -30, chargeDistance2 = d3_layout_forceChargeDistance2, gravity = .1, theta2 = .64, nodes = [], links = [], distances, strengths, charges;
    function repulse(node) {                                                                                           // 6209
      return function(quad, x1, _, x2) {                                                                               // 6210
        if (quad.point !== node) {                                                                                     // 6211
          var dx = quad.cx - node.x, dy = quad.cy - node.y, dw = x2 - x1, dn = dx * dx + dy * dy;                      // 6212
          if (dw * dw / theta2 < dn) {                                                                                 // 6213
            if (dn < chargeDistance2) {                                                                                // 6214
              var k = quad.charge / dn;                                                                                // 6215
              node.px -= dx * k;                                                                                       // 6216
              node.py -= dy * k;                                                                                       // 6217
            }                                                                                                          // 6218
            return true;                                                                                               // 6219
          }                                                                                                            // 6220
          if (quad.point && dn && dn < chargeDistance2) {                                                              // 6221
            var k = quad.pointCharge / dn;                                                                             // 6222
            node.px -= dx * k;                                                                                         // 6223
            node.py -= dy * k;                                                                                         // 6224
          }                                                                                                            // 6225
        }                                                                                                              // 6226
        return !quad.charge;                                                                                           // 6227
      };                                                                                                               // 6228
    }                                                                                                                  // 6229
    force.tick = function() {                                                                                          // 6230
      if ((alpha *= .99) < .005) {                                                                                     // 6231
        event.end({                                                                                                    // 6232
          type: "end",                                                                                                 // 6233
          alpha: alpha = 0                                                                                             // 6234
        });                                                                                                            // 6235
        return true;                                                                                                   // 6236
      }                                                                                                                // 6237
      var n = nodes.length, m = links.length, q, i, o, s, t, l, k, x, y;                                               // 6238
      for (i = 0; i < m; ++i) {                                                                                        // 6239
        o = links[i];                                                                                                  // 6240
        s = o.source;                                                                                                  // 6241
        t = o.target;                                                                                                  // 6242
        x = t.x - s.x;                                                                                                 // 6243
        y = t.y - s.y;                                                                                                 // 6244
        if (l = x * x + y * y) {                                                                                       // 6245
          l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;                                          // 6246
          x *= l;                                                                                                      // 6247
          y *= l;                                                                                                      // 6248
          t.x -= x * (k = s.weight / (t.weight + s.weight));                                                           // 6249
          t.y -= y * k;                                                                                                // 6250
          s.x += x * (k = 1 - k);                                                                                      // 6251
          s.y += y * k;                                                                                                // 6252
        }                                                                                                              // 6253
      }                                                                                                                // 6254
      if (k = alpha * gravity) {                                                                                       // 6255
        x = size[0] / 2;                                                                                               // 6256
        y = size[1] / 2;                                                                                               // 6257
        i = -1;                                                                                                        // 6258
        if (k) while (++i < n) {                                                                                       // 6259
          o = nodes[i];                                                                                                // 6260
          o.x += (x - o.x) * k;                                                                                        // 6261
          o.y += (y - o.y) * k;                                                                                        // 6262
        }                                                                                                              // 6263
      }                                                                                                                // 6264
      if (charge) {                                                                                                    // 6265
        d3_layout_forceAccumulate(q = d3.geom.quadtree(nodes), alpha, charges);                                        // 6266
        i = -1;                                                                                                        // 6267
        while (++i < n) {                                                                                              // 6268
          if (!(o = nodes[i]).fixed) {                                                                                 // 6269
            q.visit(repulse(o));                                                                                       // 6270
          }                                                                                                            // 6271
        }                                                                                                              // 6272
      }                                                                                                                // 6273
      i = -1;                                                                                                          // 6274
      while (++i < n) {                                                                                                // 6275
        o = nodes[i];                                                                                                  // 6276
        if (o.fixed) {                                                                                                 // 6277
          o.x = o.px;                                                                                                  // 6278
          o.y = o.py;                                                                                                  // 6279
        } else {                                                                                                       // 6280
          o.x -= (o.px - (o.px = o.x)) * friction;                                                                     // 6281
          o.y -= (o.py - (o.py = o.y)) * friction;                                                                     // 6282
        }                                                                                                              // 6283
      }                                                                                                                // 6284
      event.tick({                                                                                                     // 6285
        type: "tick",                                                                                                  // 6286
        alpha: alpha                                                                                                   // 6287
      });                                                                                                              // 6288
    };                                                                                                                 // 6289
    force.nodes = function(x) {                                                                                        // 6290
      if (!arguments.length) return nodes;                                                                             // 6291
      nodes = x;                                                                                                       // 6292
      return force;                                                                                                    // 6293
    };                                                                                                                 // 6294
    force.links = function(x) {                                                                                        // 6295
      if (!arguments.length) return links;                                                                             // 6296
      links = x;                                                                                                       // 6297
      return force;                                                                                                    // 6298
    };                                                                                                                 // 6299
    force.size = function(x) {                                                                                         // 6300
      if (!arguments.length) return size;                                                                              // 6301
      size = x;                                                                                                        // 6302
      return force;                                                                                                    // 6303
    };                                                                                                                 // 6304
    force.linkDistance = function(x) {                                                                                 // 6305
      if (!arguments.length) return linkDistance;                                                                      // 6306
      linkDistance = typeof x === "function" ? x : +x;                                                                 // 6307
      return force;                                                                                                    // 6308
    };                                                                                                                 // 6309
    force.distance = force.linkDistance;                                                                               // 6310
    force.linkStrength = function(x) {                                                                                 // 6311
      if (!arguments.length) return linkStrength;                                                                      // 6312
      linkStrength = typeof x === "function" ? x : +x;                                                                 // 6313
      return force;                                                                                                    // 6314
    };                                                                                                                 // 6315
    force.friction = function(x) {                                                                                     // 6316
      if (!arguments.length) return friction;                                                                          // 6317
      friction = +x;                                                                                                   // 6318
      return force;                                                                                                    // 6319
    };                                                                                                                 // 6320
    force.charge = function(x) {                                                                                       // 6321
      if (!arguments.length) return charge;                                                                            // 6322
      charge = typeof x === "function" ? x : +x;                                                                       // 6323
      return force;                                                                                                    // 6324
    };                                                                                                                 // 6325
    force.chargeDistance = function(x) {                                                                               // 6326
      if (!arguments.length) return Math.sqrt(chargeDistance2);                                                        // 6327
      chargeDistance2 = x * x;                                                                                         // 6328
      return force;                                                                                                    // 6329
    };                                                                                                                 // 6330
    force.gravity = function(x) {                                                                                      // 6331
      if (!arguments.length) return gravity;                                                                           // 6332
      gravity = +x;                                                                                                    // 6333
      return force;                                                                                                    // 6334
    };                                                                                                                 // 6335
    force.theta = function(x) {                                                                                        // 6336
      if (!arguments.length) return Math.sqrt(theta2);                                                                 // 6337
      theta2 = x * x;                                                                                                  // 6338
      return force;                                                                                                    // 6339
    };                                                                                                                 // 6340
    force.alpha = function(x) {                                                                                        // 6341
      if (!arguments.length) return alpha;                                                                             // 6342
      x = +x;                                                                                                          // 6343
      if (alpha) {                                                                                                     // 6344
        if (x > 0) alpha = x; else alpha = 0;                                                                          // 6345
      } else if (x > 0) {                                                                                              // 6346
        event.start({                                                                                                  // 6347
          type: "start",                                                                                               // 6348
          alpha: alpha = x                                                                                             // 6349
        });                                                                                                            // 6350
        d3.timer(force.tick);                                                                                          // 6351
      }                                                                                                                // 6352
      return force;                                                                                                    // 6353
    };                                                                                                                 // 6354
    force.start = function() {                                                                                         // 6355
      var i, n = nodes.length, m = links.length, w = size[0], h = size[1], neighbors, o;                               // 6356
      for (i = 0; i < n; ++i) {                                                                                        // 6357
        (o = nodes[i]).index = i;                                                                                      // 6358
        o.weight = 0;                                                                                                  // 6359
      }                                                                                                                // 6360
      for (i = 0; i < m; ++i) {                                                                                        // 6361
        o = links[i];                                                                                                  // 6362
        if (typeof o.source == "number") o.source = nodes[o.source];                                                   // 6363
        if (typeof o.target == "number") o.target = nodes[o.target];                                                   // 6364
        ++o.source.weight;                                                                                             // 6365
        ++o.target.weight;                                                                                             // 6366
      }                                                                                                                // 6367
      for (i = 0; i < n; ++i) {                                                                                        // 6368
        o = nodes[i];                                                                                                  // 6369
        if (isNaN(o.x)) o.x = position("x", w);                                                                        // 6370
        if (isNaN(o.y)) o.y = position("y", h);                                                                        // 6371
        if (isNaN(o.px)) o.px = o.x;                                                                                   // 6372
        if (isNaN(o.py)) o.py = o.y;                                                                                   // 6373
      }                                                                                                                // 6374
      distances = [];                                                                                                  // 6375
      if (typeof linkDistance === "function") for (i = 0; i < m; ++i) distances[i] = +linkDistance.call(this, links[i], i); else for (i = 0; i < m; ++i) distances[i] = linkDistance;
      strengths = [];                                                                                                  // 6377
      if (typeof linkStrength === "function") for (i = 0; i < m; ++i) strengths[i] = +linkStrength.call(this, links[i], i); else for (i = 0; i < m; ++i) strengths[i] = linkStrength;
      charges = [];                                                                                                    // 6379
      if (typeof charge === "function") for (i = 0; i < n; ++i) charges[i] = +charge.call(this, nodes[i], i); else for (i = 0; i < n; ++i) charges[i] = charge;
      function position(dimension, size) {                                                                             // 6381
        if (!neighbors) {                                                                                              // 6382
          neighbors = new Array(n);                                                                                    // 6383
          for (j = 0; j < n; ++j) {                                                                                    // 6384
            neighbors[j] = [];                                                                                         // 6385
          }                                                                                                            // 6386
          for (j = 0; j < m; ++j) {                                                                                    // 6387
            var o = links[j];                                                                                          // 6388
            neighbors[o.source.index].push(o.target);                                                                  // 6389
            neighbors[o.target.index].push(o.source);                                                                  // 6390
          }                                                                                                            // 6391
        }                                                                                                              // 6392
        var candidates = neighbors[i], j = -1, l = candidates.length, x;                                               // 6393
        while (++j < l) if (!isNaN(x = candidates[j][dimension])) return x;                                            // 6394
        return Math.random() * size;                                                                                   // 6395
      }                                                                                                                // 6396
      return force.resume();                                                                                           // 6397
    };                                                                                                                 // 6398
    force.resume = function() {                                                                                        // 6399
      return force.alpha(.1);                                                                                          // 6400
    };                                                                                                                 // 6401
    force.stop = function() {                                                                                          // 6402
      return force.alpha(0);                                                                                           // 6403
    };                                                                                                                 // 6404
    force.drag = function() {                                                                                          // 6405
      if (!drag) drag = d3.behavior.drag().origin(d3_identity).on("dragstart.force", d3_layout_forceDragstart).on("drag.force", dragmove).on("dragend.force", d3_layout_forceDragend);
      if (!arguments.length) return drag;                                                                              // 6407
      this.on("mouseover.force", d3_layout_forceMouseover).on("mouseout.force", d3_layout_forceMouseout).call(drag);   // 6408
    };                                                                                                                 // 6409
    function dragmove(d) {                                                                                             // 6410
      d.px = d3.event.x, d.py = d3.event.y;                                                                            // 6411
      force.resume();                                                                                                  // 6412
    }                                                                                                                  // 6413
    return d3.rebind(force, event, "on");                                                                              // 6414
  };                                                                                                                   // 6415
  function d3_layout_forceDragstart(d) {                                                                               // 6416
    d.fixed |= 2;                                                                                                      // 6417
  }                                                                                                                    // 6418
  function d3_layout_forceDragend(d) {                                                                                 // 6419
    d.fixed &= ~6;                                                                                                     // 6420
  }                                                                                                                    // 6421
  function d3_layout_forceMouseover(d) {                                                                               // 6422
    d.fixed |= 4;                                                                                                      // 6423
    d.px = d.x, d.py = d.y;                                                                                            // 6424
  }                                                                                                                    // 6425
  function d3_layout_forceMouseout(d) {                                                                                // 6426
    d.fixed &= ~4;                                                                                                     // 6427
  }                                                                                                                    // 6428
  function d3_layout_forceAccumulate(quad, alpha, charges) {                                                           // 6429
    var cx = 0, cy = 0;                                                                                                // 6430
    quad.charge = 0;                                                                                                   // 6431
    if (!quad.leaf) {                                                                                                  // 6432
      var nodes = quad.nodes, n = nodes.length, i = -1, c;                                                             // 6433
      while (++i < n) {                                                                                                // 6434
        c = nodes[i];                                                                                                  // 6435
        if (c == null) continue;                                                                                       // 6436
        d3_layout_forceAccumulate(c, alpha, charges);                                                                  // 6437
        quad.charge += c.charge;                                                                                       // 6438
        cx += c.charge * c.cx;                                                                                         // 6439
        cy += c.charge * c.cy;                                                                                         // 6440
      }                                                                                                                // 6441
    }                                                                                                                  // 6442
    if (quad.point) {                                                                                                  // 6443
      if (!quad.leaf) {                                                                                                // 6444
        quad.point.x += Math.random() - .5;                                                                            // 6445
        quad.point.y += Math.random() - .5;                                                                            // 6446
      }                                                                                                                // 6447
      var k = alpha * charges[quad.point.index];                                                                       // 6448
      quad.charge += quad.pointCharge = k;                                                                             // 6449
      cx += k * quad.point.x;                                                                                          // 6450
      cy += k * quad.point.y;                                                                                          // 6451
    }                                                                                                                  // 6452
    quad.cx = cx / quad.charge;                                                                                        // 6453
    quad.cy = cy / quad.charge;                                                                                        // 6454
  }                                                                                                                    // 6455
  var d3_layout_forceLinkDistance = 20, d3_layout_forceLinkStrength = 1, d3_layout_forceChargeDistance2 = Infinity;    // 6456
  d3.layout.hierarchy = function() {                                                                                   // 6457
    var sort = d3_layout_hierarchySort, children = d3_layout_hierarchyChildren, value = d3_layout_hierarchyValue;      // 6458
    function hierarchy(root) {                                                                                         // 6459
      var stack = [ root ], nodes = [], node;                                                                          // 6460
      root.depth = 0;                                                                                                  // 6461
      while ((node = stack.pop()) != null) {                                                                           // 6462
        nodes.push(node);                                                                                              // 6463
        if ((childs = children.call(hierarchy, node, node.depth)) && (n = childs.length)) {                            // 6464
          var n, childs, child;                                                                                        // 6465
          while (--n >= 0) {                                                                                           // 6466
            stack.push(child = childs[n]);                                                                             // 6467
            child.parent = node;                                                                                       // 6468
            child.depth = node.depth + 1;                                                                              // 6469
          }                                                                                                            // 6470
          if (value) node.value = 0;                                                                                   // 6471
          node.children = childs;                                                                                      // 6472
        } else {                                                                                                       // 6473
          if (value) node.value = +value.call(hierarchy, node, node.depth) || 0;                                       // 6474
          delete node.children;                                                                                        // 6475
        }                                                                                                              // 6476
      }                                                                                                                // 6477
      d3_layout_hierarchyVisitAfter(root, function(node) {                                                             // 6478
        var childs, parent;                                                                                            // 6479
        if (sort && (childs = node.children)) childs.sort(sort);                                                       // 6480
        if (value && (parent = node.parent)) parent.value += node.value;                                               // 6481
      });                                                                                                              // 6482
      return nodes;                                                                                                    // 6483
    }                                                                                                                  // 6484
    hierarchy.sort = function(x) {                                                                                     // 6485
      if (!arguments.length) return sort;                                                                              // 6486
      sort = x;                                                                                                        // 6487
      return hierarchy;                                                                                                // 6488
    };                                                                                                                 // 6489
    hierarchy.children = function(x) {                                                                                 // 6490
      if (!arguments.length) return children;                                                                          // 6491
      children = x;                                                                                                    // 6492
      return hierarchy;                                                                                                // 6493
    };                                                                                                                 // 6494
    hierarchy.value = function(x) {                                                                                    // 6495
      if (!arguments.length) return value;                                                                             // 6496
      value = x;                                                                                                       // 6497
      return hierarchy;                                                                                                // 6498
    };                                                                                                                 // 6499
    hierarchy.revalue = function(root) {                                                                               // 6500
      if (value) {                                                                                                     // 6501
        d3_layout_hierarchyVisitBefore(root, function(node) {                                                          // 6502
          if (node.children) node.value = 0;                                                                           // 6503
        });                                                                                                            // 6504
        d3_layout_hierarchyVisitAfter(root, function(node) {                                                           // 6505
          var parent;                                                                                                  // 6506
          if (!node.children) node.value = +value.call(hierarchy, node, node.depth) || 0;                              // 6507
          if (parent = node.parent) parent.value += node.value;                                                        // 6508
        });                                                                                                            // 6509
      }                                                                                                                // 6510
      return root;                                                                                                     // 6511
    };                                                                                                                 // 6512
    return hierarchy;                                                                                                  // 6513
  };                                                                                                                   // 6514
  function d3_layout_hierarchyRebind(object, hierarchy) {                                                              // 6515
    d3.rebind(object, hierarchy, "sort", "children", "value");                                                         // 6516
    object.nodes = object;                                                                                             // 6517
    object.links = d3_layout_hierarchyLinks;                                                                           // 6518
    return object;                                                                                                     // 6519
  }                                                                                                                    // 6520
  function d3_layout_hierarchyVisitBefore(node, callback) {                                                            // 6521
    var nodes = [ node ];                                                                                              // 6522
    while ((node = nodes.pop()) != null) {                                                                             // 6523
      callback(node);                                                                                                  // 6524
      if ((children = node.children) && (n = children.length)) {                                                       // 6525
        var n, children;                                                                                               // 6526
        while (--n >= 0) nodes.push(children[n]);                                                                      // 6527
      }                                                                                                                // 6528
    }                                                                                                                  // 6529
  }                                                                                                                    // 6530
  function d3_layout_hierarchyVisitAfter(node, callback) {                                                             // 6531
    var nodes = [ node ], nodes2 = [];                                                                                 // 6532
    while ((node = nodes.pop()) != null) {                                                                             // 6533
      nodes2.push(node);                                                                                               // 6534
      if ((children = node.children) && (n = children.length)) {                                                       // 6535
        var i = -1, n, children;                                                                                       // 6536
        while (++i < n) nodes.push(children[i]);                                                                       // 6537
      }                                                                                                                // 6538
    }                                                                                                                  // 6539
    while ((node = nodes2.pop()) != null) {                                                                            // 6540
      callback(node);                                                                                                  // 6541
    }                                                                                                                  // 6542
  }                                                                                                                    // 6543
  function d3_layout_hierarchyChildren(d) {                                                                            // 6544
    return d.children;                                                                                                 // 6545
  }                                                                                                                    // 6546
  function d3_layout_hierarchyValue(d) {                                                                               // 6547
    return d.value;                                                                                                    // 6548
  }                                                                                                                    // 6549
  function d3_layout_hierarchySort(a, b) {                                                                             // 6550
    return b.value - a.value;                                                                                          // 6551
  }                                                                                                                    // 6552
  function d3_layout_hierarchyLinks(nodes) {                                                                           // 6553
    return d3.merge(nodes.map(function(parent) {                                                                       // 6554
      return (parent.children || []).map(function(child) {                                                             // 6555
        return {                                                                                                       // 6556
          source: parent,                                                                                              // 6557
          target: child                                                                                                // 6558
        };                                                                                                             // 6559
      });                                                                                                              // 6560
    }));                                                                                                               // 6561
  }                                                                                                                    // 6562
  d3.layout.partition = function() {                                                                                   // 6563
    var hierarchy = d3.layout.hierarchy(), size = [ 1, 1 ];                                                            // 6564
    function position(node, x, dx, dy) {                                                                               // 6565
      var children = node.children;                                                                                    // 6566
      node.x = x;                                                                                                      // 6567
      node.y = node.depth * dy;                                                                                        // 6568
      node.dx = dx;                                                                                                    // 6569
      node.dy = dy;                                                                                                    // 6570
      if (children && (n = children.length)) {                                                                         // 6571
        var i = -1, n, c, d;                                                                                           // 6572
        dx = node.value ? dx / node.value : 0;                                                                         // 6573
        while (++i < n) {                                                                                              // 6574
          position(c = children[i], x, d = c.value * dx, dy);                                                          // 6575
          x += d;                                                                                                      // 6576
        }                                                                                                              // 6577
      }                                                                                                                // 6578
    }                                                                                                                  // 6579
    function depth(node) {                                                                                             // 6580
      var children = node.children, d = 0;                                                                             // 6581
      if (children && (n = children.length)) {                                                                         // 6582
        var i = -1, n;                                                                                                 // 6583
        while (++i < n) d = Math.max(d, depth(children[i]));                                                           // 6584
      }                                                                                                                // 6585
      return 1 + d;                                                                                                    // 6586
    }                                                                                                                  // 6587
    function partition(d, i) {                                                                                         // 6588
      var nodes = hierarchy.call(this, d, i);                                                                          // 6589
      position(nodes[0], 0, size[0], size[1] / depth(nodes[0]));                                                       // 6590
      return nodes;                                                                                                    // 6591
    }                                                                                                                  // 6592
    partition.size = function(x) {                                                                                     // 6593
      if (!arguments.length) return size;                                                                              // 6594
      size = x;                                                                                                        // 6595
      return partition;                                                                                                // 6596
    };                                                                                                                 // 6597
    return d3_layout_hierarchyRebind(partition, hierarchy);                                                            // 6598
  };                                                                                                                   // 6599
  d3.layout.pie = function() {                                                                                         // 6600
    var value = Number, sort = d3_layout_pieSortByValue, startAngle = 0, endAngle = , padAngle = 0;                   // 6601
    function pie(data) {                                                                                               // 6602
      var n = data.length, values = data.map(function(d, i) {                                                          // 6603
        return +value.call(pie, d, i);                                                                                 // 6604
      }), a = +(typeof startAngle === "function" ? startAngle.apply(this, arguments) : startAngle), da = (typeof endAngle === "function" ? endAngle.apply(this, arguments) : endAngle) - a, p = Math.min(Math.abs(da) / n, +(typeof padAngle === "function" ? padAngle.apply(this, arguments) : padAngle)), pa = p * (da < 0 ? -1 : 1), k = (da - n * pa) / d3.sum(values), index = d3.range(n), arcs = [], v;
      if (sort != null) index.sort(sort === d3_layout_pieSortByValue ? function(i, j) {                                // 6606
        return values[j] - values[i];                                                                                  // 6607
      } : function(i, j) {                                                                                             // 6608
        return sort(data[i], data[j]);                                                                                 // 6609
      });                                                                                                              // 6610
      index.forEach(function(i) {                                                                                      // 6611
        arcs[i] = {                                                                                                    // 6612
          data: data[i],                                                                                               // 6613
          value: v = values[i],                                                                                        // 6614
          startAngle: a,                                                                                               // 6615
          endAngle: a += v * k + pa,                                                                                   // 6616
          padAngle: p                                                                                                  // 6617
        };                                                                                                             // 6618
      });                                                                                                              // 6619
      return arcs;                                                                                                     // 6620
    }                                                                                                                  // 6621
    pie.value = function(_) {                                                                                          // 6622
      if (!arguments.length) return value;                                                                             // 6623
      value = _;                                                                                                       // 6624
      return pie;                                                                                                      // 6625
    };                                                                                                                 // 6626
    pie.sort = function(_) {                                                                                           // 6627
      if (!arguments.length) return sort;                                                                              // 6628
      sort = _;                                                                                                        // 6629
      return pie;                                                                                                      // 6630
    };                                                                                                                 // 6631
    pie.startAngle = function(_) {                                                                                     // 6632
      if (!arguments.length) return startAngle;                                                                        // 6633
      startAngle = _;                                                                                                  // 6634
      return pie;                                                                                                      // 6635
    };                                                                                                                 // 6636
    pie.endAngle = function(_) {                                                                                       // 6637
      if (!arguments.length) return endAngle;                                                                          // 6638
      endAngle = _;                                                                                                    // 6639
      return pie;                                                                                                      // 6640
    };                                                                                                                 // 6641
    pie.padAngle = function(_) {                                                                                       // 6642
      if (!arguments.length) return padAngle;                                                                          // 6643
      padAngle = _;                                                                                                    // 6644
      return pie;                                                                                                      // 6645
    };                                                                                                                 // 6646
    return pie;                                                                                                        // 6647
  };                                                                                                                   // 6648
  var d3_layout_pieSortByValue = {};                                                                                   // 6649
  d3.layout.stack = function() {                                                                                       // 6650
    var values = d3_identity, order = d3_layout_stackOrderDefault, offset = d3_layout_stackOffsetZero, out = d3_layout_stackOut, x = d3_layout_stackX, y = d3_layout_stackY;
    function stack(data, index) {                                                                                      // 6652
      if (!(n = data.length)) return data;                                                                             // 6653
      var series = data.map(function(d, i) {                                                                           // 6654
        return values.call(stack, d, i);                                                                               // 6655
      });                                                                                                              // 6656
      var points = series.map(function(d) {                                                                            // 6657
        return d.map(function(v, i) {                                                                                  // 6658
          return [ x.call(stack, v, i), y.call(stack, v, i) ];                                                         // 6659
        });                                                                                                            // 6660
      });                                                                                                              // 6661
      var orders = order.call(stack, points, index);                                                                   // 6662
      series = d3.permute(series, orders);                                                                             // 6663
      points = d3.permute(points, orders);                                                                             // 6664
      var offsets = offset.call(stack, points, index);                                                                 // 6665
      var m = series[0].length, n, i, j, o;                                                                            // 6666
      for (j = 0; j < m; ++j) {                                                                                        // 6667
        out.call(stack, series[0][j], o = offsets[j], points[0][j][1]);                                                // 6668
        for (i = 1; i < n; ++i) {                                                                                      // 6669
          out.call(stack, series[i][j], o += points[i - 1][j][1], points[i][j][1]);                                    // 6670
        }                                                                                                              // 6671
      }                                                                                                                // 6672
      return data;                                                                                                     // 6673
    }                                                                                                                  // 6674
    stack.values = function(x) {                                                                                       // 6675
      if (!arguments.length) return values;                                                                            // 6676
      values = x;                                                                                                      // 6677
      return stack;                                                                                                    // 6678
    };                                                                                                                 // 6679
    stack.order = function(x) {                                                                                        // 6680
      if (!arguments.length) return order;                                                                             // 6681
      order = typeof x === "function" ? x : d3_layout_stackOrders.get(x) || d3_layout_stackOrderDefault;               // 6682
      return stack;                                                                                                    // 6683
    };                                                                                                                 // 6684
    stack.offset = function(x) {                                                                                       // 6685
      if (!arguments.length) return offset;                                                                            // 6686
      offset = typeof x === "function" ? x : d3_layout_stackOffsets.get(x) || d3_layout_stackOffsetZero;               // 6687
      return stack;                                                                                                    // 6688
    };                                                                                                                 // 6689
    stack.x = function(z) {                                                                                            // 6690
      if (!arguments.length) return x;                                                                                 // 6691
      x = z;                                                                                                           // 6692
      return stack;                                                                                                    // 6693
    };                                                                                                                 // 6694
    stack.y = function(z) {                                                                                            // 6695
      if (!arguments.length) return y;                                                                                 // 6696
      y = z;                                                                                                           // 6697
      return stack;                                                                                                    // 6698
    };                                                                                                                 // 6699
    stack.out = function(z) {                                                                                          // 6700
      if (!arguments.length) return out;                                                                               // 6701
      out = z;                                                                                                         // 6702
      return stack;                                                                                                    // 6703
    };                                                                                                                 // 6704
    return stack;                                                                                                      // 6705
  };                                                                                                                   // 6706
  function d3_layout_stackX(d) {                                                                                       // 6707
    return d.x;                                                                                                        // 6708
  }                                                                                                                    // 6709
  function d3_layout_stackY(d) {                                                                                       // 6710
    return d.y;                                                                                                        // 6711
  }                                                                                                                    // 6712
  function d3_layout_stackOut(d, y0, y) {                                                                              // 6713
    d.y0 = y0;                                                                                                         // 6714
    d.y = y;                                                                                                           // 6715
  }                                                                                                                    // 6716
  var d3_layout_stackOrders = d3.map({                                                                                 // 6717
    "inside-out": function(data) {                                                                                     // 6718
      var n = data.length, i, j, max = data.map(d3_layout_stackMaxIndex), sums = data.map(d3_layout_stackReduceSum), index = d3.range(n).sort(function(a, b) {
        return max[a] - max[b];                                                                                        // 6720
      }), top = 0, bottom = 0, tops = [], bottoms = [];                                                                // 6721
      for (i = 0; i < n; ++i) {                                                                                        // 6722
        j = index[i];                                                                                                  // 6723
        if (top < bottom) {                                                                                            // 6724
          top += sums[j];                                                                                              // 6725
          tops.push(j);                                                                                                // 6726
        } else {                                                                                                       // 6727
          bottom += sums[j];                                                                                           // 6728
          bottoms.push(j);                                                                                             // 6729
        }                                                                                                              // 6730
      }                                                                                                                // 6731
      return bottoms.reverse().concat(tops);                                                                           // 6732
    },                                                                                                                 // 6733
    reverse: function(data) {                                                                                          // 6734
      return d3.range(data.length).reverse();                                                                          // 6735
    },                                                                                                                 // 6736
    "default": d3_layout_stackOrderDefault                                                                             // 6737
  });                                                                                                                  // 6738
  var d3_layout_stackOffsets = d3.map({                                                                                // 6739
    silhouette: function(data) {                                                                                       // 6740
      var n = data.length, m = data[0].length, sums = [], max = 0, i, j, o, y0 = [];                                   // 6741
      for (j = 0; j < m; ++j) {                                                                                        // 6742
        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];                                                             // 6743
        if (o > max) max = o;                                                                                          // 6744
        sums.push(o);                                                                                                  // 6745
      }                                                                                                                // 6746
      for (j = 0; j < m; ++j) {                                                                                        // 6747
        y0[j] = (max - sums[j]) / 2;                                                                                   // 6748
      }                                                                                                                // 6749
      return y0;                                                                                                       // 6750
    },                                                                                                                 // 6751
    wiggle: function(data) {                                                                                           // 6752
      var n = data.length, x = data[0], m = x.length, i, j, k, s1, s2, s3, dx, o, o0, y0 = [];                         // 6753
      y0[0] = o = o0 = 0;                                                                                              // 6754
      for (j = 1; j < m; ++j) {                                                                                        // 6755
        for (i = 0, s1 = 0; i < n; ++i) s1 += data[i][j][1];                                                           // 6756
        for (i = 0, s2 = 0, dx = x[j][0] - x[j - 1][0]; i < n; ++i) {                                                  // 6757
          for (k = 0, s3 = (data[i][j][1] - data[i][j - 1][1]) / (2 * dx); k < i; ++k) {                               // 6758
            s3 += (data[k][j][1] - data[k][j - 1][1]) / dx;                                                            // 6759
          }                                                                                                            // 6760
          s2 += s3 * data[i][j][1];                                                                                    // 6761
        }                                                                                                              // 6762
        y0[j] = o -= s1 ? s2 / s1 * dx : 0;                                                                            // 6763
        if (o < o0) o0 = o;                                                                                            // 6764
      }                                                                                                                // 6765
      for (j = 0; j < m; ++j) y0[j] -= o0;                                                                             // 6766
      return y0;                                                                                                       // 6767
    },                                                                                                                 // 6768
    expand: function(data) {                                                                                           // 6769
      var n = data.length, m = data[0].length, k = 1 / n, i, j, o, y0 = [];                                            // 6770
      for (j = 0; j < m; ++j) {                                                                                        // 6771
        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];                                                             // 6772
        if (o) for (i = 0; i < n; i++) data[i][j][1] /= o; else for (i = 0; i < n; i++) data[i][j][1] = k;             // 6773
      }                                                                                                                // 6774
      for (j = 0; j < m; ++j) y0[j] = 0;                                                                               // 6775
      return y0;                                                                                                       // 6776
    },                                                                                                                 // 6777
    zero: d3_layout_stackOffsetZero                                                                                    // 6778
  });                                                                                                                  // 6779
  function d3_layout_stackOrderDefault(data) {                                                                         // 6780
    return d3.range(data.length);                                                                                      // 6781
  }                                                                                                                    // 6782
  function d3_layout_stackOffsetZero(data) {                                                                           // 6783
    var j = -1, m = data[0].length, y0 = [];                                                                           // 6784
    while (++j < m) y0[j] = 0;                                                                                         // 6785
    return y0;                                                                                                         // 6786
  }                                                                                                                    // 6787
  function d3_layout_stackMaxIndex(array) {                                                                            // 6788
    var i = 1, j = 0, v = array[0][1], k, n = array.length;                                                            // 6789
    for (;i < n; ++i) {                                                                                                // 6790
      if ((k = array[i][1]) > v) {                                                                                     // 6791
        j = i;                                                                                                         // 6792
        v = k;                                                                                                         // 6793
      }                                                                                                                // 6794
    }                                                                                                                  // 6795
    return j;                                                                                                          // 6796
  }                                                                                                                    // 6797
  function d3_layout_stackReduceSum(d) {                                                                               // 6798
    return d.reduce(d3_layout_stackSum, 0);                                                                            // 6799
  }                                                                                                                    // 6800
  function d3_layout_stackSum(p, d) {                                                                                  // 6801
    return p + d[1];                                                                                                   // 6802
  }                                                                                                                    // 6803
  d3.layout.histogram = function() {                                                                                   // 6804
    var frequency = true, valuer = Number, ranger = d3_layout_histogramRange, binner = d3_layout_histogramBinSturges;  // 6805
    function histogram(data, i) {                                                                                      // 6806
      var bins = [], values = data.map(valuer, this), range = ranger.call(this, values, i), thresholds = binner.call(this, range, values, i), bin, i = -1, n = values.length, m = thresholds.length - 1, k = frequency ? 1 : 1 / n, x;
      while (++i < m) {                                                                                                // 6808
        bin = bins[i] = [];                                                                                            // 6809
        bin.dx = thresholds[i + 1] - (bin.x = thresholds[i]);                                                          // 6810
        bin.y = 0;                                                                                                     // 6811
      }                                                                                                                // 6812
      if (m > 0) {                                                                                                     // 6813
        i = -1;                                                                                                        // 6814
        while (++i < n) {                                                                                              // 6815
          x = values[i];                                                                                               // 6816
          if (x >= range[0] && x <= range[1]) {                                                                        // 6817
            bin = bins[d3.bisect(thresholds, x, 1, m) - 1];                                                            // 6818
            bin.y += k;                                                                                                // 6819
            bin.push(data[i]);                                                                                         // 6820
          }                                                                                                            // 6821
        }                                                                                                              // 6822
      }                                                                                                                // 6823
      return bins;                                                                                                     // 6824
    }                                                                                                                  // 6825
    histogram.value = function(x) {                                                                                    // 6826
      if (!arguments.length) return valuer;                                                                            // 6827
      valuer = x;                                                                                                      // 6828
      return histogram;                                                                                                // 6829
    };                                                                                                                 // 6830
    histogram.range = function(x) {                                                                                    // 6831
      if (!arguments.length) return ranger;                                                                            // 6832
      ranger = d3_functor(x);                                                                                          // 6833
      return histogram;                                                                                                // 6834
    };                                                                                                                 // 6835
    histogram.bins = function(x) {                                                                                     // 6836
      if (!arguments.length) return binner;                                                                            // 6837
      binner = typeof x === "number" ? function(range) {                                                               // 6838
        return d3_layout_histogramBinFixed(range, x);                                                                  // 6839
      } : d3_functor(x);                                                                                               // 6840
      return histogram;                                                                                                // 6841
    };                                                                                                                 // 6842
    histogram.frequency = function(x) {                                                                                // 6843
      if (!arguments.length) return frequency;                                                                         // 6844
      frequency = !!x;                                                                                                 // 6845
      return histogram;                                                                                                // 6846
    };                                                                                                                 // 6847
    return histogram;                                                                                                  // 6848
  };                                                                                                                   // 6849
  function d3_layout_histogramBinSturges(range, values) {                                                              // 6850
    return d3_layout_histogramBinFixed(range, Math.ceil(Math.log(values.length) / Math.LN2 + 1));                      // 6851
  }                                                                                                                    // 6852
  function d3_layout_histogramBinFixed(range, n) {                                                                     // 6853
    var x = -1, b = +range[0], m = (range[1] - b) / n, f = [];                                                         // 6854
    while (++x <= n) f[x] = m * x + b;                                                                                 // 6855
    return f;                                                                                                          // 6856
  }                                                                                                                    // 6857
  function d3_layout_histogramRange(values) {                                                                          // 6858
    return [ d3.min(values), d3.max(values) ];                                                                         // 6859
  }                                                                                                                    // 6860
  d3.layout.pack = function() {                                                                                        // 6861
    var hierarchy = d3.layout.hierarchy().sort(d3_layout_packSort), padding = 0, size = [ 1, 1 ], radius;              // 6862
    function pack(d, i) {                                                                                              // 6863
      var nodes = hierarchy.call(this, d, i), root = nodes[0], w = size[0], h = size[1], r = radius == null ? Math.sqrt : typeof radius === "function" ? radius : function() {
        return radius;                                                                                                 // 6865
      };                                                                                                               // 6866
      root.x = root.y = 0;                                                                                             // 6867
      d3_layout_hierarchyVisitAfter(root, function(d) {                                                                // 6868
        d.r = +r(d.value);                                                                                             // 6869
      });                                                                                                              // 6870
      d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);                                                     // 6871
      if (padding) {                                                                                                   // 6872
        var dr = padding * (radius ? 1 : Math.max(2 * root.r / w, 2 * root.r / h)) / 2;                                // 6873
        d3_layout_hierarchyVisitAfter(root, function(d) {                                                              // 6874
          d.r += dr;                                                                                                   // 6875
        });                                                                                                            // 6876
        d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);                                                   // 6877
        d3_layout_hierarchyVisitAfter(root, function(d) {                                                              // 6878
          d.r -= dr;                                                                                                   // 6879
        });                                                                                                            // 6880
      }                                                                                                                // 6881
      d3_layout_packTransform(root, w / 2, h / 2, radius ? 1 : 1 / Math.max(2 * root.r / w, 2 * root.r / h));          // 6882
      return nodes;                                                                                                    // 6883
    }                                                                                                                  // 6884
    pack.size = function(_) {                                                                                          // 6885
      if (!arguments.length) return size;                                                                              // 6886
      size = _;                                                                                                        // 6887
      return pack;                                                                                                     // 6888
    };                                                                                                                 // 6889
    pack.radius = function(_) {                                                                                        // 6890
      if (!arguments.length) return radius;                                                                            // 6891
      radius = _ == null || typeof _ === "function" ? _ : +_;                                                          // 6892
      return pack;                                                                                                     // 6893
    };                                                                                                                 // 6894
    pack.padding = function(_) {                                                                                       // 6895
      if (!arguments.length) return padding;                                                                           // 6896
      padding = +_;                                                                                                    // 6897
      return pack;                                                                                                     // 6898
    };                                                                                                                 // 6899
    return d3_layout_hierarchyRebind(pack, hierarchy);                                                                 // 6900
  };                                                                                                                   // 6901
  function d3_layout_packSort(a, b) {                                                                                  // 6902
    return a.value - b.value;                                                                                          // 6903
  }                                                                                                                    // 6904
  function d3_layout_packInsert(a, b) {                                                                                // 6905
    var c = a._pack_next;                                                                                              // 6906
    a._pack_next = b;                                                                                                  // 6907
    b._pack_prev = a;                                                                                                  // 6908
    b._pack_next = c;                                                                                                  // 6909
    c._pack_prev = b;                                                                                                  // 6910
  }                                                                                                                    // 6911
  function d3_layout_packSplice(a, b) {                                                                                // 6912
    a._pack_next = b;                                                                                                  // 6913
    b._pack_prev = a;                                                                                                  // 6914
  }                                                                                                                    // 6915
  function d3_layout_packIntersects(a, b) {                                                                            // 6916
    var dx = b.x - a.x, dy = b.y - a.y, dr = a.r + b.r;                                                                // 6917
    return .999 * dr * dr > dx * dx + dy * dy;                                                                         // 6918
  }                                                                                                                    // 6919
  function d3_layout_packSiblings(node) {                                                                              // 6920
    if (!(nodes = node.children) || !(n = nodes.length)) return;                                                       // 6921
    var nodes, xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, a, b, c, i, j, k, n;              // 6922
    function bound(node) {                                                                                             // 6923
      xMin = Math.min(node.x - node.r, xMin);                                                                          // 6924
      xMax = Math.max(node.x + node.r, xMax);                                                                          // 6925
      yMin = Math.min(node.y - node.r, yMin);                                                                          // 6926
      yMax = Math.max(node.y + node.r, yMax);                                                                          // 6927
    }                                                                                                                  // 6928
    nodes.forEach(d3_layout_packLink);                                                                                 // 6929
    a = nodes[0];                                                                                                      // 6930
    a.x = -a.r;                                                                                                        // 6931
    a.y = 0;                                                                                                           // 6932
    bound(a);                                                                                                          // 6933
    if (n > 1) {                                                                                                       // 6934
      b = nodes[1];                                                                                                    // 6935
      b.x = b.r;                                                                                                       // 6936
      b.y = 0;                                                                                                         // 6937
      bound(b);                                                                                                        // 6938
      if (n > 2) {                                                                                                     // 6939
        c = nodes[2];                                                                                                  // 6940
        d3_layout_packPlace(a, b, c);                                                                                  // 6941
        bound(c);                                                                                                      // 6942
        d3_layout_packInsert(a, c);                                                                                    // 6943
        a._pack_prev = c;                                                                                              // 6944
        d3_layout_packInsert(c, b);                                                                                    // 6945
        b = a._pack_next;                                                                                              // 6946
        for (i = 3; i < n; i++) {                                                                                      // 6947
          d3_layout_packPlace(a, b, c = nodes[i]);                                                                     // 6948
          var isect = 0, s1 = 1, s2 = 1;                                                                               // 6949
          for (j = b._pack_next; j !== b; j = j._pack_next, s1++) {                                                    // 6950
            if (d3_layout_packIntersects(j, c)) {                                                                      // 6951
              isect = 1;                                                                                               // 6952
              break;                                                                                                   // 6953
            }                                                                                                          // 6954
          }                                                                                                            // 6955
          if (isect == 1) {                                                                                            // 6956
            for (k = a._pack_prev; k !== j._pack_prev; k = k._pack_prev, s2++) {                                       // 6957
              if (d3_layout_packIntersects(k, c)) {                                                                    // 6958
                break;                                                                                                 // 6959
              }                                                                                                        // 6960
            }                                                                                                          // 6961
          }                                                                                                            // 6962
          if (isect) {                                                                                                 // 6963
            if (s1 < s2 || s1 == s2 && b.r < a.r) d3_layout_packSplice(a, b = j); else d3_layout_packSplice(a = k, b); // 6964
            i--;                                                                                                       // 6965
          } else {                                                                                                     // 6966
            d3_layout_packInsert(a, c);                                                                                // 6967
            b = c;                                                                                                     // 6968
            bound(c);                                                                                                  // 6969
          }                                                                                                            // 6970
        }                                                                                                              // 6971
      }                                                                                                                // 6972
    }                                                                                                                  // 6973
    var cx = (xMin + xMax) / 2, cy = (yMin + yMax) / 2, cr = 0;                                                        // 6974
    for (i = 0; i < n; i++) {                                                                                          // 6975
      c = nodes[i];                                                                                                    // 6976
      c.x -= cx;                                                                                                       // 6977
      c.y -= cy;                                                                                                       // 6978
      cr = Math.max(cr, c.r + Math.sqrt(c.x * c.x + c.y * c.y));                                                       // 6979
    }                                                                                                                  // 6980
    node.r = cr;                                                                                                       // 6981
    nodes.forEach(d3_layout_packUnlink);                                                                               // 6982
  }                                                                                                                    // 6983
  function d3_layout_packLink(node) {                                                                                  // 6984
    node._pack_next = node._pack_prev = node;                                                                          // 6985
  }                                                                                                                    // 6986
  function d3_layout_packUnlink(node) {                                                                                // 6987
    delete node._pack_next;                                                                                            // 6988
    delete node._pack_prev;                                                                                            // 6989
  }                                                                                                                    // 6990
  function d3_layout_packTransform(node, x, y, k) {                                                                    // 6991
    var children = node.children;                                                                                      // 6992
    node.x = x += k * node.x;                                                                                          // 6993
    node.y = y += k * node.y;                                                                                          // 6994
    node.r *= k;                                                                                                       // 6995
    if (children) {                                                                                                    // 6996
      var i = -1, n = children.length;                                                                                 // 6997
      while (++i < n) d3_layout_packTransform(children[i], x, y, k);                                                   // 6998
    }                                                                                                                  // 6999
  }                                                                                                                    // 7000
  function d3_layout_packPlace(a, b, c) {                                                                              // 7001
    var db = a.r + c.r, dx = b.x - a.x, dy = b.y - a.y;                                                                // 7002
    if (db && (dx || dy)) {                                                                                            // 7003
      var da = b.r + c.r, dc = dx * dx + dy * dy;                                                                      // 7004
      da *= da;                                                                                                        // 7005
      db *= db;                                                                                                        // 7006
      var x = .5 + (db - da) / (2 * dc), y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);
      c.x = a.x + x * dx + y * dy;                                                                                     // 7008
      c.y = a.y + x * dy - y * dx;                                                                                     // 7009
    } else {                                                                                                           // 7010
      c.x = a.x + db;                                                                                                  // 7011
      c.y = a.y;                                                                                                       // 7012
    }                                                                                                                  // 7013
  }                                                                                                                    // 7014
  d3.layout.tree = function() {                                                                                        // 7015
    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = null;
    function tree(d, i) {                                                                                              // 7017
      var nodes = hierarchy.call(this, d, i), root0 = nodes[0], root1 = wrapTree(root0);                               // 7018
      d3_layout_hierarchyVisitAfter(root1, firstWalk), root1.parent.m = -root1.z;                                      // 7019
      d3_layout_hierarchyVisitBefore(root1, secondWalk);                                                               // 7020
      if (nodeSize) d3_layout_hierarchyVisitBefore(root0, sizeNode); else {                                            // 7021
        var left = root0, right = root0, bottom = root0;                                                               // 7022
        d3_layout_hierarchyVisitBefore(root0, function(node) {                                                         // 7023
          if (node.x < left.x) left = node;                                                                            // 7024
          if (node.x > right.x) right = node;                                                                          // 7025
          if (node.depth > bottom.depth) bottom = node;                                                                // 7026
        });                                                                                                            // 7027
        var tx = separation(left, right) / 2 - left.x, kx = size[0] / (right.x + separation(right, left) / 2 + tx), ky = size[1] / (bottom.depth || 1);
        d3_layout_hierarchyVisitBefore(root0, function(node) {                                                         // 7029
          node.x = (node.x + tx) * kx;                                                                                 // 7030
          node.y = node.depth * ky;                                                                                    // 7031
        });                                                                                                            // 7032
      }                                                                                                                // 7033
      return nodes;                                                                                                    // 7034
    }                                                                                                                  // 7035
    function wrapTree(root0) {                                                                                         // 7036
      var root1 = {                                                                                                    // 7037
        A: null,                                                                                                       // 7038
        children: [ root0 ]                                                                                            // 7039
      }, queue = [ root1 ], node1;                                                                                     // 7040
      while ((node1 = queue.pop()) != null) {                                                                          // 7041
        for (var children = node1.children, child, i = 0, n = children.length; i < n; ++i) {                           // 7042
          queue.push((children[i] = child = {                                                                          // 7043
            _: children[i],                                                                                            // 7044
            parent: node1,                                                                                             // 7045
            children: (child = children[i].children) && child.slice() || [],                                           // 7046
            A: null,                                                                                                   // 7047
            a: null,                                                                                                   // 7048
            z: 0,                                                                                                      // 7049
            m: 0,                                                                                                      // 7050
            c: 0,                                                                                                      // 7051
            s: 0,                                                                                                      // 7052
            t: null,                                                                                                   // 7053
            i: i                                                                                                       // 7054
          }).a = child);                                                                                               // 7055
        }                                                                                                              // 7056
      }                                                                                                                // 7057
      return root1.children[0];                                                                                        // 7058
    }                                                                                                                  // 7059
    function firstWalk(v) {                                                                                            // 7060
      var children = v.children, siblings = v.parent.children, w = v.i ? siblings[v.i - 1] : null;                     // 7061
      if (children.length) {                                                                                           // 7062
        d3_layout_treeShift(v);                                                                                        // 7063
        var midpoint = (children[0].z + children[children.length - 1].z) / 2;                                          // 7064
        if (w) {                                                                                                       // 7065
          v.z = w.z + separation(v._, w._);                                                                            // 7066
          v.m = v.z - midpoint;                                                                                        // 7067
        } else {                                                                                                       // 7068
          v.z = midpoint;                                                                                              // 7069
        }                                                                                                              // 7070
      } else if (w) {                                                                                                  // 7071
        v.z = w.z + separation(v._, w._);                                                                              // 7072
      }                                                                                                                // 7073
      v.parent.A = apportion(v, w, v.parent.A || siblings[0]);                                                         // 7074
    }                                                                                                                  // 7075
    function secondWalk(v) {                                                                                           // 7076
      v._.x = v.z + v.parent.m;                                                                                        // 7077
      v.m += v.parent.m;                                                                                               // 7078
    }                                                                                                                  // 7079
    function apportion(v, w, ancestor) {                                                                               // 7080
      if (w) {                                                                                                         // 7081
        var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;
        while (vim = d3_layout_treeRight(vim), vip = d3_layout_treeLeft(vip), vim && vip) {                            // 7083
          vom = d3_layout_treeLeft(vom);                                                                               // 7084
          vop = d3_layout_treeRight(vop);                                                                              // 7085
          vop.a = v;                                                                                                   // 7086
          shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);                                                // 7087
          if (shift > 0) {                                                                                             // 7088
            d3_layout_treeMove(d3_layout_treeAncestor(vim, v, ancestor), v, shift);                                    // 7089
            sip += shift;                                                                                              // 7090
            sop += shift;                                                                                              // 7091
          }                                                                                                            // 7092
          sim += vim.m;                                                                                                // 7093
          sip += vip.m;                                                                                                // 7094
          som += vom.m;                                                                                                // 7095
          sop += vop.m;                                                                                                // 7096
        }                                                                                                              // 7097
        if (vim && !d3_layout_treeRight(vop)) {                                                                        // 7098
          vop.t = vim;                                                                                                 // 7099
          vop.m += sim - sop;                                                                                          // 7100
        }                                                                                                              // 7101
        if (vip && !d3_layout_treeLeft(vom)) {                                                                         // 7102
          vom.t = vip;                                                                                                 // 7103
          vom.m += sip - som;                                                                                          // 7104
          ancestor = v;                                                                                                // 7105
        }                                                                                                              // 7106
      }                                                                                                                // 7107
      return ancestor;                                                                                                 // 7108
    }                                                                                                                  // 7109
    function sizeNode(node) {                                                                                          // 7110
      node.x *= size[0];                                                                                               // 7111
      node.y = node.depth * size[1];                                                                                   // 7112
    }                                                                                                                  // 7113
    tree.separation = function(x) {                                                                                    // 7114
      if (!arguments.length) return separation;                                                                        // 7115
      separation = x;                                                                                                  // 7116
      return tree;                                                                                                     // 7117
    };                                                                                                                 // 7118
    tree.size = function(x) {                                                                                          // 7119
      if (!arguments.length) return nodeSize ? null : size;                                                            // 7120
      nodeSize = (size = x) == null ? sizeNode : null;                                                                 // 7121
      return tree;                                                                                                     // 7122
    };                                                                                                                 // 7123
    tree.nodeSize = function(x) {                                                                                      // 7124
      if (!arguments.length) return nodeSize ? size : null;                                                            // 7125
      nodeSize = (size = x) == null ? null : sizeNode;                                                                 // 7126
      return tree;                                                                                                     // 7127
    };                                                                                                                 // 7128
    return d3_layout_hierarchyRebind(tree, hierarchy);                                                                 // 7129
  };                                                                                                                   // 7130
  function d3_layout_treeSeparation(a, b) {                                                                            // 7131
    return a.parent == b.parent ? 1 : 2;                                                                               // 7132
  }                                                                                                                    // 7133
  function d3_layout_treeLeft(v) {                                                                                     // 7134
    var children = v.children;                                                                                         // 7135
    return children.length ? children[0] : v.t;                                                                        // 7136
  }                                                                                                                    // 7137
  function d3_layout_treeRight(v) {                                                                                    // 7138
    var children = v.children, n;                                                                                      // 7139
    return (n = children.length) ? children[n - 1] : v.t;                                                              // 7140
  }                                                                                                                    // 7141
  function d3_layout_treeMove(wm, wp, shift) {                                                                         // 7142
    var change = shift / (wp.i - wm.i);                                                                                // 7143
    wp.c -= change;                                                                                                    // 7144
    wp.s += shift;                                                                                                     // 7145
    wm.c += change;                                                                                                    // 7146
    wp.z += shift;                                                                                                     // 7147
    wp.m += shift;                                                                                                     // 7148
  }                                                                                                                    // 7149
  function d3_layout_treeShift(v) {                                                                                    // 7150
    var shift = 0, change = 0, children = v.children, i = children.length, w;                                          // 7151
    while (--i >= 0) {                                                                                                 // 7152
      w = children[i];                                                                                                 // 7153
      w.z += shift;                                                                                                    // 7154
      w.m += shift;                                                                                                    // 7155
      shift += w.s + (change += w.c);                                                                                  // 7156
    }                                                                                                                  // 7157
  }                                                                                                                    // 7158
  function d3_layout_treeAncestor(vim, v, ancestor) {                                                                  // 7159
    return vim.a.parent === v.parent ? vim.a : ancestor;                                                               // 7160
  }                                                                                                                    // 7161
  d3.layout.cluster = function() {                                                                                     // 7162
    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = false;
    function cluster(d, i) {                                                                                           // 7164
      var nodes = hierarchy.call(this, d, i), root = nodes[0], previousNode, x = 0;                                    // 7165
      d3_layout_hierarchyVisitAfter(root, function(node) {                                                             // 7166
        var children = node.children;                                                                                  // 7167
        if (children && children.length) {                                                                             // 7168
          node.x = d3_layout_clusterX(children);                                                                       // 7169
          node.y = d3_layout_clusterY(children);                                                                       // 7170
        } else {                                                                                                       // 7171
          node.x = previousNode ? x += separation(node, previousNode) : 0;                                             // 7172
          node.y = 0;                                                                                                  // 7173
          previousNode = node;                                                                                         // 7174
        }                                                                                                              // 7175
      });                                                                                                              // 7176
      var left = d3_layout_clusterLeft(root), right = d3_layout_clusterRight(root), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2;
      d3_layout_hierarchyVisitAfter(root, nodeSize ? function(node) {                                                  // 7178
        node.x = (node.x - root.x) * size[0];                                                                          // 7179
        node.y = (root.y - node.y) * size[1];                                                                          // 7180
      } : function(node) {                                                                                             // 7181
        node.x = (node.x - x0) / (x1 - x0) * size[0];                                                                  // 7182
        node.y = (1 - (root.y ? node.y / root.y : 1)) * size[1];                                                       // 7183
      });                                                                                                              // 7184
      return nodes;                                                                                                    // 7185
    }                                                                                                                  // 7186
    cluster.separation = function(x) {                                                                                 // 7187
      if (!arguments.length) return separation;                                                                        // 7188
      separation = x;                                                                                                  // 7189
      return cluster;                                                                                                  // 7190
    };                                                                                                                 // 7191
    cluster.size = function(x) {                                                                                       // 7192
      if (!arguments.length) return nodeSize ? null : size;                                                            // 7193
      nodeSize = (size = x) == null;                                                                                   // 7194
      return cluster;                                                                                                  // 7195
    };                                                                                                                 // 7196
    cluster.nodeSize = function(x) {                                                                                   // 7197
      if (!arguments.length) return nodeSize ? size : null;                                                            // 7198
      nodeSize = (size = x) != null;                                                                                   // 7199
      return cluster;                                                                                                  // 7200
    };                                                                                                                 // 7201
    return d3_layout_hierarchyRebind(cluster, hierarchy);                                                              // 7202
  };                                                                                                                   // 7203
  function d3_layout_clusterY(children) {                                                                              // 7204
    return 1 + d3.max(children, function(child) {                                                                      // 7205
      return child.y;                                                                                                  // 7206
    });                                                                                                                // 7207
  }                                                                                                                    // 7208
  function d3_layout_clusterX(children) {                                                                              // 7209
    return children.reduce(function(x, child) {                                                                        // 7210
      return x + child.x;                                                                                              // 7211
    }, 0) / children.length;                                                                                           // 7212
  }                                                                                                                    // 7213
  function d3_layout_clusterLeft(node) {                                                                               // 7214
    var children = node.children;                                                                                      // 7215
    return children && children.length ? d3_layout_clusterLeft(children[0]) : node;                                    // 7216
  }                                                                                                                    // 7217
  function d3_layout_clusterRight(node) {                                                                              // 7218
    var children = node.children, n;                                                                                   // 7219
    return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node;                         // 7220
  }                                                                                                                    // 7221
  d3.layout.treemap = function() {                                                                                     // 7222
    var hierarchy = d3.layout.hierarchy(), round = Math.round, size = [ 1, 1 ], padding = null, pad = d3_layout_treemapPadNull, sticky = false, stickies, mode = "squarify", ratio = .5 * (1 + Math.sqrt(5));
    function scale(children, k) {                                                                                      // 7224
      var i = -1, n = children.length, child, area;                                                                    // 7225
      while (++i < n) {                                                                                                // 7226
        area = (child = children[i]).value * (k < 0 ? 0 : k);                                                          // 7227
        child.area = isNaN(area) || area <= 0 ? 0 : area;                                                              // 7228
      }                                                                                                                // 7229
    }                                                                                                                  // 7230
    function squarify(node) {                                                                                          // 7231
      var children = node.children;                                                                                    // 7232
      if (children && children.length) {                                                                               // 7233
        var rect = pad(node), row = [], remaining = children.slice(), child, best = Infinity, score, u = mode === "slice" ? rect.dx : mode === "dice" ? rect.dy : mode === "slice-dice" ? node.depth & 1 ? rect.dy : rect.dx : Math.min(rect.dx, rect.dy), n;
        scale(remaining, rect.dx * rect.dy / node.value);                                                              // 7235
        row.area = 0;                                                                                                  // 7236
        while ((n = remaining.length) > 0) {                                                                           // 7237
          row.push(child = remaining[n - 1]);                                                                          // 7238
          row.area += child.area;                                                                                      // 7239
          if (mode !== "squarify" || (score = worst(row, u)) <= best) {                                                // 7240
            remaining.pop();                                                                                           // 7241
            best = score;                                                                                              // 7242
          } else {                                                                                                     // 7243
            row.area -= row.pop().area;                                                                                // 7244
            position(row, u, rect, false);                                                                             // 7245
            u = Math.min(rect.dx, rect.dy);                                                                            // 7246
            row.length = row.area = 0;                                                                                 // 7247
            best = Infinity;                                                                                           // 7248
          }                                                                                                            // 7249
        }                                                                                                              // 7250
        if (row.length) {                                                                                              // 7251
          position(row, u, rect, true);                                                                                // 7252
          row.length = row.area = 0;                                                                                   // 7253
        }                                                                                                              // 7254
        children.forEach(squarify);                                                                                    // 7255
      }                                                                                                                // 7256
    }                                                                                                                  // 7257
    function stickify(node) {                                                                                          // 7258
      var children = node.children;                                                                                    // 7259
      if (children && children.length) {                                                                               // 7260
        var rect = pad(node), remaining = children.slice(), child, row = [];                                           // 7261
        scale(remaining, rect.dx * rect.dy / node.value);                                                              // 7262
        row.area = 0;                                                                                                  // 7263
        while (child = remaining.pop()) {                                                                              // 7264
          row.push(child);                                                                                             // 7265
          row.area += child.area;                                                                                      // 7266
          if (child.z != null) {                                                                                       // 7267
            position(row, child.z ? rect.dx : rect.dy, rect, !remaining.length);                                       // 7268
            row.length = row.area = 0;                                                                                 // 7269
          }                                                                                                            // 7270
        }                                                                                                              // 7271
        children.forEach(stickify);                                                                                    // 7272
      }                                                                                                                // 7273
    }                                                                                                                  // 7274
    function worst(row, u) {                                                                                           // 7275
      var s = row.area, r, rmax = 0, rmin = Infinity, i = -1, n = row.length;                                          // 7276
      while (++i < n) {                                                                                                // 7277
        if (!(r = row[i].area)) continue;                                                                              // 7278
        if (r < rmin) rmin = r;                                                                                        // 7279
        if (r > rmax) rmax = r;                                                                                        // 7280
      }                                                                                                                // 7281
      s *= s;                                                                                                          // 7282
      u *= u;                                                                                                          // 7283
      return s ? Math.max(u * rmax * ratio / s, s / (u * rmin * ratio)) : Infinity;                                    // 7284
    }                                                                                                                  // 7285
    function position(row, u, rect, flush) {                                                                           // 7286
      var i = -1, n = row.length, x = rect.x, y = rect.y, v = u ? round(row.area / u) : 0, o;                          // 7287
      if (u == rect.dx) {                                                                                              // 7288
        if (flush || v > rect.dy) v = rect.dy;                                                                         // 7289
        while (++i < n) {                                                                                              // 7290
          o = row[i];                                                                                                  // 7291
          o.x = x;                                                                                                     // 7292
          o.y = y;                                                                                                     // 7293
          o.dy = v;                                                                                                    // 7294
          x += o.dx = Math.min(rect.x + rect.dx - x, v ? round(o.area / v) : 0);                                       // 7295
        }                                                                                                              // 7296
        o.z = true;                                                                                                    // 7297
        o.dx += rect.x + rect.dx - x;                                                                                  // 7298
        rect.y += v;                                                                                                   // 7299
        rect.dy -= v;                                                                                                  // 7300
      } else {                                                                                                         // 7301
        if (flush || v > rect.dx) v = rect.dx;                                                                         // 7302
        while (++i < n) {                                                                                              // 7303
          o = row[i];                                                                                                  // 7304
          o.x = x;                                                                                                     // 7305
          o.y = y;                                                                                                     // 7306
          o.dx = v;                                                                                                    // 7307
          y += o.dy = Math.min(rect.y + rect.dy - y, v ? round(o.area / v) : 0);                                       // 7308
        }                                                                                                              // 7309
        o.z = false;                                                                                                   // 7310
        o.dy += rect.y + rect.dy - y;                                                                                  // 7311
        rect.x += v;                                                                                                   // 7312
        rect.dx -= v;                                                                                                  // 7313
      }                                                                                                                // 7314
    }                                                                                                                  // 7315
    function treemap(d) {                                                                                              // 7316
      var nodes = stickies || hierarchy(d), root = nodes[0];                                                           // 7317
      root.x = 0;                                                                                                      // 7318
      root.y = 0;                                                                                                      // 7319
      root.dx = size[0];                                                                                               // 7320
      root.dy = size[1];                                                                                               // 7321
      if (stickies) hierarchy.revalue(root);                                                                           // 7322
      scale([ root ], root.dx * root.dy / root.value);                                                                 // 7323
      (stickies ? stickify : squarify)(root);                                                                          // 7324
      if (sticky) stickies = nodes;                                                                                    // 7325
      return nodes;                                                                                                    // 7326
    }                                                                                                                  // 7327
    treemap.size = function(x) {                                                                                       // 7328
      if (!arguments.length) return size;                                                                              // 7329
      size = x;                                                                                                        // 7330
      return treemap;                                                                                                  // 7331
    };                                                                                                                 // 7332
    treemap.padding = function(x) {                                                                                    // 7333
      if (!arguments.length) return padding;                                                                           // 7334
      function padFunction(node) {                                                                                     // 7335
        var p = x.call(treemap, node, node.depth);                                                                     // 7336
        return p == null ? d3_layout_treemapPadNull(node) : d3_layout_treemapPad(node, typeof p === "number" ? [ p, p, p, p ] : p);
      }                                                                                                                // 7338
      function padConstant(node) {                                                                                     // 7339
        return d3_layout_treemapPad(node, x);                                                                          // 7340
      }                                                                                                                // 7341
      var type;                                                                                                        // 7342
      pad = (padding = x) == null ? d3_layout_treemapPadNull : (type = typeof x) === "function" ? padFunction : type === "number" ? (x = [ x, x, x, x ], 
      padConstant) : padConstant;                                                                                      // 7344
      return treemap;                                                                                                  // 7345
    };                                                                                                                 // 7346
    treemap.round = function(x) {                                                                                      // 7347
      if (!arguments.length) return round != Number;                                                                   // 7348
      round = x ? Math.round : Number;                                                                                 // 7349
      return treemap;                                                                                                  // 7350
    };                                                                                                                 // 7351
    treemap.sticky = function(x) {                                                                                     // 7352
      if (!arguments.length) return sticky;                                                                            // 7353
      sticky = x;                                                                                                      // 7354
      stickies = null;                                                                                                 // 7355
      return treemap;                                                                                                  // 7356
    };                                                                                                                 // 7357
    treemap.ratio = function(x) {                                                                                      // 7358
      if (!arguments.length) return ratio;                                                                             // 7359
      ratio = x;                                                                                                       // 7360
      return treemap;                                                                                                  // 7361
    };                                                                                                                 // 7362
    treemap.mode = function(x) {                                                                                       // 7363
      if (!arguments.length) return mode;                                                                              // 7364
      mode = x + "";                                                                                                   // 7365
      return treemap;                                                                                                  // 7366
    };                                                                                                                 // 7367
    return d3_layout_hierarchyRebind(treemap, hierarchy);                                                              // 7368
  };                                                                                                                   // 7369
  function d3_layout_treemapPadNull(node) {                                                                            // 7370
    return {                                                                                                           // 7371
      x: node.x,                                                                                                       // 7372
      y: node.y,                                                                                                       // 7373
      dx: node.dx,                                                                                                     // 7374
      dy: node.dy                                                                                                      // 7375
    };                                                                                                                 // 7376
  }                                                                                                                    // 7377
  function d3_layout_treemapPad(node, padding) {                                                                       // 7378
    var x = node.x + padding[3], y = node.y + padding[0], dx = node.dx - padding[1] - padding[3], dy = node.dy - padding[0] - padding[2];
    if (dx < 0) {                                                                                                      // 7380
      x += dx / 2;                                                                                                     // 7381
      dx = 0;                                                                                                          // 7382
    }                                                                                                                  // 7383
    if (dy < 0) {                                                                                                      // 7384
      y += dy / 2;                                                                                                     // 7385
      dy = 0;                                                                                                          // 7386
    }                                                                                                                  // 7387
    return {                                                                                                           // 7388
      x: x,                                                                                                            // 7389
      y: y,                                                                                                            // 7390
      dx: dx,                                                                                                          // 7391
      dy: dy                                                                                                           // 7392
    };                                                                                                                 // 7393
  }                                                                                                                    // 7394
  d3.random = {                                                                                                        // 7395
    normal: function(, ) {                                                                                           // 7396
      var n = arguments.length;                                                                                        // 7397
      if (n < 2)  = 1;                                                                                                // 7398
      if (n < 1)  = 0;                                                                                                // 7399
      return function() {                                                                                              // 7400
        var x, y, r;                                                                                                   // 7401
        do {                                                                                                           // 7402
          x = Math.random() * 2 - 1;                                                                                   // 7403
          y = Math.random() * 2 - 1;                                                                                   // 7404
          r = x * x + y * y;                                                                                           // 7405
        } while (!r || r > 1);                                                                                         // 7406
        return  +  * x * Math.sqrt(-2 * Math.log(r) / r);                                                            // 7407
      };                                                                                                               // 7408
    },                                                                                                                 // 7409
    logNormal: function() {                                                                                            // 7410
      var random = d3.random.normal.apply(d3, arguments);                                                              // 7411
      return function() {                                                                                              // 7412
        return Math.exp(random());                                                                                     // 7413
      };                                                                                                               // 7414
    },                                                                                                                 // 7415
    bates: function(m) {                                                                                               // 7416
      var random = d3.random.irwinHall(m);                                                                             // 7417
      return function() {                                                                                              // 7418
        return random() / m;                                                                                           // 7419
      };                                                                                                               // 7420
    },                                                                                                                 // 7421
    irwinHall: function(m) {                                                                                           // 7422
      return function() {                                                                                              // 7423
        for (var s = 0, j = 0; j < m; j++) s += Math.random();                                                         // 7424
        return s;                                                                                                      // 7425
      };                                                                                                               // 7426
    }                                                                                                                  // 7427
  };                                                                                                                   // 7428
  d3.scale = {};                                                                                                       // 7429
  function d3_scaleExtent(domain) {                                                                                    // 7430
    var start = domain[0], stop = domain[domain.length - 1];                                                           // 7431
    return start < stop ? [ start, stop ] : [ stop, start ];                                                           // 7432
  }                                                                                                                    // 7433
  function d3_scaleRange(scale) {                                                                                      // 7434
    return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());                                    // 7435
  }                                                                                                                    // 7436
  function d3_scale_bilinear(domain, range, uninterpolate, interpolate) {                                              // 7437
    var u = uninterpolate(domain[0], domain[1]), i = interpolate(range[0], range[1]);                                  // 7438
    return function(x) {                                                                                               // 7439
      return i(u(x));                                                                                                  // 7440
    };                                                                                                                 // 7441
  }                                                                                                                    // 7442
  function d3_scale_nice(domain, nice) {                                                                               // 7443
    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], dx;                                          // 7444
    if (x1 < x0) {                                                                                                     // 7445
      dx = i0, i0 = i1, i1 = dx;                                                                                       // 7446
      dx = x0, x0 = x1, x1 = dx;                                                                                       // 7447
    }                                                                                                                  // 7448
    domain[i0] = nice.floor(x0);                                                                                       // 7449
    domain[i1] = nice.ceil(x1);                                                                                        // 7450
    return domain;                                                                                                     // 7451
  }                                                                                                                    // 7452
  function d3_scale_niceStep(step) {                                                                                   // 7453
    return step ? {                                                                                                    // 7454
      floor: function(x) {                                                                                             // 7455
        return Math.floor(x / step) * step;                                                                            // 7456
      },                                                                                                               // 7457
      ceil: function(x) {                                                                                              // 7458
        return Math.ceil(x / step) * step;                                                                             // 7459
      }                                                                                                                // 7460
    } : d3_scale_niceIdentity;                                                                                         // 7461
  }                                                                                                                    // 7462
  var d3_scale_niceIdentity = {                                                                                        // 7463
    floor: d3_identity,                                                                                                // 7464
    ceil: d3_identity                                                                                                  // 7465
  };                                                                                                                   // 7466
  function d3_scale_polylinear(domain, range, uninterpolate, interpolate) {                                            // 7467
    var u = [], i = [], j = 0, k = Math.min(domain.length, range.length) - 1;                                          // 7468
    if (domain[k] < domain[0]) {                                                                                       // 7469
      domain = domain.slice().reverse();                                                                               // 7470
      range = range.slice().reverse();                                                                                 // 7471
    }                                                                                                                  // 7472
    while (++j <= k) {                                                                                                 // 7473
      u.push(uninterpolate(domain[j - 1], domain[j]));                                                                 // 7474
      i.push(interpolate(range[j - 1], range[j]));                                                                     // 7475
    }                                                                                                                  // 7476
    return function(x) {                                                                                               // 7477
      var j = d3.bisect(domain, x, 1, k) - 1;                                                                          // 7478
      return i[j](u[j](x));                                                                                            // 7479
    };                                                                                                                 // 7480
  }                                                                                                                    // 7481
  d3.scale.linear = function() {                                                                                       // 7482
    return d3_scale_linear([ 0, 1 ], [ 0, 1 ], d3_interpolate, false);                                                 // 7483
  };                                                                                                                   // 7484
  function d3_scale_linear(domain, range, interpolate, clamp) {                                                        // 7485
    var output, input;                                                                                                 // 7486
    function rescale() {                                                                                               // 7487
      var linear = Math.min(domain.length, range.length) > 2 ? d3_scale_polylinear : d3_scale_bilinear, uninterpolate = clamp ? d3_uninterpolateClamp : d3_uninterpolateNumber;
      output = linear(domain, range, uninterpolate, interpolate);                                                      // 7489
      input = linear(range, domain, uninterpolate, d3_interpolate);                                                    // 7490
      return scale;                                                                                                    // 7491
    }                                                                                                                  // 7492
    function scale(x) {                                                                                                // 7493
      return output(x);                                                                                                // 7494
    }                                                                                                                  // 7495
    scale.invert = function(y) {                                                                                       // 7496
      return input(y);                                                                                                 // 7497
    };                                                                                                                 // 7498
    scale.domain = function(x) {                                                                                       // 7499
      if (!arguments.length) return domain;                                                                            // 7500
      domain = x.map(Number);                                                                                          // 7501
      return rescale();                                                                                                // 7502
    };                                                                                                                 // 7503
    scale.range = function(x) {                                                                                        // 7504
      if (!arguments.length) return range;                                                                             // 7505
      range = x;                                                                                                       // 7506
      return rescale();                                                                                                // 7507
    };                                                                                                                 // 7508
    scale.rangeRound = function(x) {                                                                                   // 7509
      return scale.range(x).interpolate(d3_interpolateRound);                                                          // 7510
    };                                                                                                                 // 7511
    scale.clamp = function(x) {                                                                                        // 7512
      if (!arguments.length) return clamp;                                                                             // 7513
      clamp = x;                                                                                                       // 7514
      return rescale();                                                                                                // 7515
    };                                                                                                                 // 7516
    scale.interpolate = function(x) {                                                                                  // 7517
      if (!arguments.length) return interpolate;                                                                       // 7518
      interpolate = x;                                                                                                 // 7519
      return rescale();                                                                                                // 7520
    };                                                                                                                 // 7521
    scale.ticks = function(m) {                                                                                        // 7522
      return d3_scale_linearTicks(domain, m);                                                                          // 7523
    };                                                                                                                 // 7524
    scale.tickFormat = function(m, format) {                                                                           // 7525
      return d3_scale_linearTickFormat(domain, m, format);                                                             // 7526
    };                                                                                                                 // 7527
    scale.nice = function(m) {                                                                                         // 7528
      d3_scale_linearNice(domain, m);                                                                                  // 7529
      return rescale();                                                                                                // 7530
    };                                                                                                                 // 7531
    scale.copy = function() {                                                                                          // 7532
      return d3_scale_linear(domain, range, interpolate, clamp);                                                       // 7533
    };                                                                                                                 // 7534
    return rescale();                                                                                                  // 7535
  }                                                                                                                    // 7536
  function d3_scale_linearRebind(scale, linear) {                                                                      // 7537
    return d3.rebind(scale, linear, "range", "rangeRound", "interpolate", "clamp");                                    // 7538
  }                                                                                                                    // 7539
  function d3_scale_linearNice(domain, m) {                                                                            // 7540
    return d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));                           // 7541
  }                                                                                                                    // 7542
  function d3_scale_linearTickRange(domain, m) {                                                                       // 7543
    if (m == null) m = 10;                                                                                             // 7544
    var extent = d3_scaleExtent(domain), span = extent[1] - extent[0], step = Math.pow(10, Math.floor(Math.log(span / m) / Math.LN10)), err = m / span * step;
    if (err <= .15) step *= 10; else if (err <= .35) step *= 5; else if (err <= .75) step *= 2;                        // 7546
    extent[0] = Math.ceil(extent[0] / step) * step;                                                                    // 7547
    extent[1] = Math.floor(extent[1] / step) * step + step * .5;                                                       // 7548
    extent[2] = step;                                                                                                  // 7549
    return extent;                                                                                                     // 7550
  }                                                                                                                    // 7551
  function d3_scale_linearTicks(domain, m) {                                                                           // 7552
    return d3.range.apply(d3, d3_scale_linearTickRange(domain, m));                                                    // 7553
  }                                                                                                                    // 7554
  function d3_scale_linearTickFormat(domain, m, format) {                                                              // 7555
    var range = d3_scale_linearTickRange(domain, m);                                                                   // 7556
    if (format) {                                                                                                      // 7557
      var match = d3_format_re.exec(format);                                                                           // 7558
      match.shift();                                                                                                   // 7559
      if (match[8] === "s") {                                                                                          // 7560
        var prefix = d3.formatPrefix(Math.max(abs(range[0]), abs(range[1])));                                          // 7561
        if (!match[7]) match[7] = "." + d3_scale_linearPrecision(prefix.scale(range[2]));                              // 7562
        match[8] = "f";                                                                                                // 7563
        format = d3.format(match.join(""));                                                                            // 7564
        return function(d) {                                                                                           // 7565
          return format(prefix.scale(d)) + prefix.symbol;                                                              // 7566
        };                                                                                                             // 7567
      }                                                                                                                // 7568
      if (!match[7]) match[7] = "." + d3_scale_linearFormatPrecision(match[8], range);                                 // 7569
      format = match.join("");                                                                                         // 7570
    } else {                                                                                                           // 7571
      format = ",." + d3_scale_linearPrecision(range[2]) + "f";                                                        // 7572
    }                                                                                                                  // 7573
    return d3.format(format);                                                                                          // 7574
  }                                                                                                                    // 7575
  var d3_scale_linearFormatSignificant = {                                                                             // 7576
    s: 1,                                                                                                              // 7577
    g: 1,                                                                                                              // 7578
    p: 1,                                                                                                              // 7579
    r: 1,                                                                                                              // 7580
    e: 1                                                                                                               // 7581
  };                                                                                                                   // 7582
  function d3_scale_linearPrecision(value) {                                                                           // 7583
    return -Math.floor(Math.log(value) / Math.LN10 + .01);                                                             // 7584
  }                                                                                                                    // 7585
  function d3_scale_linearFormatPrecision(type, range) {                                                               // 7586
    var p = d3_scale_linearPrecision(range[2]);                                                                        // 7587
    return type in d3_scale_linearFormatSignificant ? Math.abs(p - d3_scale_linearPrecision(Math.max(abs(range[0]), abs(range[1])))) + +(type !== "e") : p - (type === "%") * 2;
  }                                                                                                                    // 7589
  d3.scale.log = function() {                                                                                          // 7590
    return d3_scale_log(d3.scale.linear().domain([ 0, 1 ]), 10, true, [ 1, 10 ]);                                      // 7591
  };                                                                                                                   // 7592
  function d3_scale_log(linear, base, positive, domain) {                                                              // 7593
    function log(x) {                                                                                                  // 7594
      return (positive ? Math.log(x < 0 ? 0 : x) : -Math.log(x > 0 ? 0 : -x)) / Math.log(base);                        // 7595
    }                                                                                                                  // 7596
    function pow(x) {                                                                                                  // 7597
      return positive ? Math.pow(base, x) : -Math.pow(base, -x);                                                       // 7598
    }                                                                                                                  // 7599
    function scale(x) {                                                                                                // 7600
      return linear(log(x));                                                                                           // 7601
    }                                                                                                                  // 7602
    scale.invert = function(x) {                                                                                       // 7603
      return pow(linear.invert(x));                                                                                    // 7604
    };                                                                                                                 // 7605
    scale.domain = function(x) {                                                                                       // 7606
      if (!arguments.length) return domain;                                                                            // 7607
      positive = x[0] >= 0;                                                                                            // 7608
      linear.domain((domain = x.map(Number)).map(log));                                                                // 7609
      return scale;                                                                                                    // 7610
    };                                                                                                                 // 7611
    scale.base = function(_) {                                                                                         // 7612
      if (!arguments.length) return base;                                                                              // 7613
      base = +_;                                                                                                       // 7614
      linear.domain(domain.map(log));                                                                                  // 7615
      return scale;                                                                                                    // 7616
    };                                                                                                                 // 7617
    scale.nice = function() {                                                                                          // 7618
      var niced = d3_scale_nice(domain.map(log), positive ? Math : d3_scale_logNiceNegative);                          // 7619
      linear.domain(niced);                                                                                            // 7620
      domain = niced.map(pow);                                                                                         // 7621
      return scale;                                                                                                    // 7622
    };                                                                                                                 // 7623
    scale.ticks = function() {                                                                                         // 7624
      var extent = d3_scaleExtent(domain), ticks = [], u = extent[0], v = extent[1], i = Math.floor(log(u)), j = Math.ceil(log(v)), n = base % 1 ? 2 : base;
      if (isFinite(j - i)) {                                                                                           // 7626
        if (positive) {                                                                                                // 7627
          for (;i < j; i++) for (var k = 1; k < n; k++) ticks.push(pow(i) * k);                                        // 7628
          ticks.push(pow(i));                                                                                          // 7629
        } else {                                                                                                       // 7630
          ticks.push(pow(i));                                                                                          // 7631
          for (;i++ < j; ) for (var k = n - 1; k > 0; k--) ticks.push(pow(i) * k);                                     // 7632
        }                                                                                                              // 7633
        for (i = 0; ticks[i] < u; i++) {}                                                                              // 7634
        for (j = ticks.length; ticks[j - 1] > v; j--) {}                                                               // 7635
        ticks = ticks.slice(i, j);                                                                                     // 7636
      }                                                                                                                // 7637
      return ticks;                                                                                                    // 7638
    };                                                                                                                 // 7639
    scale.tickFormat = function(n, format) {                                                                           // 7640
      if (!arguments.length) return d3_scale_logFormat;                                                                // 7641
      if (arguments.length < 2) format = d3_scale_logFormat; else if (typeof format !== "function") format = d3.format(format);
      var k = Math.max(.1, n / scale.ticks().length), f = positive ? (e = 1e-12, Math.ceil) : (e = -1e-12,             // 7643
      Math.floor), e;                                                                                                  // 7644
      return function(d) {                                                                                             // 7645
        return d / pow(f(log(d) + e)) <= k ? format(d) : "";                                                           // 7646
      };                                                                                                               // 7647
    };                                                                                                                 // 7648
    scale.copy = function() {                                                                                          // 7649
      return d3_scale_log(linear.copy(), base, positive, domain);                                                      // 7650
    };                                                                                                                 // 7651
    return d3_scale_linearRebind(scale, linear);                                                                       // 7652
  }                                                                                                                    // 7653
  var d3_scale_logFormat = d3.format(".0e"), d3_scale_logNiceNegative = {                                              // 7654
    floor: function(x) {                                                                                               // 7655
      return -Math.ceil(-x);                                                                                           // 7656
    },                                                                                                                 // 7657
    ceil: function(x) {                                                                                                // 7658
      return -Math.floor(-x);                                                                                          // 7659
    }                                                                                                                  // 7660
  };                                                                                                                   // 7661
  d3.scale.pow = function() {                                                                                          // 7662
    return d3_scale_pow(d3.scale.linear(), 1, [ 0, 1 ]);                                                               // 7663
  };                                                                                                                   // 7664
  function d3_scale_pow(linear, exponent, domain) {                                                                    // 7665
    var powp = d3_scale_powPow(exponent), powb = d3_scale_powPow(1 / exponent);                                        // 7666
    function scale(x) {                                                                                                // 7667
      return linear(powp(x));                                                                                          // 7668
    }                                                                                                                  // 7669
    scale.invert = function(x) {                                                                                       // 7670
      return powb(linear.invert(x));                                                                                   // 7671
    };                                                                                                                 // 7672
    scale.domain = function(x) {                                                                                       // 7673
      if (!arguments.length) return domain;                                                                            // 7674
      linear.domain((domain = x.map(Number)).map(powp));                                                               // 7675
      return scale;                                                                                                    // 7676
    };                                                                                                                 // 7677
    scale.ticks = function(m) {                                                                                        // 7678
      return d3_scale_linearTicks(domain, m);                                                                          // 7679
    };                                                                                                                 // 7680
    scale.tickFormat = function(m, format) {                                                                           // 7681
      return d3_scale_linearTickFormat(domain, m, format);                                                             // 7682
    };                                                                                                                 // 7683
    scale.nice = function(m) {                                                                                         // 7684
      return scale.domain(d3_scale_linearNice(domain, m));                                                             // 7685
    };                                                                                                                 // 7686
    scale.exponent = function(x) {                                                                                     // 7687
      if (!arguments.length) return exponent;                                                                          // 7688
      powp = d3_scale_powPow(exponent = x);                                                                            // 7689
      powb = d3_scale_powPow(1 / exponent);                                                                            // 7690
      linear.domain(domain.map(powp));                                                                                 // 7691
      return scale;                                                                                                    // 7692
    };                                                                                                                 // 7693
    scale.copy = function() {                                                                                          // 7694
      return d3_scale_pow(linear.copy(), exponent, domain);                                                            // 7695
    };                                                                                                                 // 7696
    return d3_scale_linearRebind(scale, linear);                                                                       // 7697
  }                                                                                                                    // 7698
  function d3_scale_powPow(e) {                                                                                        // 7699
    return function(x) {                                                                                               // 7700
      return x < 0 ? -Math.pow(-x, e) : Math.pow(x, e);                                                                // 7701
    };                                                                                                                 // 7702
  }                                                                                                                    // 7703
  d3.scale.sqrt = function() {                                                                                         // 7704
    return d3.scale.pow().exponent(.5);                                                                                // 7705
  };                                                                                                                   // 7706
  d3.scale.ordinal = function() {                                                                                      // 7707
    return d3_scale_ordinal([], {                                                                                      // 7708
      t: "range",                                                                                                      // 7709
      a: [ [] ]                                                                                                        // 7710
    });                                                                                                                // 7711
  };                                                                                                                   // 7712
  function d3_scale_ordinal(domain, ranger) {                                                                          // 7713
    var index, range, rangeBand;                                                                                       // 7714
    function scale(x) {                                                                                                // 7715
      return range[((index.get(x) || (ranger.t === "range" ? index.set(x, domain.push(x)) : NaN)) - 1) % range.length];
    }                                                                                                                  // 7717
    function steps(start, step) {                                                                                      // 7718
      return d3.range(domain.length).map(function(i) {                                                                 // 7719
        return start + step * i;                                                                                       // 7720
      });                                                                                                              // 7721
    }                                                                                                                  // 7722
    scale.domain = function(x) {                                                                                       // 7723
      if (!arguments.length) return domain;                                                                            // 7724
      domain = [];                                                                                                     // 7725
      index = new d3_Map();                                                                                            // 7726
      var i = -1, n = x.length, xi;                                                                                    // 7727
      while (++i < n) if (!index.has(xi = x[i])) index.set(xi, domain.push(xi));                                       // 7728
      return scale[ranger.t].apply(scale, ranger.a);                                                                   // 7729
    };                                                                                                                 // 7730
    scale.range = function(x) {                                                                                        // 7731
      if (!arguments.length) return range;                                                                             // 7732
      range = x;                                                                                                       // 7733
      rangeBand = 0;                                                                                                   // 7734
      ranger = {                                                                                                       // 7735
        t: "range",                                                                                                    // 7736
        a: arguments                                                                                                   // 7737
      };                                                                                                               // 7738
      return scale;                                                                                                    // 7739
    };                                                                                                                 // 7740
    scale.rangePoints = function(x, padding) {                                                                         // 7741
      if (arguments.length < 2) padding = 0;                                                                           // 7742
      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = (start + stop) / 2,                           // 7743
      0) : (stop - start) / (domain.length - 1 + padding);                                                             // 7744
      range = steps(start + step * padding / 2, step);                                                                 // 7745
      rangeBand = 0;                                                                                                   // 7746
      ranger = {                                                                                                       // 7747
        t: "rangePoints",                                                                                              // 7748
        a: arguments                                                                                                   // 7749
      };                                                                                                               // 7750
      return scale;                                                                                                    // 7751
    };                                                                                                                 // 7752
    scale.rangeRoundPoints = function(x, padding) {                                                                    // 7753
      if (arguments.length < 2) padding = 0;                                                                           // 7754
      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = stop = Math.round((start + stop) / 2),        // 7755
      0) : (stop - start) / (domain.length - 1 + padding) | 0;                                                         // 7756
      range = steps(start + Math.round(step * padding / 2 + (stop - start - (domain.length - 1 + padding) * step) / 2), step);
      rangeBand = 0;                                                                                                   // 7758
      ranger = {                                                                                                       // 7759
        t: "rangeRoundPoints",                                                                                         // 7760
        a: arguments                                                                                                   // 7761
      };                                                                                                               // 7762
      return scale;                                                                                                    // 7763
    };                                                                                                                 // 7764
    scale.rangeBands = function(x, padding, outerPadding) {                                                            // 7765
      if (arguments.length < 2) padding = 0;                                                                           // 7766
      if (arguments.length < 3) outerPadding = padding;                                                                // 7767
      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = (stop - start) / (domain.length - padding + 2 * outerPadding);
      range = steps(start + step * outerPadding, step);                                                                // 7769
      if (reverse) range.reverse();                                                                                    // 7770
      rangeBand = step * (1 - padding);                                                                                // 7771
      ranger = {                                                                                                       // 7772
        t: "rangeBands",                                                                                               // 7773
        a: arguments                                                                                                   // 7774
      };                                                                                                               // 7775
      return scale;                                                                                                    // 7776
    };                                                                                                                 // 7777
    scale.rangeRoundBands = function(x, padding, outerPadding) {                                                       // 7778
      if (arguments.length < 2) padding = 0;                                                                           // 7779
      if (arguments.length < 3) outerPadding = padding;                                                                // 7780
      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding));
      range = steps(start + Math.round((stop - start - (domain.length - padding) * step) / 2), step);                  // 7782
      if (reverse) range.reverse();                                                                                    // 7783
      rangeBand = Math.round(step * (1 - padding));                                                                    // 7784
      ranger = {                                                                                                       // 7785
        t: "rangeRoundBands",                                                                                          // 7786
        a: arguments                                                                                                   // 7787
      };                                                                                                               // 7788
      return scale;                                                                                                    // 7789
    };                                                                                                                 // 7790
    scale.rangeBand = function() {                                                                                     // 7791
      return rangeBand;                                                                                                // 7792
    };                                                                                                                 // 7793
    scale.rangeExtent = function() {                                                                                   // 7794
      return d3_scaleExtent(ranger.a[0]);                                                                              // 7795
    };                                                                                                                 // 7796
    scale.copy = function() {                                                                                          // 7797
      return d3_scale_ordinal(domain, ranger);                                                                         // 7798
    };                                                                                                                 // 7799
    return scale.domain(domain);                                                                                       // 7800
  }                                                                                                                    // 7801
  d3.scale.category10 = function() {                                                                                   // 7802
    return d3.scale.ordinal().range(d3_category10);                                                                    // 7803
  };                                                                                                                   // 7804
  d3.scale.category20 = function() {                                                                                   // 7805
    return d3.scale.ordinal().range(d3_category20);                                                                    // 7806
  };                                                                                                                   // 7807
  d3.scale.category20b = function() {                                                                                  // 7808
    return d3.scale.ordinal().range(d3_category20b);                                                                   // 7809
  };                                                                                                                   // 7810
  d3.scale.category20c = function() {                                                                                  // 7811
    return d3.scale.ordinal().range(d3_category20c);                                                                   // 7812
  };                                                                                                                   // 7813
  var d3_category10 = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(d3_rgbString);
  var d3_category20 = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(d3_rgbString);
  var d3_category20b = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(d3_rgbString);
  var d3_category20c = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(d3_rgbString);
  d3.scale.quantile = function() {                                                                                     // 7818
    return d3_scale_quantile([], []);                                                                                  // 7819
  };                                                                                                                   // 7820
  function d3_scale_quantile(domain, range) {                                                                          // 7821
    var thresholds;                                                                                                    // 7822
    function rescale() {                                                                                               // 7823
      var k = 0, q = range.length;                                                                                     // 7824
      thresholds = [];                                                                                                 // 7825
      while (++k < q) thresholds[k - 1] = d3.quantile(domain, k / q);                                                  // 7826
      return scale;                                                                                                    // 7827
    }                                                                                                                  // 7828
    function scale(x) {                                                                                                // 7829
      if (!isNaN(x = +x)) return range[d3.bisect(thresholds, x)];                                                      // 7830
    }                                                                                                                  // 7831
    scale.domain = function(x) {                                                                                       // 7832
      if (!arguments.length) return domain;                                                                            // 7833
      domain = x.map(d3_number).filter(d3_numeric).sort(d3_ascending);                                                 // 7834
      return rescale();                                                                                                // 7835
    };                                                                                                                 // 7836
    scale.range = function(x) {                                                                                        // 7837
      if (!arguments.length) return range;                                                                             // 7838
      range = x;                                                                                                       // 7839
      return rescale();                                                                                                // 7840
    };                                                                                                                 // 7841
    scale.quantiles = function() {                                                                                     // 7842
      return thresholds;                                                                                               // 7843
    };                                                                                                                 // 7844
    scale.invertExtent = function(y) {                                                                                 // 7845
      y = range.indexOf(y);                                                                                            // 7846
      return y < 0 ? [ NaN, NaN ] : [ y > 0 ? thresholds[y - 1] : domain[0], y < thresholds.length ? thresholds[y] : domain[domain.length - 1] ];
    };                                                                                                                 // 7848
    scale.copy = function() {                                                                                          // 7849
      return d3_scale_quantile(domain, range);                                                                         // 7850
    };                                                                                                                 // 7851
    return rescale();                                                                                                  // 7852
  }                                                                                                                    // 7853
  d3.scale.quantize = function() {                                                                                     // 7854
    return d3_scale_quantize(0, 1, [ 0, 1 ]);                                                                          // 7855
  };                                                                                                                   // 7856
  function d3_scale_quantize(x0, x1, range) {                                                                          // 7857
    var kx, i;                                                                                                         // 7858
    function scale(x) {                                                                                                // 7859
      return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];                                               // 7860
    }                                                                                                                  // 7861
    function rescale() {                                                                                               // 7862
      kx = range.length / (x1 - x0);                                                                                   // 7863
      i = range.length - 1;                                                                                            // 7864
      return scale;                                                                                                    // 7865
    }                                                                                                                  // 7866
    scale.domain = function(x) {                                                                                       // 7867
      if (!arguments.length) return [ x0, x1 ];                                                                        // 7868
      x0 = +x[0];                                                                                                      // 7869
      x1 = +x[x.length - 1];                                                                                           // 7870
      return rescale();                                                                                                // 7871
    };                                                                                                                 // 7872
    scale.range = function(x) {                                                                                        // 7873
      if (!arguments.length) return range;                                                                             // 7874
      range = x;                                                                                                       // 7875
      return rescale();                                                                                                // 7876
    };                                                                                                                 // 7877
    scale.invertExtent = function(y) {                                                                                 // 7878
      y = range.indexOf(y);                                                                                            // 7879
      y = y < 0 ? NaN : y / kx + x0;                                                                                   // 7880
      return [ y, y + 1 / kx ];                                                                                        // 7881
    };                                                                                                                 // 7882
    scale.copy = function() {                                                                                          // 7883
      return d3_scale_quantize(x0, x1, range);                                                                         // 7884
    };                                                                                                                 // 7885
    return rescale();                                                                                                  // 7886
  }                                                                                                                    // 7887
  d3.scale.threshold = function() {                                                                                    // 7888
    return d3_scale_threshold([ .5 ], [ 0, 1 ]);                                                                       // 7889
  };                                                                                                                   // 7890
  function d3_scale_threshold(domain, range) {                                                                         // 7891
    function scale(x) {                                                                                                // 7892
      if (x <= x) return range[d3.bisect(domain, x)];                                                                  // 7893
    }                                                                                                                  // 7894
    scale.domain = function(_) {                                                                                       // 7895
      if (!arguments.length) return domain;                                                                            // 7896
      domain = _;                                                                                                      // 7897
      return scale;                                                                                                    // 7898
    };                                                                                                                 // 7899
    scale.range = function(_) {                                                                                        // 7900
      if (!arguments.length) return range;                                                                             // 7901
      range = _;                                                                                                       // 7902
      return scale;                                                                                                    // 7903
    };                                                                                                                 // 7904
    scale.invertExtent = function(y) {                                                                                 // 7905
      y = range.indexOf(y);                                                                                            // 7906
      return [ domain[y - 1], domain[y] ];                                                                             // 7907
    };                                                                                                                 // 7908
    scale.copy = function() {                                                                                          // 7909
      return d3_scale_threshold(domain, range);                                                                        // 7910
    };                                                                                                                 // 7911
    return scale;                                                                                                      // 7912
  }                                                                                                                    // 7913
  d3.scale.identity = function() {                                                                                     // 7914
    return d3_scale_identity([ 0, 1 ]);                                                                                // 7915
  };                                                                                                                   // 7916
  function d3_scale_identity(domain) {                                                                                 // 7917
    function identity(x) {                                                                                             // 7918
      return +x;                                                                                                       // 7919
    }                                                                                                                  // 7920
    identity.invert = identity;                                                                                        // 7921
    identity.domain = identity.range = function(x) {                                                                   // 7922
      if (!arguments.length) return domain;                                                                            // 7923
      domain = x.map(identity);                                                                                        // 7924
      return identity;                                                                                                 // 7925
    };                                                                                                                 // 7926
    identity.ticks = function(m) {                                                                                     // 7927
      return d3_scale_linearTicks(domain, m);                                                                          // 7928
    };                                                                                                                 // 7929
    identity.tickFormat = function(m, format) {                                                                        // 7930
      return d3_scale_linearTickFormat(domain, m, format);                                                             // 7931
    };                                                                                                                 // 7932
    identity.copy = function() {                                                                                       // 7933
      return d3_scale_identity(domain);                                                                                // 7934
    };                                                                                                                 // 7935
    return identity;                                                                                                   // 7936
  }                                                                                                                    // 7937
  d3.svg = {};                                                                                                         // 7938
  function d3_zero() {                                                                                                 // 7939
    return 0;                                                                                                          // 7940
  }                                                                                                                    // 7941
  d3.svg.arc = function() {                                                                                            // 7942
    var innerRadius = d3_svg_arcInnerRadius, outerRadius = d3_svg_arcOuterRadius, cornerRadius = d3_zero, padRadius = d3_svg_arcAuto, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle, padAngle = d3_svg_arcPadAngle;
    function arc() {                                                                                                   // 7944
      var r0 = Math.max(0, +innerRadius.apply(this, arguments)), r1 = Math.max(0, +outerRadius.apply(this, arguments)), a0 = startAngle.apply(this, arguments) - half, a1 = endAngle.apply(this, arguments) - half, da = Math.abs(a1 - a0), cw = a0 > a1 ? 0 : 1;
      if (r1 < r0) rc = r1, r1 = r0, r0 = rc;                                                                          // 7946
      if (da >= ) return circleSegment(r1, cw) + (r0 ? circleSegment(r0, 1 - cw) : "") + "Z";                        // 7947
      var rc, cr, rp, ap, p0 = 0, p1 = 0, x0, y0, x1, y1, x2, y2, x3, y3, path = [];                                   // 7948
      if (ap = (+padAngle.apply(this, arguments) || 0) / 2) {                                                          // 7949
        rp = padRadius === d3_svg_arcAuto ? Math.sqrt(r0 * r0 + r1 * r1) : +padRadius.apply(this, arguments);          // 7950
        if (!cw) p1 *= -1;                                                                                             // 7951
        if (r1) p1 = d3_asin(rp / r1 * Math.sin(ap));                                                                  // 7952
        if (r0) p0 = d3_asin(rp / r0 * Math.sin(ap));                                                                  // 7953
      }                                                                                                                // 7954
      if (r1) {                                                                                                        // 7955
        x0 = r1 * Math.cos(a0 + p1);                                                                                   // 7956
        y0 = r1 * Math.sin(a0 + p1);                                                                                   // 7957
        x1 = r1 * Math.cos(a1 - p1);                                                                                   // 7958
        y1 = r1 * Math.sin(a1 - p1);                                                                                   // 7959
        var l1 = Math.abs(a1 - a0 - 2 * p1) <=  ? 0 : 1;                                                              // 7960
        if (p1 && d3_svg_arcSweep(x0, y0, x1, y1) === cw ^ l1) {                                                       // 7961
          var h1 = (a0 + a1) / 2;                                                                                      // 7962
          x0 = r1 * Math.cos(h1);                                                                                      // 7963
          y0 = r1 * Math.sin(h1);                                                                                      // 7964
          x1 = y1 = null;                                                                                              // 7965
        }                                                                                                              // 7966
      } else {                                                                                                         // 7967
        x0 = y0 = 0;                                                                                                   // 7968
      }                                                                                                                // 7969
      if (r0) {                                                                                                        // 7970
        x2 = r0 * Math.cos(a1 - p0);                                                                                   // 7971
        y2 = r0 * Math.sin(a1 - p0);                                                                                   // 7972
        x3 = r0 * Math.cos(a0 + p0);                                                                                   // 7973
        y3 = r0 * Math.sin(a0 + p0);                                                                                   // 7974
        var l0 = Math.abs(a0 - a1 + 2 * p0) <=  ? 0 : 1;                                                              // 7975
        if (p0 && d3_svg_arcSweep(x2, y2, x3, y3) === 1 - cw ^ l0) {                                                   // 7976
          var h0 = (a0 + a1) / 2;                                                                                      // 7977
          x2 = r0 * Math.cos(h0);                                                                                      // 7978
          y2 = r0 * Math.sin(h0);                                                                                      // 7979
          x3 = y3 = null;                                                                                              // 7980
        }                                                                                                              // 7981
      } else {                                                                                                         // 7982
        x2 = y2 = 0;                                                                                                   // 7983
      }                                                                                                                // 7984
      if ((rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments))) > .001) {                       // 7985
        cr = r0 < r1 ^ cw ? 0 : 1;                                                                                     // 7986
        var oc = x3 == null ? [ x2, y2 ] : x1 == null ? [ x0, y0 ] : d3_geom_polygonIntersect([ x0, y0 ], [ x3, y3 ], [ x1, y1 ], [ x2, y2 ]), ax = x0 - oc[0], ay = y0 - oc[1], bx = x1 - oc[0], by = y1 - oc[1], kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2), lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);
        if (x1 != null) {                                                                                              // 7988
          var rc1 = Math.min(rc, (r1 - lc) / (kc + 1)), t30 = d3_svg_arcCornerTangents(x3 == null ? [ x2, y2 ] : [ x3, y3 ], [ x0, y0 ], r1, rc1, cw), t12 = d3_svg_arcCornerTangents([ x1, y1 ], [ x2, y2 ], r1, rc1, cw);
          if (rc === rc1) {                                                                                            // 7990
            path.push("M", t30[0], "A", rc1, ",", rc1, " 0 0,", cr, " ", t30[1], "A", r1, ",", r1, " 0 ", 1 - cw ^ d3_svg_arcSweep(t30[1][0], t30[1][1], t12[1][0], t12[1][1]), ",", cw, " ", t12[1], "A", rc1, ",", rc1, " 0 0,", cr, " ", t12[0]);
          } else {                                                                                                     // 7992
            path.push("M", t30[0], "A", rc1, ",", rc1, " 0 1,", cr, " ", t12[0]);                                      // 7993
          }                                                                                                            // 7994
        } else {                                                                                                       // 7995
          path.push("M", x0, ",", y0);                                                                                 // 7996
        }                                                                                                              // 7997
        if (x3 != null) {                                                                                              // 7998
          var rc0 = Math.min(rc, (r0 - lc) / (kc - 1)), t03 = d3_svg_arcCornerTangents([ x0, y0 ], [ x3, y3 ], r0, -rc0, cw), t21 = d3_svg_arcCornerTangents([ x2, y2 ], x1 == null ? [ x0, y0 ] : [ x1, y1 ], r0, -rc0, cw);
          if (rc === rc0) {                                                                                            // 8000
            path.push("L", t21[0], "A", rc0, ",", rc0, " 0 0,", cr, " ", t21[1], "A", r0, ",", r0, " 0 ", cw ^ d3_svg_arcSweep(t21[1][0], t21[1][1], t03[1][0], t03[1][1]), ",", 1 - cw, " ", t03[1], "A", rc0, ",", rc0, " 0 0,", cr, " ", t03[0]);
          } else {                                                                                                     // 8002
            path.push("L", t21[0], "A", rc0, ",", rc0, " 0 0,", cr, " ", t03[0]);                                      // 8003
          }                                                                                                            // 8004
        } else {                                                                                                       // 8005
          path.push("L", x2, ",", y2);                                                                                 // 8006
        }                                                                                                              // 8007
      } else {                                                                                                         // 8008
        path.push("M", x0, ",", y0);                                                                                   // 8009
        if (x1 != null) path.push("A", r1, ",", r1, " 0 ", l1, ",", cw, " ", x1, ",", y1);                             // 8010
        path.push("L", x2, ",", y2);                                                                                   // 8011
        if (x3 != null) path.push("A", r0, ",", r0, " 0 ", l0, ",", 1 - cw, " ", x3, ",", y3);                         // 8012
      }                                                                                                                // 8013
      path.push("Z");                                                                                                  // 8014
      return path.join("");                                                                                            // 8015
    }                                                                                                                  // 8016
    function circleSegment(r1, cw) {                                                                                   // 8017
      return "M0," + r1 + "A" + r1 + "," + r1 + " 0 1," + cw + " 0," + -r1 + "A" + r1 + "," + r1 + " 0 1," + cw + " 0," + r1;
    }                                                                                                                  // 8019
    arc.innerRadius = function(v) {                                                                                    // 8020
      if (!arguments.length) return innerRadius;                                                                       // 8021
      innerRadius = d3_functor(v);                                                                                     // 8022
      return arc;                                                                                                      // 8023
    };                                                                                                                 // 8024
    arc.outerRadius = function(v) {                                                                                    // 8025
      if (!arguments.length) return outerRadius;                                                                       // 8026
      outerRadius = d3_functor(v);                                                                                     // 8027
      return arc;                                                                                                      // 8028
    };                                                                                                                 // 8029
    arc.cornerRadius = function(v) {                                                                                   // 8030
      if (!arguments.length) return cornerRadius;                                                                      // 8031
      cornerRadius = d3_functor(v);                                                                                    // 8032
      return arc;                                                                                                      // 8033
    };                                                                                                                 // 8034
    arc.padRadius = function(v) {                                                                                      // 8035
      if (!arguments.length) return padRadius;                                                                         // 8036
      padRadius = v == d3_svg_arcAuto ? d3_svg_arcAuto : d3_functor(v);                                                // 8037
      return arc;                                                                                                      // 8038
    };                                                                                                                 // 8039
    arc.startAngle = function(v) {                                                                                     // 8040
      if (!arguments.length) return startAngle;                                                                        // 8041
      startAngle = d3_functor(v);                                                                                      // 8042
      return arc;                                                                                                      // 8043
    };                                                                                                                 // 8044
    arc.endAngle = function(v) {                                                                                       // 8045
      if (!arguments.length) return endAngle;                                                                          // 8046
      endAngle = d3_functor(v);                                                                                        // 8047
      return arc;                                                                                                      // 8048
    };                                                                                                                 // 8049
    arc.padAngle = function(v) {                                                                                       // 8050
      if (!arguments.length) return padAngle;                                                                          // 8051
      padAngle = d3_functor(v);                                                                                        // 8052
      return arc;                                                                                                      // 8053
    };                                                                                                                 // 8054
    arc.centroid = function() {                                                                                        // 8055
      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - half;
      return [ Math.cos(a) * r, Math.sin(a) * r ];                                                                     // 8057
    };                                                                                                                 // 8058
    return arc;                                                                                                        // 8059
  };                                                                                                                   // 8060
  var d3_svg_arcAuto = "auto";                                                                                         // 8061
  function d3_svg_arcInnerRadius(d) {                                                                                  // 8062
    return d.innerRadius;                                                                                              // 8063
  }                                                                                                                    // 8064
  function d3_svg_arcOuterRadius(d) {                                                                                  // 8065
    return d.outerRadius;                                                                                              // 8066
  }                                                                                                                    // 8067
  function d3_svg_arcStartAngle(d) {                                                                                   // 8068
    return d.startAngle;                                                                                               // 8069
  }                                                                                                                    // 8070
  function d3_svg_arcEndAngle(d) {                                                                                     // 8071
    return d.endAngle;                                                                                                 // 8072
  }                                                                                                                    // 8073
  function d3_svg_arcPadAngle(d) {                                                                                     // 8074
    return d && d.padAngle;                                                                                            // 8075
  }                                                                                                                    // 8076
  function d3_svg_arcSweep(x0, y0, x1, y1) {                                                                           // 8077
    return (x0 - x1) * y0 - (y0 - y1) * x0 > 0 ? 0 : 1;                                                                // 8078
  }                                                                                                                    // 8079
  function d3_svg_arcCornerTangents(p0, p1, r1, rc, cw) {                                                              // 8080
    var x01 = p0[0] - p1[0], y01 = p0[1] - p1[1], lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x1 = p0[0] + ox, y1 = p0[1] + oy, x2 = p1[0] + ox, y2 = p1[1] + oy, x3 = (x1 + x2) / 2, y3 = (y1 + y2) / 2, dx = x2 - x1, dy = y2 - y1, d2 = dx * dx + dy * dy, r = r1 - rc, D = x1 * y2 - x2 * y1, d = (dy < 0 ? -1 : 1) * Math.sqrt(r * r * d2 - D * D), cx0 = (D * dy - dx * d) / d2, cy0 = (-D * dx - dy * d) / d2, cx1 = (D * dy + dx * d) / d2, cy1 = (-D * dx + dy * d) / d2, dx0 = cx0 - x3, dy0 = cy0 - y3, dx1 = cx1 - x3, dy1 = cy1 - y3;
    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;                                           // 8082
    return [ [ cx0 - ox, cy0 - oy ], [ cx0 * r1 / r, cy0 * r1 / r ] ];                                                 // 8083
  }                                                                                                                    // 8084
  function d3_svg_line(projection) {                                                                                   // 8085
    var x = d3_geom_pointX, y = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, tension = .7;
    function line(data) {                                                                                              // 8087
      var segments = [], points = [], i = -1, n = data.length, d, fx = d3_functor(x), fy = d3_functor(y);              // 8088
      function segment() {                                                                                             // 8089
        segments.push("M", interpolate(projection(points), tension));                                                  // 8090
      }                                                                                                                // 8091
      while (++i < n) {                                                                                                // 8092
        if (defined.call(this, d = data[i], i)) {                                                                      // 8093
          points.push([ +fx.call(this, d, i), +fy.call(this, d, i) ]);                                                 // 8094
        } else if (points.length) {                                                                                    // 8095
          segment();                                                                                                   // 8096
          points = [];                                                                                                 // 8097
        }                                                                                                              // 8098
      }                                                                                                                // 8099
      if (points.length) segment();                                                                                    // 8100
      return segments.length ? segments.join("") : null;                                                               // 8101
    }                                                                                                                  // 8102
    line.x = function(_) {                                                                                             // 8103
      if (!arguments.length) return x;                                                                                 // 8104
      x = _;                                                                                                           // 8105
      return line;                                                                                                     // 8106
    };                                                                                                                 // 8107
    line.y = function(_) {                                                                                             // 8108
      if (!arguments.length) return y;                                                                                 // 8109
      y = _;                                                                                                           // 8110
      return line;                                                                                                     // 8111
    };                                                                                                                 // 8112
    line.defined = function(_) {                                                                                       // 8113
      if (!arguments.length) return defined;                                                                           // 8114
      defined = _;                                                                                                     // 8115
      return line;                                                                                                     // 8116
    };                                                                                                                 // 8117
    line.interpolate = function(_) {                                                                                   // 8118
      if (!arguments.length) return interpolateKey;                                                                    // 8119
      if (typeof _ === "function") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;
      return line;                                                                                                     // 8121
    };                                                                                                                 // 8122
    line.tension = function(_) {                                                                                       // 8123
      if (!arguments.length) return tension;                                                                           // 8124
      tension = _;                                                                                                     // 8125
      return line;                                                                                                     // 8126
    };                                                                                                                 // 8127
    return line;                                                                                                       // 8128
  }                                                                                                                    // 8129
  d3.svg.line = function() {                                                                                           // 8130
    return d3_svg_line(d3_identity);                                                                                   // 8131
  };                                                                                                                   // 8132
  var d3_svg_lineInterpolators = d3.map({                                                                              // 8133
    linear: d3_svg_lineLinear,                                                                                         // 8134
    "linear-closed": d3_svg_lineLinearClosed,                                                                          // 8135
    step: d3_svg_lineStep,                                                                                             // 8136
    "step-before": d3_svg_lineStepBefore,                                                                              // 8137
    "step-after": d3_svg_lineStepAfter,                                                                                // 8138
    basis: d3_svg_lineBasis,                                                                                           // 8139
    "basis-open": d3_svg_lineBasisOpen,                                                                                // 8140
    "basis-closed": d3_svg_lineBasisClosed,                                                                            // 8141
    bundle: d3_svg_lineBundle,                                                                                         // 8142
    cardinal: d3_svg_lineCardinal,                                                                                     // 8143
    "cardinal-open": d3_svg_lineCardinalOpen,                                                                          // 8144
    "cardinal-closed": d3_svg_lineCardinalClosed,                                                                      // 8145
    monotone: d3_svg_lineMonotone                                                                                      // 8146
  });                                                                                                                  // 8147
  d3_svg_lineInterpolators.forEach(function(key, value) {                                                              // 8148
    value.key = key;                                                                                                   // 8149
    value.closed = /-closed$/.test(key);                                                                               // 8150
  });                                                                                                                  // 8151
  function d3_svg_lineLinear(points) {                                                                                 // 8152
    return points.join("L");                                                                                           // 8153
  }                                                                                                                    // 8154
  function d3_svg_lineLinearClosed(points) {                                                                           // 8155
    return d3_svg_lineLinear(points) + "Z";                                                                            // 8156
  }                                                                                                                    // 8157
  function d3_svg_lineStep(points) {                                                                                   // 8158
    var i = 0, n = points.length, p = points[0], path = [ p[0], ",", p[1] ];                                           // 8159
    while (++i < n) path.push("H", (p[0] + (p = points[i])[0]) / 2, "V", p[1]);                                        // 8160
    if (n > 1) path.push("H", p[0]);                                                                                   // 8161
    return path.join("");                                                                                              // 8162
  }                                                                                                                    // 8163
  function d3_svg_lineStepBefore(points) {                                                                             // 8164
    var i = 0, n = points.length, p = points[0], path = [ p[0], ",", p[1] ];                                           // 8165
    while (++i < n) path.push("V", (p = points[i])[1], "H", p[0]);                                                     // 8166
    return path.join("");                                                                                              // 8167
  }                                                                                                                    // 8168
  function d3_svg_lineStepAfter(points) {                                                                              // 8169
    var i = 0, n = points.length, p = points[0], path = [ p[0], ",", p[1] ];                                           // 8170
    while (++i < n) path.push("H", (p = points[i])[0], "V", p[1]);                                                     // 8171
    return path.join("");                                                                                              // 8172
  }                                                                                                                    // 8173
  function d3_svg_lineCardinalOpen(points, tension) {                                                                  // 8174
    return points.length < 4 ? d3_svg_lineLinear(points) : points[1] + d3_svg_lineHermite(points.slice(1, -1), d3_svg_lineCardinalTangents(points, tension));
  }                                                                                                                    // 8176
  function d3_svg_lineCardinalClosed(points, tension) {                                                                // 8177
    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite((points.push(points[0]),     // 8178
    points), d3_svg_lineCardinalTangents([ points[points.length - 2] ].concat(points, [ points[1] ]), tension));       // 8179
  }                                                                                                                    // 8180
  function d3_svg_lineCardinal(points, tension) {                                                                      // 8181
    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineCardinalTangents(points, tension));
  }                                                                                                                    // 8183
  function d3_svg_lineHermite(points, tangents) {                                                                      // 8184
    if (tangents.length < 1 || points.length != tangents.length && points.length != tangents.length + 2) {             // 8185
      return d3_svg_lineLinear(points);                                                                                // 8186
    }                                                                                                                  // 8187
    var quad = points.length != tangents.length, path = "", p0 = points[0], p = points[1], t0 = tangents[0], t = t0, pi = 1;
    if (quad) {                                                                                                        // 8189
      path += "Q" + (p[0] - t0[0] * 2 / 3) + "," + (p[1] - t0[1] * 2 / 3) + "," + p[0] + "," + p[1];                   // 8190
      p0 = points[1];                                                                                                  // 8191
      pi = 2;                                                                                                          // 8192
    }                                                                                                                  // 8193
    if (tangents.length > 1) {                                                                                         // 8194
      t = tangents[1];                                                                                                 // 8195
      p = points[pi];                                                                                                  // 8196
      pi++;                                                                                                            // 8197
      path += "C" + (p0[0] + t0[0]) + "," + (p0[1] + t0[1]) + "," + (p[0] - t[0]) + "," + (p[1] - t[1]) + "," + p[0] + "," + p[1];
      for (var i = 2; i < tangents.length; i++, pi++) {                                                                // 8199
        p = points[pi];                                                                                                // 8200
        t = tangents[i];                                                                                               // 8201
        path += "S" + (p[0] - t[0]) + "," + (p[1] - t[1]) + "," + p[0] + "," + p[1];                                   // 8202
      }                                                                                                                // 8203
    }                                                                                                                  // 8204
    if (quad) {                                                                                                        // 8205
      var lp = points[pi];                                                                                             // 8206
      path += "Q" + (p[0] + t[0] * 2 / 3) + "," + (p[1] + t[1] * 2 / 3) + "," + lp[0] + "," + lp[1];                   // 8207
    }                                                                                                                  // 8208
    return path;                                                                                                       // 8209
  }                                                                                                                    // 8210
  function d3_svg_lineCardinalTangents(points, tension) {                                                              // 8211
    var tangents = [], a = (1 - tension) / 2, p0, p1 = points[0], p2 = points[1], i = 1, n = points.length;            // 8212
    while (++i < n) {                                                                                                  // 8213
      p0 = p1;                                                                                                         // 8214
      p1 = p2;                                                                                                         // 8215
      p2 = points[i];                                                                                                  // 8216
      tangents.push([ a * (p2[0] - p0[0]), a * (p2[1] - p0[1]) ]);                                                     // 8217
    }                                                                                                                  // 8218
    return tangents;                                                                                                   // 8219
  }                                                                                                                    // 8220
  function d3_svg_lineBasis(points) {                                                                                  // 8221
    if (points.length < 3) return d3_svg_lineLinear(points);                                                           // 8222
    var i = 1, n = points.length, pi = points[0], x0 = pi[0], y0 = pi[1], px = [ x0, x0, x0, (pi = points[1])[0] ], py = [ y0, y0, y0, pi[1] ], path = [ x0, ",", y0, "L", d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];
    points.push(points[n - 1]);                                                                                        // 8224
    while (++i <= n) {                                                                                                 // 8225
      pi = points[i];                                                                                                  // 8226
      px.shift();                                                                                                      // 8227
      px.push(pi[0]);                                                                                                  // 8228
      py.shift();                                                                                                      // 8229
      py.push(pi[1]);                                                                                                  // 8230
      d3_svg_lineBasisBezier(path, px, py);                                                                            // 8231
    }                                                                                                                  // 8232
    points.pop();                                                                                                      // 8233
    path.push("L", pi);                                                                                                // 8234
    return path.join("");                                                                                              // 8235
  }                                                                                                                    // 8236
  function d3_svg_lineBasisOpen(points) {                                                                              // 8237
    if (points.length < 4) return d3_svg_lineLinear(points);                                                           // 8238
    var path = [], i = -1, n = points.length, pi, px = [ 0 ], py = [ 0 ];                                              // 8239
    while (++i < 3) {                                                                                                  // 8240
      pi = points[i];                                                                                                  // 8241
      px.push(pi[0]);                                                                                                  // 8242
      py.push(pi[1]);                                                                                                  // 8243
    }                                                                                                                  // 8244
    path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3, px) + "," + d3_svg_lineDot4(d3_svg_lineBasisBezier3, py));      // 8245
    --i;                                                                                                               // 8246
    while (++i < n) {                                                                                                  // 8247
      pi = points[i];                                                                                                  // 8248
      px.shift();                                                                                                      // 8249
      px.push(pi[0]);                                                                                                  // 8250
      py.shift();                                                                                                      // 8251
      py.push(pi[1]);                                                                                                  // 8252
      d3_svg_lineBasisBezier(path, px, py);                                                                            // 8253
    }                                                                                                                  // 8254
    return path.join("");                                                                                              // 8255
  }                                                                                                                    // 8256
  function d3_svg_lineBasisClosed(points) {                                                                            // 8257
    var path, i = -1, n = points.length, m = n + 4, pi, px = [], py = [];                                              // 8258
    while (++i < 4) {                                                                                                  // 8259
      pi = points[i % n];                                                                                              // 8260
      px.push(pi[0]);                                                                                                  // 8261
      py.push(pi[1]);                                                                                                  // 8262
    }                                                                                                                  // 8263
    path = [ d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];        // 8264
    --i;                                                                                                               // 8265
    while (++i < m) {                                                                                                  // 8266
      pi = points[i % n];                                                                                              // 8267
      px.shift();                                                                                                      // 8268
      px.push(pi[0]);                                                                                                  // 8269
      py.shift();                                                                                                      // 8270
      py.push(pi[1]);                                                                                                  // 8271
      d3_svg_lineBasisBezier(path, px, py);                                                                            // 8272
    }                                                                                                                  // 8273
    return path.join("");                                                                                              // 8274
  }                                                                                                                    // 8275
  function d3_svg_lineBundle(points, tension) {                                                                        // 8276
    var n = points.length - 1;                                                                                         // 8277
    if (n) {                                                                                                           // 8278
      var x0 = points[0][0], y0 = points[0][1], dx = points[n][0] - x0, dy = points[n][1] - y0, i = -1, p, t;          // 8279
      while (++i <= n) {                                                                                               // 8280
        p = points[i];                                                                                                 // 8281
        t = i / n;                                                                                                     // 8282
        p[0] = tension * p[0] + (1 - tension) * (x0 + t * dx);                                                         // 8283
        p[1] = tension * p[1] + (1 - tension) * (y0 + t * dy);                                                         // 8284
      }                                                                                                                // 8285
    }                                                                                                                  // 8286
    return d3_svg_lineBasis(points);                                                                                   // 8287
  }                                                                                                                    // 8288
  function d3_svg_lineDot4(a, b) {                                                                                     // 8289
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];                                                      // 8290
  }                                                                                                                    // 8291
  var d3_svg_lineBasisBezier1 = [ 0, 2 / 3, 1 / 3, 0 ], d3_svg_lineBasisBezier2 = [ 0, 1 / 3, 2 / 3, 0 ], d3_svg_lineBasisBezier3 = [ 0, 1 / 6, 2 / 3, 1 / 6 ];
  function d3_svg_lineBasisBezier(path, x, y) {                                                                        // 8293
    path.push("C", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x), ",", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));
  }                                                                                                                    // 8295
  function d3_svg_lineSlope(p0, p1) {                                                                                  // 8296
    return (p1[1] - p0[1]) / (p1[0] - p0[0]);                                                                          // 8297
  }                                                                                                                    // 8298
  function d3_svg_lineFiniteDifferences(points) {                                                                      // 8299
    var i = 0, j = points.length - 1, m = [], p0 = points[0], p1 = points[1], d = m[0] = d3_svg_lineSlope(p0, p1);     // 8300
    while (++i < j) {                                                                                                  // 8301
      m[i] = (d + (d = d3_svg_lineSlope(p0 = p1, p1 = points[i + 1]))) / 2;                                            // 8302
    }                                                                                                                  // 8303
    m[i] = d;                                                                                                          // 8304
    return m;                                                                                                          // 8305
  }                                                                                                                    // 8306
  function d3_svg_lineMonotoneTangents(points) {                                                                       // 8307
    var tangents = [], d, a, b, s, m = d3_svg_lineFiniteDifferences(points), i = -1, j = points.length - 1;            // 8308
    while (++i < j) {                                                                                                  // 8309
      d = d3_svg_lineSlope(points[i], points[i + 1]);                                                                  // 8310
      if (abs(d) < ) {                                                                                                // 8311
        m[i] = m[i + 1] = 0;                                                                                           // 8312
      } else {                                                                                                         // 8313
        a = m[i] / d;                                                                                                  // 8314
        b = m[i + 1] / d;                                                                                              // 8315
        s = a * a + b * b;                                                                                             // 8316
        if (s > 9) {                                                                                                   // 8317
          s = d * 3 / Math.sqrt(s);                                                                                    // 8318
          m[i] = s * a;                                                                                                // 8319
          m[i + 1] = s * b;                                                                                            // 8320
        }                                                                                                              // 8321
      }                                                                                                                // 8322
    }                                                                                                                  // 8323
    i = -1;                                                                                                            // 8324
    while (++i <= j) {                                                                                                 // 8325
      s = (points[Math.min(j, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));                   // 8326
      tangents.push([ s || 0, m[i] * s || 0 ]);                                                                        // 8327
    }                                                                                                                  // 8328
    return tangents;                                                                                                   // 8329
  }                                                                                                                    // 8330
  function d3_svg_lineMonotone(points) {                                                                               // 8331
    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineMonotoneTangents(points));
  }                                                                                                                    // 8333
  d3.svg.line.radial = function() {                                                                                    // 8334
    var line = d3_svg_line(d3_svg_lineRadial);                                                                         // 8335
    line.radius = line.x, delete line.x;                                                                               // 8336
    line.angle = line.y, delete line.y;                                                                                // 8337
    return line;                                                                                                       // 8338
  };                                                                                                                   // 8339
  function d3_svg_lineRadial(points) {                                                                                 // 8340
    var point, i = -1, n = points.length, r, a;                                                                        // 8341
    while (++i < n) {                                                                                                  // 8342
      point = points[i];                                                                                               // 8343
      r = point[0];                                                                                                    // 8344
      a = point[1] - half;                                                                                            // 8345
      point[0] = r * Math.cos(a);                                                                                      // 8346
      point[1] = r * Math.sin(a);                                                                                      // 8347
    }                                                                                                                  // 8348
    return points;                                                                                                     // 8349
  }                                                                                                                    // 8350
  function d3_svg_area(projection) {                                                                                   // 8351
    var x0 = d3_geom_pointX, x1 = d3_geom_pointX, y0 = 0, y1 = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, interpolateReverse = interpolate, L = "L", tension = .7;
    function area(data) {                                                                                              // 8353
      var segments = [], points0 = [], points1 = [], i = -1, n = data.length, d, fx0 = d3_functor(x0), fy0 = d3_functor(y0), fx1 = x0 === x1 ? function() {
        return x;                                                                                                      // 8355
      } : d3_functor(x1), fy1 = y0 === y1 ? function() {                                                               // 8356
        return y;                                                                                                      // 8357
      } : d3_functor(y1), x, y;                                                                                        // 8358
      function segment() {                                                                                             // 8359
        segments.push("M", interpolate(projection(points1), tension), L, interpolateReverse(projection(points0.reverse()), tension), "Z");
      }                                                                                                                // 8361
      while (++i < n) {                                                                                                // 8362
        if (defined.call(this, d = data[i], i)) {                                                                      // 8363
          points0.push([ x = +fx0.call(this, d, i), y = +fy0.call(this, d, i) ]);                                      // 8364
          points1.push([ +fx1.call(this, d, i), +fy1.call(this, d, i) ]);                                              // 8365
        } else if (points0.length) {                                                                                   // 8366
          segment();                                                                                                   // 8367
          points0 = [];                                                                                                // 8368
          points1 = [];                                                                                                // 8369
        }                                                                                                              // 8370
      }                                                                                                                // 8371
      if (points0.length) segment();                                                                                   // 8372
      return segments.length ? segments.join("") : null;                                                               // 8373
    }                                                                                                                  // 8374
    area.x = function(_) {                                                                                             // 8375
      if (!arguments.length) return x1;                                                                                // 8376
      x0 = x1 = _;                                                                                                     // 8377
      return area;                                                                                                     // 8378
    };                                                                                                                 // 8379
    area.x0 = function(_) {                                                                                            // 8380
      if (!arguments.length) return x0;                                                                                // 8381
      x0 = _;                                                                                                          // 8382
      return area;                                                                                                     // 8383
    };                                                                                                                 // 8384
    area.x1 = function(_) {                                                                                            // 8385
      if (!arguments.length) return x1;                                                                                // 8386
      x1 = _;                                                                                                          // 8387
      return area;                                                                                                     // 8388
    };                                                                                                                 // 8389
    area.y = function(_) {                                                                                             // 8390
      if (!arguments.length) return y1;                                                                                // 8391
      y0 = y1 = _;                                                                                                     // 8392
      return area;                                                                                                     // 8393
    };                                                                                                                 // 8394
    area.y0 = function(_) {                                                                                            // 8395
      if (!arguments.length) return y0;                                                                                // 8396
      y0 = _;                                                                                                          // 8397
      return area;                                                                                                     // 8398
    };                                                                                                                 // 8399
    area.y1 = function(_) {                                                                                            // 8400
      if (!arguments.length) return y1;                                                                                // 8401
      y1 = _;                                                                                                          // 8402
      return area;                                                                                                     // 8403
    };                                                                                                                 // 8404
    area.defined = function(_) {                                                                                       // 8405
      if (!arguments.length) return defined;                                                                           // 8406
      defined = _;                                                                                                     // 8407
      return area;                                                                                                     // 8408
    };                                                                                                                 // 8409
    area.interpolate = function(_) {                                                                                   // 8410
      if (!arguments.length) return interpolateKey;                                                                    // 8411
      if (typeof _ === "function") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;
      interpolateReverse = interpolate.reverse || interpolate;                                                         // 8413
      L = interpolate.closed ? "M" : "L";                                                                              // 8414
      return area;                                                                                                     // 8415
    };                                                                                                                 // 8416
    area.tension = function(_) {                                                                                       // 8417
      if (!arguments.length) return tension;                                                                           // 8418
      tension = _;                                                                                                     // 8419
      return area;                                                                                                     // 8420
    };                                                                                                                 // 8421
    return area;                                                                                                       // 8422
  }                                                                                                                    // 8423
  d3_svg_lineStepBefore.reverse = d3_svg_lineStepAfter;                                                                // 8424
  d3_svg_lineStepAfter.reverse = d3_svg_lineStepBefore;                                                                // 8425
  d3.svg.area = function() {                                                                                           // 8426
    return d3_svg_area(d3_identity);                                                                                   // 8427
  };                                                                                                                   // 8428
  d3.svg.area.radial = function() {                                                                                    // 8429
    var area = d3_svg_area(d3_svg_lineRadial);                                                                         // 8430
    area.radius = area.x, delete area.x;                                                                               // 8431
    area.innerRadius = area.x0, delete area.x0;                                                                        // 8432
    area.outerRadius = area.x1, delete area.x1;                                                                        // 8433
    area.angle = area.y, delete area.y;                                                                                // 8434
    area.startAngle = area.y0, delete area.y0;                                                                         // 8435
    area.endAngle = area.y1, delete area.y1;                                                                           // 8436
    return area;                                                                                                       // 8437
  };                                                                                                                   // 8438
  d3.svg.chord = function() {                                                                                          // 8439
    var source = d3_source, target = d3_target, radius = d3_svg_chordRadius, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle;
    function chord(d, i) {                                                                                             // 8441
      var s = subgroup(this, source, d, i), t = subgroup(this, target, d, i);                                          // 8442
      return "M" + s.p0 + arc(s.r, s.p1, s.a1 - s.a0) + (equals(s, t) ? curve(s.r, s.p1, s.r, s.p0) : curve(s.r, s.p1, t.r, t.p0) + arc(t.r, t.p1, t.a1 - t.a0) + curve(t.r, t.p1, s.r, s.p0)) + "Z";
    }                                                                                                                  // 8444
    function subgroup(self, f, d, i) {                                                                                 // 8445
      var subgroup = f.call(self, d, i), r = radius.call(self, subgroup, i), a0 = startAngle.call(self, subgroup, i) - half, a1 = endAngle.call(self, subgroup, i) - half;
      return {                                                                                                         // 8447
        r: r,                                                                                                          // 8448
        a0: a0,                                                                                                        // 8449
        a1: a1,                                                                                                        // 8450
        p0: [ r * Math.cos(a0), r * Math.sin(a0) ],                                                                    // 8451
        p1: [ r * Math.cos(a1), r * Math.sin(a1) ]                                                                     // 8452
      };                                                                                                               // 8453
    }                                                                                                                  // 8454
    function equals(a, b) {                                                                                            // 8455
      return a.a0 == b.a0 && a.a1 == b.a1;                                                                             // 8456
    }                                                                                                                  // 8457
    function arc(r, p, a) {                                                                                            // 8458
      return "A" + r + "," + r + " 0 " + +(a > ) + ",1 " + p;                                                         // 8459
    }                                                                                                                  // 8460
    function curve(r0, p0, r1, p1) {                                                                                   // 8461
      return "Q 0,0 " + p1;                                                                                            // 8462
    }                                                                                                                  // 8463
    chord.radius = function(v) {                                                                                       // 8464
      if (!arguments.length) return radius;                                                                            // 8465
      radius = d3_functor(v);                                                                                          // 8466
      return chord;                                                                                                    // 8467
    };                                                                                                                 // 8468
    chord.source = function(v) {                                                                                       // 8469
      if (!arguments.length) return source;                                                                            // 8470
      source = d3_functor(v);                                                                                          // 8471
      return chord;                                                                                                    // 8472
    };                                                                                                                 // 8473
    chord.target = function(v) {                                                                                       // 8474
      if (!arguments.length) return target;                                                                            // 8475
      target = d3_functor(v);                                                                                          // 8476
      return chord;                                                                                                    // 8477
    };                                                                                                                 // 8478
    chord.startAngle = function(v) {                                                                                   // 8479
      if (!arguments.length) return startAngle;                                                                        // 8480
      startAngle = d3_functor(v);                                                                                      // 8481
      return chord;                                                                                                    // 8482
    };                                                                                                                 // 8483
    chord.endAngle = function(v) {                                                                                     // 8484
      if (!arguments.length) return endAngle;                                                                          // 8485
      endAngle = d3_functor(v);                                                                                        // 8486
      return chord;                                                                                                    // 8487
    };                                                                                                                 // 8488
    return chord;                                                                                                      // 8489
  };                                                                                                                   // 8490
  function d3_svg_chordRadius(d) {                                                                                     // 8491
    return d.radius;                                                                                                   // 8492
  }                                                                                                                    // 8493
  d3.svg.diagonal = function() {                                                                                       // 8494
    var source = d3_source, target = d3_target, projection = d3_svg_diagonalProjection;                                // 8495
    function diagonal(d, i) {                                                                                          // 8496
      var p0 = source.call(this, d, i), p3 = target.call(this, d, i), m = (p0.y + p3.y) / 2, p = [ p0, {               // 8497
        x: p0.x,                                                                                                       // 8498
        y: m                                                                                                           // 8499
      }, {                                                                                                             // 8500
        x: p3.x,                                                                                                       // 8501
        y: m                                                                                                           // 8502
      }, p3 ];                                                                                                         // 8503
      p = p.map(projection);                                                                                           // 8504
      return "M" + p[0] + "C" + p[1] + " " + p[2] + " " + p[3];                                                        // 8505
    }                                                                                                                  // 8506
    diagonal.source = function(x) {                                                                                    // 8507
      if (!arguments.length) return source;                                                                            // 8508
      source = d3_functor(x);                                                                                          // 8509
      return diagonal;                                                                                                 // 8510
    };                                                                                                                 // 8511
    diagonal.target = function(x) {                                                                                    // 8512
      if (!arguments.length) return target;                                                                            // 8513
      target = d3_functor(x);                                                                                          // 8514
      return diagonal;                                                                                                 // 8515
    };                                                                                                                 // 8516
    diagonal.projection = function(x) {                                                                                // 8517
      if (!arguments.length) return projection;                                                                        // 8518
      projection = x;                                                                                                  // 8519
      return diagonal;                                                                                                 // 8520
    };                                                                                                                 // 8521
    return diagonal;                                                                                                   // 8522
  };                                                                                                                   // 8523
  function d3_svg_diagonalProjection(d) {                                                                              // 8524
    return [ d.x, d.y ];                                                                                               // 8525
  }                                                                                                                    // 8526
  d3.svg.diagonal.radial = function() {                                                                                // 8527
    var diagonal = d3.svg.diagonal(), projection = d3_svg_diagonalProjection, projection_ = diagonal.projection;       // 8528
    diagonal.projection = function(x) {                                                                                // 8529
      return arguments.length ? projection_(d3_svg_diagonalRadialProjection(projection = x)) : projection;             // 8530
    };                                                                                                                 // 8531
    return diagonal;                                                                                                   // 8532
  };                                                                                                                   // 8533
  function d3_svg_diagonalRadialProjection(projection) {                                                               // 8534
    return function() {                                                                                                // 8535
      var d = projection.apply(this, arguments), r = d[0], a = d[1] - half;                                           // 8536
      return [ r * Math.cos(a), r * Math.sin(a) ];                                                                     // 8537
    };                                                                                                                 // 8538
  }                                                                                                                    // 8539
  d3.svg.symbol = function() {                                                                                         // 8540
    var type = d3_svg_symbolType, size = d3_svg_symbolSize;                                                            // 8541
    function symbol(d, i) {                                                                                            // 8542
      return (d3_svg_symbols.get(type.call(this, d, i)) || d3_svg_symbolCircle)(size.call(this, d, i));                // 8543
    }                                                                                                                  // 8544
    symbol.type = function(x) {                                                                                        // 8545
      if (!arguments.length) return type;                                                                              // 8546
      type = d3_functor(x);                                                                                            // 8547
      return symbol;                                                                                                   // 8548
    };                                                                                                                 // 8549
    symbol.size = function(x) {                                                                                        // 8550
      if (!arguments.length) return size;                                                                              // 8551
      size = d3_functor(x);                                                                                            // 8552
      return symbol;                                                                                                   // 8553
    };                                                                                                                 // 8554
    return symbol;                                                                                                     // 8555
  };                                                                                                                   // 8556
  function d3_svg_symbolSize() {                                                                                       // 8557
    return 64;                                                                                                         // 8558
  }                                                                                                                    // 8559
  function d3_svg_symbolType() {                                                                                       // 8560
    return "circle";                                                                                                   // 8561
  }                                                                                                                    // 8562
  function d3_svg_symbolCircle(size) {                                                                                 // 8563
    var r = Math.sqrt(size / );                                                                                       // 8564
    return "M0," + r + "A" + r + "," + r + " 0 1,1 0," + -r + "A" + r + "," + r + " 0 1,1 0," + r + "Z";               // 8565
  }                                                                                                                    // 8566
  var d3_svg_symbols = d3.map({                                                                                        // 8567
    circle: d3_svg_symbolCircle,                                                                                       // 8568
    cross: function(size) {                                                                                            // 8569
      var r = Math.sqrt(size / 5) / 2;                                                                                 // 8570
      return "M" + -3 * r + "," + -r + "H" + -r + "V" + -3 * r + "H" + r + "V" + -r + "H" + 3 * r + "V" + r + "H" + r + "V" + 3 * r + "H" + -r + "V" + r + "H" + -3 * r + "Z";
    },                                                                                                                 // 8572
    diamond: function(size) {                                                                                          // 8573
      var ry = Math.sqrt(size / (2 * d3_svg_symbolTan30)), rx = ry * d3_svg_symbolTan30;                               // 8574
      return "M0," + -ry + "L" + rx + ",0" + " 0," + ry + " " + -rx + ",0" + "Z";                                      // 8575
    },                                                                                                                 // 8576
    square: function(size) {                                                                                           // 8577
      var r = Math.sqrt(size) / 2;                                                                                     // 8578
      return "M" + -r + "," + -r + "L" + r + "," + -r + " " + r + "," + r + " " + -r + "," + r + "Z";                  // 8579
    },                                                                                                                 // 8580
    "triangle-down": function(size) {                                                                                  // 8581
      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;                                 // 8582
      return "M0," + ry + "L" + rx + "," + -ry + " " + -rx + "," + -ry + "Z";                                          // 8583
    },                                                                                                                 // 8584
    "triangle-up": function(size) {                                                                                    // 8585
      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;                                 // 8586
      return "M0," + -ry + "L" + rx + "," + ry + " " + -rx + "," + ry + "Z";                                           // 8587
    }                                                                                                                  // 8588
  });                                                                                                                  // 8589
  d3.svg.symbolTypes = d3_svg_symbols.keys();                                                                          // 8590
  var d3_svg_symbolSqrt3 = Math.sqrt(3), d3_svg_symbolTan30 = Math.tan(30 * d3_radians);                               // 8591
  d3_selectionPrototype.transition = function(name) {                                                                  // 8592
    var id = d3_transitionInheritId || ++d3_transitionId, ns = d3_transitionNamespace(name), subgroups = [], subgroup, node, transition = d3_transitionInherit || {
      time: Date.now(),                                                                                                // 8594
      ease: d3_ease_cubicInOut,                                                                                        // 8595
      delay: 0,                                                                                                        // 8596
      duration: 250                                                                                                    // 8597
    };                                                                                                                 // 8598
    for (var j = -1, m = this.length; ++j < m; ) {                                                                     // 8599
      subgroups.push(subgroup = []);                                                                                   // 8600
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {                                                 // 8601
        if (node = group[i]) d3_transitionNode(node, i, ns, id, transition);                                           // 8602
        subgroup.push(node);                                                                                           // 8603
      }                                                                                                                // 8604
    }                                                                                                                  // 8605
    return d3_transition(subgroups, ns, id);                                                                           // 8606
  };                                                                                                                   // 8607
  d3_selectionPrototype.interrupt = function(name) {                                                                   // 8608
    return this.each(name == null ? d3_selection_interrupt : d3_selection_interruptNS(d3_transitionNamespace(name)));  // 8609
  };                                                                                                                   // 8610
  var d3_selection_interrupt = d3_selection_interruptNS(d3_transitionNamespace());                                     // 8611
  function d3_selection_interruptNS(ns) {                                                                              // 8612
    return function() {                                                                                                // 8613
      var lock, active;                                                                                                // 8614
      if ((lock = this[ns]) && (active = lock[lock.active])) {                                                         // 8615
        if (--lock.count) delete lock[lock.active]; else delete this[ns];                                              // 8616
        lock.active += .5;                                                                                             // 8617
        active.event && active.event.interrupt.call(this, this.__data__, active.index);                                // 8618
      }                                                                                                                // 8619
    };                                                                                                                 // 8620
  }                                                                                                                    // 8621
  function d3_transition(groups, ns, id) {                                                                             // 8622
    d3_subclass(groups, d3_transitionPrototype);                                                                       // 8623
    groups.namespace = ns;                                                                                             // 8624
    groups.id = id;                                                                                                    // 8625
    return groups;                                                                                                     // 8626
  }                                                                                                                    // 8627
  var d3_transitionPrototype = [], d3_transitionId = 0, d3_transitionInheritId, d3_transitionInherit;                  // 8628
  d3_transitionPrototype.call = d3_selectionPrototype.call;                                                            // 8629
  d3_transitionPrototype.empty = d3_selectionPrototype.empty;                                                          // 8630
  d3_transitionPrototype.node = d3_selectionPrototype.node;                                                            // 8631
  d3_transitionPrototype.size = d3_selectionPrototype.size;                                                            // 8632
  d3.transition = function(selection, name) {                                                                          // 8633
    return selection && selection.transition ? d3_transitionInheritId ? selection.transition(name) : selection : d3.selection().transition(selection);
  };                                                                                                                   // 8635
  d3.transition.prototype = d3_transitionPrototype;                                                                    // 8636
  d3_transitionPrototype.select = function(selector) {                                                                 // 8637
    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnode, node;                                    // 8638
    selector = d3_selection_selector(selector);                                                                        // 8639
    for (var j = -1, m = this.length; ++j < m; ) {                                                                     // 8640
      subgroups.push(subgroup = []);                                                                                   // 8641
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {                                                 // 8642
        if ((node = group[i]) && (subnode = selector.call(node, node.__data__, i, j))) {                               // 8643
          if ("__data__" in node) subnode.__data__ = node.__data__;                                                    // 8644
          d3_transitionNode(subnode, i, ns, id, node[ns][id]);                                                         // 8645
          subgroup.push(subnode);                                                                                      // 8646
        } else {                                                                                                       // 8647
          subgroup.push(null);                                                                                         // 8648
        }                                                                                                              // 8649
      }                                                                                                                // 8650
    }                                                                                                                  // 8651
    return d3_transition(subgroups, ns, id);                                                                           // 8652
  };                                                                                                                   // 8653
  d3_transitionPrototype.selectAll = function(selector) {                                                              // 8654
    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnodes, node, subnode, transition;              // 8655
    selector = d3_selection_selectorAll(selector);                                                                     // 8656
    for (var j = -1, m = this.length; ++j < m; ) {                                                                     // 8657
      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {                                                 // 8658
        if (node = group[i]) {                                                                                         // 8659
          transition = node[ns][id];                                                                                   // 8660
          subnodes = selector.call(node, node.__data__, i, j);                                                         // 8661
          subgroups.push(subgroup = []);                                                                               // 8662
          for (var k = -1, o = subnodes.length; ++k < o; ) {                                                           // 8663
            if (subnode = subnodes[k]) d3_transitionNode(subnode, k, ns, id, transition);                              // 8664
            subgroup.push(subnode);                                                                                    // 8665
          }                                                                                                            // 8666
        }                                                                                                              // 8667
      }                                                                                                                // 8668
    }                                                                                                                  // 8669
    return d3_transition(subgroups, ns, id);                                                                           // 8670
  };                                                                                                                   // 8671
  d3_transitionPrototype.filter = function(filter) {                                                                   // 8672
    var subgroups = [], subgroup, group, node;                                                                         // 8673
    if (typeof filter !== "function") filter = d3_selection_filter(filter);                                            // 8674
    for (var j = 0, m = this.length; j < m; j++) {                                                                     // 8675
      subgroups.push(subgroup = []);                                                                                   // 8676
      for (var group = this[j], i = 0, n = group.length; i < n; i++) {                                                 // 8677
        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {                                             // 8678
          subgroup.push(node);                                                                                         // 8679
        }                                                                                                              // 8680
      }                                                                                                                // 8681
    }                                                                                                                  // 8682
    return d3_transition(subgroups, this.namespace, this.id);                                                          // 8683
  };                                                                                                                   // 8684
  d3_transitionPrototype.tween = function(name, tween) {                                                               // 8685
    var id = this.id, ns = this.namespace;                                                                             // 8686
    if (arguments.length < 2) return this.node()[ns][id].tween.get(name);                                              // 8687
    return d3_selection_each(this, tween == null ? function(node) {                                                    // 8688
      node[ns][id].tween.remove(name);                                                                                 // 8689
    } : function(node) {                                                                                               // 8690
      node[ns][id].tween.set(name, tween);                                                                             // 8691
    });                                                                                                                // 8692
  };                                                                                                                   // 8693
  function d3_transition_tween(groups, name, value, tween) {                                                           // 8694
    var id = groups.id, ns = groups.namespace;                                                                         // 8695
    return d3_selection_each(groups, typeof value === "function" ? function(node, i, j) {                              // 8696
      node[ns][id].tween.set(name, tween(value.call(node, node.__data__, i, j)));                                      // 8697
    } : (value = tween(value), function(node) {                                                                        // 8698
      node[ns][id].tween.set(name, value);                                                                             // 8699
    }));                                                                                                               // 8700
  }                                                                                                                    // 8701
  d3_transitionPrototype.attr = function(nameNS, value) {                                                              // 8702
    if (arguments.length < 2) {                                                                                        // 8703
      for (value in nameNS) this.attr(value, nameNS[value]);                                                           // 8704
      return this;                                                                                                     // 8705
    }                                                                                                                  // 8706
    var interpolate = nameNS == "transform" ? d3_interpolateTransform : d3_interpolate, name = d3.ns.qualify(nameNS);  // 8707
    function attrNull() {                                                                                              // 8708
      this.removeAttribute(name);                                                                                      // 8709
    }                                                                                                                  // 8710
    function attrNullNS() {                                                                                            // 8711
      this.removeAttributeNS(name.space, name.local);                                                                  // 8712
    }                                                                                                                  // 8713
    function attrTween(b) {                                                                                            // 8714
      return b == null ? attrNull : (b += "", function() {                                                             // 8715
        var a = this.getAttribute(name), i;                                                                            // 8716
        return a !== b && (i = interpolate(a, b), function(t) {                                                        // 8717
          this.setAttribute(name, i(t));                                                                               // 8718
        });                                                                                                            // 8719
      });                                                                                                              // 8720
    }                                                                                                                  // 8721
    function attrTweenNS(b) {                                                                                          // 8722
      return b == null ? attrNullNS : (b += "", function() {                                                           // 8723
        var a = this.getAttributeNS(name.space, name.local), i;                                                        // 8724
        return a !== b && (i = interpolate(a, b), function(t) {                                                        // 8725
          this.setAttributeNS(name.space, name.local, i(t));                                                           // 8726
        });                                                                                                            // 8727
      });                                                                                                              // 8728
    }                                                                                                                  // 8729
    return d3_transition_tween(this, "attr." + nameNS, value, name.local ? attrTweenNS : attrTween);                   // 8730
  };                                                                                                                   // 8731
  d3_transitionPrototype.attrTween = function(nameNS, tween) {                                                         // 8732
    var name = d3.ns.qualify(nameNS);                                                                                  // 8733
    function attrTween(d, i) {                                                                                         // 8734
      var f = tween.call(this, d, i, this.getAttribute(name));                                                         // 8735
      return f && function(t) {                                                                                        // 8736
        this.setAttribute(name, f(t));                                                                                 // 8737
      };                                                                                                               // 8738
    }                                                                                                                  // 8739
    function attrTweenNS(d, i) {                                                                                       // 8740
      var f = tween.call(this, d, i, this.getAttributeNS(name.space, name.local));                                     // 8741
      return f && function(t) {                                                                                        // 8742
        this.setAttributeNS(name.space, name.local, f(t));                                                             // 8743
      };                                                                                                               // 8744
    }                                                                                                                  // 8745
    return this.tween("attr." + nameNS, name.local ? attrTweenNS : attrTween);                                         // 8746
  };                                                                                                                   // 8747
  d3_transitionPrototype.style = function(name, value, priority) {                                                     // 8748
    var n = arguments.length;                                                                                          // 8749
    if (n < 3) {                                                                                                       // 8750
      if (typeof name !== "string") {                                                                                  // 8751
        if (n < 2) value = "";                                                                                         // 8752
        for (priority in name) this.style(priority, name[priority], value);                                            // 8753
        return this;                                                                                                   // 8754
      }                                                                                                                // 8755
      priority = "";                                                                                                   // 8756
    }                                                                                                                  // 8757
    function styleNull() {                                                                                             // 8758
      this.style.removeProperty(name);                                                                                 // 8759
    }                                                                                                                  // 8760
    function styleString(b) {                                                                                          // 8761
      return b == null ? styleNull : (b += "", function() {                                                            // 8762
        var a = d3_window(this).getComputedStyle(this, null).getPropertyValue(name), i;                                // 8763
        return a !== b && (i = d3_interpolate(a, b), function(t) {                                                     // 8764
          this.style.setProperty(name, i(t), priority);                                                                // 8765
        });                                                                                                            // 8766
      });                                                                                                              // 8767
    }                                                                                                                  // 8768
    return d3_transition_tween(this, "style." + name, value, styleString);                                             // 8769
  };                                                                                                                   // 8770
  d3_transitionPrototype.styleTween = function(name, tween, priority) {                                                // 8771
    if (arguments.length < 3) priority = "";                                                                           // 8772
    function styleTween(d, i) {                                                                                        // 8773
      var f = tween.call(this, d, i, d3_window(this).getComputedStyle(this, null).getPropertyValue(name));             // 8774
      return f && function(t) {                                                                                        // 8775
        this.style.setProperty(name, f(t), priority);                                                                  // 8776
      };                                                                                                               // 8777
    }                                                                                                                  // 8778
    return this.tween("style." + name, styleTween);                                                                    // 8779
  };                                                                                                                   // 8780
  d3_transitionPrototype.text = function(value) {                                                                      // 8781
    return d3_transition_tween(this, "text", value, d3_transition_text);                                               // 8782
  };                                                                                                                   // 8783
  function d3_transition_text(b) {                                                                                     // 8784
    if (b == null) b = "";                                                                                             // 8785
    return function() {                                                                                                // 8786
      this.textContent = b;                                                                                            // 8787
    };                                                                                                                 // 8788
  }                                                                                                                    // 8789
  d3_transitionPrototype.remove = function() {                                                                         // 8790
    var ns = this.namespace;                                                                                           // 8791
    return this.each("end.transition", function() {                                                                    // 8792
      var p;                                                                                                           // 8793
      if (this[ns].count < 2 && (p = this.parentNode)) p.removeChild(this);                                            // 8794
    });                                                                                                                // 8795
  };                                                                                                                   // 8796
  d3_transitionPrototype.ease = function(value) {                                                                      // 8797
    var id = this.id, ns = this.namespace;                                                                             // 8798
    if (arguments.length < 1) return this.node()[ns][id].ease;                                                         // 8799
    if (typeof value !== "function") value = d3.ease.apply(d3, arguments);                                             // 8800
    return d3_selection_each(this, function(node) {                                                                    // 8801
      node[ns][id].ease = value;                                                                                       // 8802
    });                                                                                                                // 8803
  };                                                                                                                   // 8804
  d3_transitionPrototype.delay = function(value) {                                                                     // 8805
    var id = this.id, ns = this.namespace;                                                                             // 8806
    if (arguments.length < 1) return this.node()[ns][id].delay;                                                        // 8807
    return d3_selection_each(this, typeof value === "function" ? function(node, i, j) {                                // 8808
      node[ns][id].delay = +value.call(node, node.__data__, i, j);                                                     // 8809
    } : (value = +value, function(node) {                                                                              // 8810
      node[ns][id].delay = value;                                                                                      // 8811
    }));                                                                                                               // 8812
  };                                                                                                                   // 8813
  d3_transitionPrototype.duration = function(value) {                                                                  // 8814
    var id = this.id, ns = this.namespace;                                                                             // 8815
    if (arguments.length < 1) return this.node()[ns][id].duration;                                                     // 8816
    return d3_selection_each(this, typeof value === "function" ? function(node, i, j) {                                // 8817
      node[ns][id].duration = Math.max(1, value.call(node, node.__data__, i, j));                                      // 8818
    } : (value = Math.max(1, value), function(node) {                                                                  // 8819
      node[ns][id].duration = value;                                                                                   // 8820
    }));                                                                                                               // 8821
  };                                                                                                                   // 8822
  d3_transitionPrototype.each = function(type, listener) {                                                             // 8823
    var id = this.id, ns = this.namespace;                                                                             // 8824
    if (arguments.length < 2) {                                                                                        // 8825
      var inherit = d3_transitionInherit, inheritId = d3_transitionInheritId;                                          // 8826
      try {                                                                                                            // 8827
        d3_transitionInheritId = id;                                                                                   // 8828
        d3_selection_each(this, function(node, i, j) {                                                                 // 8829
          d3_transitionInherit = node[ns][id];                                                                         // 8830
          type.call(node, node.__data__, i, j);                                                                        // 8831
        });                                                                                                            // 8832
      } finally {                                                                                                      // 8833
        d3_transitionInherit = inherit;                                                                                // 8834
        d3_transitionInheritId = inheritId;                                                                            // 8835
      }                                                                                                                // 8836
    } else {                                                                                                           // 8837
      d3_selection_each(this, function(node) {                                                                         // 8838
        var transition = node[ns][id];                                                                                 // 8839
        (transition.event || (transition.event = d3.dispatch("start", "end", "interrupt"))).on(type, listener);        // 8840
      });                                                                                                              // 8841
    }                                                                                                                  // 8842
    return this;                                                                                                       // 8843
  };                                                                                                                   // 8844
  d3_transitionPrototype.transition = function() {                                                                     // 8845
    var id0 = this.id, id1 = ++d3_transitionId, ns = this.namespace, subgroups = [], subgroup, group, node, transition;
    for (var j = 0, m = this.length; j < m; j++) {                                                                     // 8847
      subgroups.push(subgroup = []);                                                                                   // 8848
      for (var group = this[j], i = 0, n = group.length; i < n; i++) {                                                 // 8849
        if (node = group[i]) {                                                                                         // 8850
          transition = node[ns][id0];                                                                                  // 8851
          d3_transitionNode(node, i, ns, id1, {                                                                        // 8852
            time: transition.time,                                                                                     // 8853
            ease: transition.ease,                                                                                     // 8854
            delay: transition.delay + transition.duration,                                                             // 8855
            duration: transition.duration                                                                              // 8856
          });                                                                                                          // 8857
        }                                                                                                              // 8858
        subgroup.push(node);                                                                                           // 8859
      }                                                                                                                // 8860
    }                                                                                                                  // 8861
    return d3_transition(subgroups, ns, id1);                                                                          // 8862
  };                                                                                                                   // 8863
  function d3_transitionNamespace(name) {                                                                              // 8864
    return name == null ? "__transition__" : "__transition_" + name + "__";                                            // 8865
  }                                                                                                                    // 8866
  function d3_transitionNode(node, i, ns, id, inherit) {                                                               // 8867
    var lock = node[ns] || (node[ns] = {                                                                               // 8868
      active: 0,                                                                                                       // 8869
      count: 0                                                                                                         // 8870
    }), transition = lock[id];                                                                                         // 8871
    if (!transition) {                                                                                                 // 8872
      var time = inherit.time;                                                                                         // 8873
      transition = lock[id] = {                                                                                        // 8874
        tween: new d3_Map(),                                                                                           // 8875
        time: time,                                                                                                    // 8876
        delay: inherit.delay,                                                                                          // 8877
        duration: inherit.duration,                                                                                    // 8878
        ease: inherit.ease,                                                                                            // 8879
        index: i                                                                                                       // 8880
      };                                                                                                               // 8881
      inherit = null;                                                                                                  // 8882
      ++lock.count;                                                                                                    // 8883
      d3.timer(function(elapsed) {                                                                                     // 8884
        var delay = transition.delay, duration, ease, timer = d3_timer_active, tweened = [];                           // 8885
        timer.t = delay + time;                                                                                        // 8886
        if (delay <= elapsed) return start(elapsed - delay);                                                           // 8887
        timer.c = start;                                                                                               // 8888
        function start(elapsed) {                                                                                      // 8889
          if (lock.active > id) return stop();                                                                         // 8890
          var active = lock[lock.active];                                                                              // 8891
          if (active) {                                                                                                // 8892
            --lock.count;                                                                                              // 8893
            delete lock[lock.active];                                                                                  // 8894
            active.event && active.event.interrupt.call(node, node.__data__, active.index);                            // 8895
          }                                                                                                            // 8896
          lock.active = id;                                                                                            // 8897
          transition.event && transition.event.start.call(node, node.__data__, i);                                     // 8898
          transition.tween.forEach(function(key, value) {                                                              // 8899
            if (value = value.call(node, node.__data__, i)) {                                                          // 8900
              tweened.push(value);                                                                                     // 8901
            }                                                                                                          // 8902
          });                                                                                                          // 8903
          ease = transition.ease;                                                                                      // 8904
          duration = transition.duration;                                                                              // 8905
          d3.timer(function() {                                                                                        // 8906
            timer.c = tick(elapsed || 1) ? d3_true : tick;                                                             // 8907
            return 1;                                                                                                  // 8908
          }, 0, time);                                                                                                 // 8909
        }                                                                                                              // 8910
        function tick(elapsed) {                                                                                       // 8911
          if (lock.active !== id) return 1;                                                                            // 8912
          var t = elapsed / duration, e = ease(t), n = tweened.length;                                                 // 8913
          while (n > 0) {                                                                                              // 8914
            tweened[--n].call(node, e);                                                                                // 8915
          }                                                                                                            // 8916
          if (t >= 1) {                                                                                                // 8917
            transition.event && transition.event.end.call(node, node.__data__, i);                                     // 8918
            return stop();                                                                                             // 8919
          }                                                                                                            // 8920
        }                                                                                                              // 8921
        function stop() {                                                                                              // 8922
          if (--lock.count) delete lock[id]; else delete node[ns];                                                     // 8923
          return 1;                                                                                                    // 8924
        }                                                                                                              // 8925
      }, 0, time);                                                                                                     // 8926
    }                                                                                                                  // 8927
  }                                                                                                                    // 8928
  d3.svg.axis = function() {                                                                                           // 8929
    var scale = d3.scale.linear(), orient = d3_svg_axisDefaultOrient, innerTickSize = 6, outerTickSize = 6, tickPadding = 3, tickArguments_ = [ 10 ], tickValues = null, tickFormat_;
    function axis(g) {                                                                                                 // 8931
      g.each(function() {                                                                                              // 8932
        var g = d3.select(this);                                                                                       // 8933
        var scale0 = this.__chart__ || scale, scale1 = this.__chart__ = scale.copy();                                  // 8934
        var ticks = tickValues == null ? scale1.ticks ? scale1.ticks.apply(scale1, tickArguments_) : scale1.domain() : tickValues, tickFormat = tickFormat_ == null ? scale1.tickFormat ? scale1.tickFormat.apply(scale1, tickArguments_) : d3_identity : tickFormat_, tick = g.selectAll(".tick").data(ticks, scale1), tickEnter = tick.enter().insert("g", ".domain").attr("class", "tick").style("opacity", ), tickExit = d3.transition(tick.exit()).style("opacity", ).remove(), tickUpdate = d3.transition(tick.order()).style("opacity", 1), tickSpacing = Math.max(innerTickSize, 0) + tickPadding, tickTransform;
        var range = d3_scaleRange(scale1), path = g.selectAll(".domain").data([ 0 ]), pathUpdate = (path.enter().append("path").attr("class", "domain"), 
        d3.transition(path));                                                                                          // 8937
        tickEnter.append("line");                                                                                      // 8938
        tickEnter.append("text");                                                                                      // 8939
        var lineEnter = tickEnter.select("line"), lineUpdate = tickUpdate.select("line"), text = tick.select("text").text(tickFormat), textEnter = tickEnter.select("text"), textUpdate = tickUpdate.select("text"), sign = orient === "top" || orient === "left" ? -1 : 1, x1, x2, y1, y2;
        if (orient === "bottom" || orient === "top") {                                                                 // 8941
          tickTransform = d3_svg_axisX, x1 = "x", y1 = "y", x2 = "x2", y2 = "y2";                                      // 8942
          text.attr("dy", sign < 0 ? "0em" : ".71em").style("text-anchor", "middle");                                  // 8943
          pathUpdate.attr("d", "M" + range[0] + "," + sign * outerTickSize + "V0H" + range[1] + "V" + sign * outerTickSize);
        } else {                                                                                                       // 8945
          tickTransform = d3_svg_axisY, x1 = "y", y1 = "x", x2 = "y2", y2 = "x2";                                      // 8946
          text.attr("dy", ".32em").style("text-anchor", sign < 0 ? "end" : "start");                                   // 8947
          pathUpdate.attr("d", "M" + sign * outerTickSize + "," + range[0] + "H0V" + range[1] + "H" + sign * outerTickSize);
        }                                                                                                              // 8949
        lineEnter.attr(y2, sign * innerTickSize);                                                                      // 8950
        textEnter.attr(y1, sign * tickSpacing);                                                                        // 8951
        lineUpdate.attr(x2, 0).attr(y2, sign * innerTickSize);                                                         // 8952
        textUpdate.attr(x1, 0).attr(y1, sign * tickSpacing);                                                           // 8953
        if (scale1.rangeBand) {                                                                                        // 8954
          var x = scale1, dx = x.rangeBand() / 2;                                                                      // 8955
          scale0 = scale1 = function(d) {                                                                              // 8956
            return x(d) + dx;                                                                                          // 8957
          };                                                                                                           // 8958
        } else if (scale0.rangeBand) {                                                                                 // 8959
          scale0 = scale1;                                                                                             // 8960
        } else {                                                                                                       // 8961
          tickExit.call(tickTransform, scale1, scale0);                                                                // 8962
        }                                                                                                              // 8963
        tickEnter.call(tickTransform, scale0, scale1);                                                                 // 8964
        tickUpdate.call(tickTransform, scale1, scale1);                                                                // 8965
      });                                                                                                              // 8966
    }                                                                                                                  // 8967
    axis.scale = function(x) {                                                                                         // 8968
      if (!arguments.length) return scale;                                                                             // 8969
      scale = x;                                                                                                       // 8970
      return axis;                                                                                                     // 8971
    };                                                                                                                 // 8972
    axis.orient = function(x) {                                                                                        // 8973
      if (!arguments.length) return orient;                                                                            // 8974
      orient = x in d3_svg_axisOrients ? x + "" : d3_svg_axisDefaultOrient;                                            // 8975
      return axis;                                                                                                     // 8976
    };                                                                                                                 // 8977
    axis.ticks = function() {                                                                                          // 8978
      if (!arguments.length) return tickArguments_;                                                                    // 8979
      tickArguments_ = arguments;                                                                                      // 8980
      return axis;                                                                                                     // 8981
    };                                                                                                                 // 8982
    axis.tickValues = function(x) {                                                                                    // 8983
      if (!arguments.length) return tickValues;                                                                        // 8984
      tickValues = x;                                                                                                  // 8985
      return axis;                                                                                                     // 8986
    };                                                                                                                 // 8987
    axis.tickFormat = function(x) {                                                                                    // 8988
      if (!arguments.length) return tickFormat_;                                                                       // 8989
      tickFormat_ = x;                                                                                                 // 8990
      return axis;                                                                                                     // 8991
    };                                                                                                                 // 8992
    axis.tickSize = function(x) {                                                                                      // 8993
      var n = arguments.length;                                                                                        // 8994
      if (!n) return innerTickSize;                                                                                    // 8995
      innerTickSize = +x;                                                                                              // 8996
      outerTickSize = +arguments[n - 1];                                                                               // 8997
      return axis;                                                                                                     // 8998
    };                                                                                                                 // 8999
    axis.innerTickSize = function(x) {                                                                                 // 9000
      if (!arguments.length) return innerTickSize;                                                                     // 9001
      innerTickSize = +x;                                                                                              // 9002
      return axis;                                                                                                     // 9003
    };                                                                                                                 // 9004
    axis.outerTickSize = function(x) {                                                                                 // 9005
      if (!arguments.length) return outerTickSize;                                                                     // 9006
      outerTickSize = +x;                                                                                              // 9007
      return axis;                                                                                                     // 9008
    };                                                                                                                 // 9009
    axis.tickPadding = function(x) {                                                                                   // 9010
      if (!arguments.length) return tickPadding;                                                                       // 9011
      tickPadding = +x;                                                                                                // 9012
      return axis;                                                                                                     // 9013
    };                                                                                                                 // 9014
    axis.tickSubdivide = function() {                                                                                  // 9015
      return arguments.length && axis;                                                                                 // 9016
    };                                                                                                                 // 9017
    return axis;                                                                                                       // 9018
  };                                                                                                                   // 9019
  var d3_svg_axisDefaultOrient = "bottom", d3_svg_axisOrients = {                                                      // 9020
    top: 1,                                                                                                            // 9021
    right: 1,                                                                                                          // 9022
    bottom: 1,                                                                                                         // 9023
    left: 1                                                                                                            // 9024
  };                                                                                                                   // 9025
  function d3_svg_axisX(selection, x0, x1) {                                                                           // 9026
    selection.attr("transform", function(d) {                                                                          // 9027
      var v0 = x0(d);                                                                                                  // 9028
      return "translate(" + (isFinite(v0) ? v0 : x1(d)) + ",0)";                                                       // 9029
    });                                                                                                                // 9030
  }                                                                                                                    // 9031
  function d3_svg_axisY(selection, y0, y1) {                                                                           // 9032
    selection.attr("transform", function(d) {                                                                          // 9033
      var v0 = y0(d);                                                                                                  // 9034
      return "translate(0," + (isFinite(v0) ? v0 : y1(d)) + ")";                                                       // 9035
    });                                                                                                                // 9036
  }                                                                                                                    // 9037
  d3.svg.brush = function() {                                                                                          // 9038
    var event = d3_eventDispatch(brush, "brushstart", "brush", "brushend"), x = null, y = null, xExtent = [ 0, 0 ], yExtent = [ 0, 0 ], xExtentDomain, yExtentDomain, xClamp = true, yClamp = true, resizes = d3_svg_brushResizes[0];
    function brush(g) {                                                                                                // 9040
      g.each(function() {                                                                                              // 9041
        var g = d3.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", brushstart).on("touchstart.brush", brushstart);
        var background = g.selectAll(".background").data([ 0 ]);                                                       // 9043
        background.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair");
        g.selectAll(".extent").data([ 0 ]).enter().append("rect").attr("class", "extent").style("cursor", "move");     // 9045
        var resize = g.selectAll(".resize").data(resizes, d3_identity);                                                // 9046
        resize.exit().remove();                                                                                        // 9047
        resize.enter().append("g").attr("class", function(d) {                                                         // 9048
          return "resize " + d;                                                                                        // 9049
        }).style("cursor", function(d) {                                                                               // 9050
          return d3_svg_brushCursor[d];                                                                                // 9051
        }).append("rect").attr("x", function(d) {                                                                      // 9052
          return /[ew]$/.test(d) ? -3 : null;                                                                          // 9053
        }).attr("y", function(d) {                                                                                     // 9054
          return /^[ns]/.test(d) ? -3 : null;                                                                          // 9055
        }).attr("width", 6).attr("height", 6).style("visibility", "hidden");                                           // 9056
        resize.style("display", brush.empty() ? "none" : null);                                                        // 9057
        var gUpdate = d3.transition(g), backgroundUpdate = d3.transition(background), range;                           // 9058
        if (x) {                                                                                                       // 9059
          range = d3_scaleRange(x);                                                                                    // 9060
          backgroundUpdate.attr("x", range[0]).attr("width", range[1] - range[0]);                                     // 9061
          redrawX(gUpdate);                                                                                            // 9062
        }                                                                                                              // 9063
        if (y) {                                                                                                       // 9064
          range = d3_scaleRange(y);                                                                                    // 9065
          backgroundUpdate.attr("y", range[0]).attr("height", range[1] - range[0]);                                    // 9066
          redrawY(gUpdate);                                                                                            // 9067
        }                                                                                                              // 9068
        redraw(gUpdate);                                                                                               // 9069
      });                                                                                                              // 9070
    }                                                                                                                  // 9071
    brush.event = function(g) {                                                                                        // 9072
      g.each(function() {                                                                                              // 9073
        var event_ = event.of(this, arguments), extent1 = {                                                            // 9074
          x: xExtent,                                                                                                  // 9075
          y: yExtent,                                                                                                  // 9076
          i: xExtentDomain,                                                                                            // 9077
          j: yExtentDomain                                                                                             // 9078
        }, extent0 = this.__chart__ || extent1;                                                                        // 9079
        this.__chart__ = extent1;                                                                                      // 9080
        if (d3_transitionInheritId) {                                                                                  // 9081
          d3.select(this).transition().each("start.brush", function() {                                                // 9082
            xExtentDomain = extent0.i;                                                                                 // 9083
            yExtentDomain = extent0.j;                                                                                 // 9084
            xExtent = extent0.x;                                                                                       // 9085
            yExtent = extent0.y;                                                                                       // 9086
            event_({                                                                                                   // 9087
              type: "brushstart"                                                                                       // 9088
            });                                                                                                        // 9089
          }).tween("brush:brush", function() {                                                                         // 9090
            var xi = d3_interpolateArray(xExtent, extent1.x), yi = d3_interpolateArray(yExtent, extent1.y);            // 9091
            xExtentDomain = yExtentDomain = null;                                                                      // 9092
            return function(t) {                                                                                       // 9093
              xExtent = extent1.x = xi(t);                                                                             // 9094
              yExtent = extent1.y = yi(t);                                                                             // 9095
              event_({                                                                                                 // 9096
                type: "brush",                                                                                         // 9097
                mode: "resize"                                                                                         // 9098
              });                                                                                                      // 9099
            };                                                                                                         // 9100
          }).each("end.brush", function() {                                                                            // 9101
            xExtentDomain = extent1.i;                                                                                 // 9102
            yExtentDomain = extent1.j;                                                                                 // 9103
            event_({                                                                                                   // 9104
              type: "brush",                                                                                           // 9105
              mode: "resize"                                                                                           // 9106
            });                                                                                                        // 9107
            event_({                                                                                                   // 9108
              type: "brushend"                                                                                         // 9109
            });                                                                                                        // 9110
          });                                                                                                          // 9111
        } else {                                                                                                       // 9112
          event_({                                                                                                     // 9113
            type: "brushstart"                                                                                         // 9114
          });                                                                                                          // 9115
          event_({                                                                                                     // 9116
            type: "brush",                                                                                             // 9117
            mode: "resize"                                                                                             // 9118
          });                                                                                                          // 9119
          event_({                                                                                                     // 9120
            type: "brushend"                                                                                           // 9121
          });                                                                                                          // 9122
        }                                                                                                              // 9123
      });                                                                                                              // 9124
    };                                                                                                                 // 9125
    function redraw(g) {                                                                                               // 9126
      g.selectAll(".resize").attr("transform", function(d) {                                                           // 9127
        return "translate(" + xExtent[+/e$/.test(d)] + "," + yExtent[+/^s/.test(d)] + ")";                             // 9128
      });                                                                                                              // 9129
    }                                                                                                                  // 9130
    function redrawX(g) {                                                                                              // 9131
      g.select(".extent").attr("x", xExtent[0]);                                                                       // 9132
      g.selectAll(".extent,.n>rect,.s>rect").attr("width", xExtent[1] - xExtent[0]);                                   // 9133
    }                                                                                                                  // 9134
    function redrawY(g) {                                                                                              // 9135
      g.select(".extent").attr("y", yExtent[0]);                                                                       // 9136
      g.selectAll(".extent,.e>rect,.w>rect").attr("height", yExtent[1] - yExtent[0]);                                  // 9137
    }                                                                                                                  // 9138
    function brushstart() {                                                                                            // 9139
      var target = this, eventTarget = d3.select(d3.event.target), event_ = event.of(target, arguments), g = d3.select(target), resizing = eventTarget.datum(), resizingX = !/^(n|s)$/.test(resizing) && x, resizingY = !/^(e|w)$/.test(resizing) && y, dragging = eventTarget.classed("extent"), dragRestore = d3_event_dragSuppress(target), center, origin = d3.mouse(target), offset;
      var w = d3.select(d3_window(target)).on("keydown.brush", keydown).on("keyup.brush", keyup);                      // 9141
      if (d3.event.changedTouches) {                                                                                   // 9142
        w.on("touchmove.brush", brushmove).on("touchend.brush", brushend);                                             // 9143
      } else {                                                                                                         // 9144
        w.on("mousemove.brush", brushmove).on("mouseup.brush", brushend);                                              // 9145
      }                                                                                                                // 9146
      g.interrupt().selectAll("*").interrupt();                                                                        // 9147
      if (dragging) {                                                                                                  // 9148
        origin[0] = xExtent[0] - origin[0];                                                                            // 9149
        origin[1] = yExtent[0] - origin[1];                                                                            // 9150
      } else if (resizing) {                                                                                           // 9151
        var ex = +/w$/.test(resizing), ey = +/^n/.test(resizing);                                                      // 9152
        offset = [ xExtent[1 - ex] - origin[0], yExtent[1 - ey] - origin[1] ];                                         // 9153
        origin[0] = xExtent[ex];                                                                                       // 9154
        origin[1] = yExtent[ey];                                                                                       // 9155
      } else if (d3.event.altKey) center = origin.slice();                                                             // 9156
      g.style("pointer-events", "none").selectAll(".resize").style("display", null);                                   // 9157
      d3.select("body").style("cursor", eventTarget.style("cursor"));                                                  // 9158
      event_({                                                                                                         // 9159
        type: "brushstart"                                                                                             // 9160
      });                                                                                                              // 9161
      brushmove();                                                                                                     // 9162
      function keydown() {                                                                                             // 9163
        if (d3.event.keyCode == 32) {                                                                                  // 9164
          if (!dragging) {                                                                                             // 9165
            center = null;                                                                                             // 9166
            origin[0] -= xExtent[1];                                                                                   // 9167
            origin[1] -= yExtent[1];                                                                                   // 9168
            dragging = 2;                                                                                              // 9169
          }                                                                                                            // 9170
          d3_eventPreventDefault();                                                                                    // 9171
        }                                                                                                              // 9172
      }                                                                                                                // 9173
      function keyup() {                                                                                               // 9174
        if (d3.event.keyCode == 32 && dragging == 2) {                                                                 // 9175
          origin[0] += xExtent[1];                                                                                     // 9176
          origin[1] += yExtent[1];                                                                                     // 9177
          dragging = 0;                                                                                                // 9178
          d3_eventPreventDefault();                                                                                    // 9179
        }                                                                                                              // 9180
      }                                                                                                                // 9181
      function brushmove() {                                                                                           // 9182
        var point = d3.mouse(target), moved = false;                                                                   // 9183
        if (offset) {                                                                                                  // 9184
          point[0] += offset[0];                                                                                       // 9185
          point[1] += offset[1];                                                                                       // 9186
        }                                                                                                              // 9187
        if (!dragging) {                                                                                               // 9188
          if (d3.event.altKey) {                                                                                       // 9189
            if (!center) center = [ (xExtent[0] + xExtent[1]) / 2, (yExtent[0] + yExtent[1]) / 2 ];                    // 9190
            origin[0] = xExtent[+(point[0] < center[0])];                                                              // 9191
            origin[1] = yExtent[+(point[1] < center[1])];                                                              // 9192
          } else center = null;                                                                                        // 9193
        }                                                                                                              // 9194
        if (resizingX && move1(point, x, 0)) {                                                                         // 9195
          redrawX(g);                                                                                                  // 9196
          moved = true;                                                                                                // 9197
        }                                                                                                              // 9198
        if (resizingY && move1(point, y, 1)) {                                                                         // 9199
          redrawY(g);                                                                                                  // 9200
          moved = true;                                                                                                // 9201
        }                                                                                                              // 9202
        if (moved) {                                                                                                   // 9203
          redraw(g);                                                                                                   // 9204
          event_({                                                                                                     // 9205
            type: "brush",                                                                                             // 9206
            mode: dragging ? "move" : "resize"                                                                         // 9207
          });                                                                                                          // 9208
        }                                                                                                              // 9209
      }                                                                                                                // 9210
      function move1(point, scale, i) {                                                                                // 9211
        var range = d3_scaleRange(scale), r0 = range[0], r1 = range[1], position = origin[i], extent = i ? yExtent : xExtent, size = extent[1] - extent[0], min, max;
        if (dragging) {                                                                                                // 9213
          r0 -= position;                                                                                              // 9214
          r1 -= size + position;                                                                                       // 9215
        }                                                                                                              // 9216
        min = (i ? yClamp : xClamp) ? Math.max(r0, Math.min(r1, point[i])) : point[i];                                 // 9217
        if (dragging) {                                                                                                // 9218
          max = (min += position) + size;                                                                              // 9219
        } else {                                                                                                       // 9220
          if (center) position = Math.max(r0, Math.min(r1, 2 * center[i] - min));                                      // 9221
          if (position < min) {                                                                                        // 9222
            max = min;                                                                                                 // 9223
            min = position;                                                                                            // 9224
          } else {                                                                                                     // 9225
            max = position;                                                                                            // 9226
          }                                                                                                            // 9227
        }                                                                                                              // 9228
        if (extent[0] != min || extent[1] != max) {                                                                    // 9229
          if (i) yExtentDomain = null; else xExtentDomain = null;                                                      // 9230
          extent[0] = min;                                                                                             // 9231
          extent[1] = max;                                                                                             // 9232
          return true;                                                                                                 // 9233
        }                                                                                                              // 9234
      }                                                                                                                // 9235
      function brushend() {                                                                                            // 9236
        brushmove();                                                                                                   // 9237
        g.style("pointer-events", "all").selectAll(".resize").style("display", brush.empty() ? "none" : null);         // 9238
        d3.select("body").style("cursor", null);                                                                       // 9239
        w.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null);
        dragRestore();                                                                                                 // 9241
        event_({                                                                                                       // 9242
          type: "brushend"                                                                                             // 9243
        });                                                                                                            // 9244
      }                                                                                                                // 9245
    }                                                                                                                  // 9246
    brush.x = function(z) {                                                                                            // 9247
      if (!arguments.length) return x;                                                                                 // 9248
      x = z;                                                                                                           // 9249
      resizes = d3_svg_brushResizes[!x << 1 | !y];                                                                     // 9250
      return brush;                                                                                                    // 9251
    };                                                                                                                 // 9252
    brush.y = function(z) {                                                                                            // 9253
      if (!arguments.length) return y;                                                                                 // 9254
      y = z;                                                                                                           // 9255
      resizes = d3_svg_brushResizes[!x << 1 | !y];                                                                     // 9256
      return brush;                                                                                                    // 9257
    };                                                                                                                 // 9258
    brush.clamp = function(z) {                                                                                        // 9259
      if (!arguments.length) return x && y ? [ xClamp, yClamp ] : x ? xClamp : y ? yClamp : null;                      // 9260
      if (x && y) xClamp = !!z[0], yClamp = !!z[1]; else if (x) xClamp = !!z; else if (y) yClamp = !!z;                // 9261
      return brush;                                                                                                    // 9262
    };                                                                                                                 // 9263
    brush.extent = function(z) {                                                                                       // 9264
      var x0, x1, y0, y1, t;                                                                                           // 9265
      if (!arguments.length) {                                                                                         // 9266
        if (x) {                                                                                                       // 9267
          if (xExtentDomain) {                                                                                         // 9268
            x0 = xExtentDomain[0], x1 = xExtentDomain[1];                                                              // 9269
          } else {                                                                                                     // 9270
            x0 = xExtent[0], x1 = xExtent[1];                                                                          // 9271
            if (x.invert) x0 = x.invert(x0), x1 = x.invert(x1);                                                        // 9272
            if (x1 < x0) t = x0, x0 = x1, x1 = t;                                                                      // 9273
          }                                                                                                            // 9274
        }                                                                                                              // 9275
        if (y) {                                                                                                       // 9276
          if (yExtentDomain) {                                                                                         // 9277
            y0 = yExtentDomain[0], y1 = yExtentDomain[1];                                                              // 9278
          } else {                                                                                                     // 9279
            y0 = yExtent[0], y1 = yExtent[1];                                                                          // 9280
            if (y.invert) y0 = y.invert(y0), y1 = y.invert(y1);                                                        // 9281
            if (y1 < y0) t = y0, y0 = y1, y1 = t;                                                                      // 9282
          }                                                                                                            // 9283
        }                                                                                                              // 9284
        return x && y ? [ [ x0, y0 ], [ x1, y1 ] ] : x ? [ x0, x1 ] : y && [ y0, y1 ];                                 // 9285
      }                                                                                                                // 9286
      if (x) {                                                                                                         // 9287
        x0 = z[0], x1 = z[1];                                                                                          // 9288
        if (y) x0 = x0[0], x1 = x1[0];                                                                                 // 9289
        xExtentDomain = [ x0, x1 ];                                                                                    // 9290
        if (x.invert) x0 = x(x0), x1 = x(x1);                                                                          // 9291
        if (x1 < x0) t = x0, x0 = x1, x1 = t;                                                                          // 9292
        if (x0 != xExtent[0] || x1 != xExtent[1]) xExtent = [ x0, x1 ];                                                // 9293
      }                                                                                                                // 9294
      if (y) {                                                                                                         // 9295
        y0 = z[0], y1 = z[1];                                                                                          // 9296
        if (x) y0 = y0[1], y1 = y1[1];                                                                                 // 9297
        yExtentDomain = [ y0, y1 ];                                                                                    // 9298
        if (y.invert) y0 = y(y0), y1 = y(y1);                                                                          // 9299
        if (y1 < y0) t = y0, y0 = y1, y1 = t;                                                                          // 9300
        if (y0 != yExtent[0] || y1 != yExtent[1]) yExtent = [ y0, y1 ];                                                // 9301
      }                                                                                                                // 9302
      return brush;                                                                                                    // 9303
    };                                                                                                                 // 9304
    brush.clear = function() {                                                                                         // 9305
      if (!brush.empty()) {                                                                                            // 9306
        xExtent = [ 0, 0 ], yExtent = [ 0, 0 ];                                                                        // 9307
        xExtentDomain = yExtentDomain = null;                                                                          // 9308
      }                                                                                                                // 9309
      return brush;                                                                                                    // 9310
    };                                                                                                                 // 9311
    brush.empty = function() {                                                                                         // 9312
      return !!x && xExtent[0] == xExtent[1] || !!y && yExtent[0] == yExtent[1];                                       // 9313
    };                                                                                                                 // 9314
    return d3.rebind(brush, event, "on");                                                                              // 9315
  };                                                                                                                   // 9316
  var d3_svg_brushCursor = {                                                                                           // 9317
    n: "ns-resize",                                                                                                    // 9318
    e: "ew-resize",                                                                                                    // 9319
    s: "ns-resize",                                                                                                    // 9320
    w: "ew-resize",                                                                                                    // 9321
    nw: "nwse-resize",                                                                                                 // 9322
    ne: "nesw-resize",                                                                                                 // 9323
    se: "nwse-resize",                                                                                                 // 9324
    sw: "nesw-resize"                                                                                                  // 9325
  };                                                                                                                   // 9326
  var d3_svg_brushResizes = [ [ "n", "e", "s", "w", "nw", "ne", "se", "sw" ], [ "e", "w" ], [ "n", "s" ], [] ];        // 9327
  var d3_time_format = d3_time.format = d3_locale_enUS.timeFormat;                                                     // 9328
  var d3_time_formatUtc = d3_time_format.utc;                                                                          // 9329
  var d3_time_formatIso = d3_time_formatUtc("%Y-%m-%dT%H:%M:%S.%LZ");                                                  // 9330
  d3_time_format.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? d3_time_formatIsoNative : d3_time_formatIso;
  function d3_time_formatIsoNative(date) {                                                                             // 9332
    return date.toISOString();                                                                                         // 9333
  }                                                                                                                    // 9334
  d3_time_formatIsoNative.parse = function(string) {                                                                   // 9335
    var date = new Date(string);                                                                                       // 9336
    return isNaN(date) ? null : date;                                                                                  // 9337
  };                                                                                                                   // 9338
  d3_time_formatIsoNative.toString = d3_time_formatIso.toString;                                                       // 9339
  d3_time.second = d3_time_interval(function(date) {                                                                   // 9340
    return new d3_date(Math.floor(date / 1e3) * 1e3);                                                                  // 9341
  }, function(date, offset) {                                                                                          // 9342
    date.setTime(date.getTime() + Math.floor(offset) * 1e3);                                                           // 9343
  }, function(date) {                                                                                                  // 9344
    return date.getSeconds();                                                                                          // 9345
  });                                                                                                                  // 9346
  d3_time.seconds = d3_time.second.range;                                                                              // 9347
  d3_time.seconds.utc = d3_time.second.utc.range;                                                                      // 9348
  d3_time.minute = d3_time_interval(function(date) {                                                                   // 9349
    return new d3_date(Math.floor(date / 6e4) * 6e4);                                                                  // 9350
  }, function(date, offset) {                                                                                          // 9351
    date.setTime(date.getTime() + Math.floor(offset) * 6e4);                                                           // 9352
  }, function(date) {                                                                                                  // 9353
    return date.getMinutes();                                                                                          // 9354
  });                                                                                                                  // 9355
  d3_time.minutes = d3_time.minute.range;                                                                              // 9356
  d3_time.minutes.utc = d3_time.minute.utc.range;                                                                      // 9357
  d3_time.hour = d3_time_interval(function(date) {                                                                     // 9358
    var timezone = date.getTimezoneOffset() / 60;                                                                      // 9359
    return new d3_date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);                                        // 9360
  }, function(date, offset) {                                                                                          // 9361
    date.setTime(date.getTime() + Math.floor(offset) * 36e5);                                                          // 9362
  }, function(date) {                                                                                                  // 9363
    return date.getHours();                                                                                            // 9364
  });                                                                                                                  // 9365
  d3_time.hours = d3_time.hour.range;                                                                                  // 9366
  d3_time.hours.utc = d3_time.hour.utc.range;                                                                          // 9367
  d3_time.month = d3_time_interval(function(date) {                                                                    // 9368
    date = d3_time.day(date);                                                                                          // 9369
    date.setDate(1);                                                                                                   // 9370
    return date;                                                                                                       // 9371
  }, function(date, offset) {                                                                                          // 9372
    date.setMonth(date.getMonth() + offset);                                                                           // 9373
  }, function(date) {                                                                                                  // 9374
    return date.getMonth();                                                                                            // 9375
  });                                                                                                                  // 9376
  d3_time.months = d3_time.month.range;                                                                                // 9377
  d3_time.months.utc = d3_time.month.utc.range;                                                                        // 9378
  function d3_time_scale(linear, methods, format) {                                                                    // 9379
    function scale(x) {                                                                                                // 9380
      return linear(x);                                                                                                // 9381
    }                                                                                                                  // 9382
    scale.invert = function(x) {                                                                                       // 9383
      return d3_time_scaleDate(linear.invert(x));                                                                      // 9384
    };                                                                                                                 // 9385
    scale.domain = function(x) {                                                                                       // 9386
      if (!arguments.length) return linear.domain().map(d3_time_scaleDate);                                            // 9387
      linear.domain(x);                                                                                                // 9388
      return scale;                                                                                                    // 9389
    };                                                                                                                 // 9390
    function tickMethod(extent, count) {                                                                               // 9391
      var span = extent[1] - extent[0], target = span / count, i = d3.bisect(d3_time_scaleSteps, target);              // 9392
      return i == d3_time_scaleSteps.length ? [ methods.year, d3_scale_linearTickRange(extent.map(function(d) {        // 9393
        return d / 31536e6;                                                                                            // 9394
      }), count)[2] ] : !i ? [ d3_time_scaleMilliseconds, d3_scale_linearTickRange(extent, count)[2] ] : methods[target / d3_time_scaleSteps[i - 1] < d3_time_scaleSteps[i] / target ? i - 1 : i];
    }                                                                                                                  // 9396
    scale.nice = function(interval, skip) {                                                                            // 9397
      var domain = scale.domain(), extent = d3_scaleExtent(domain), method = interval == null ? tickMethod(extent, 10) : typeof interval === "number" && tickMethod(extent, interval);
      if (method) interval = method[0], skip = method[1];                                                              // 9399
      function skipped(date) {                                                                                         // 9400
        return !isNaN(date) && !interval.range(date, d3_time_scaleDate(+date + 1), skip).length;                       // 9401
      }                                                                                                                // 9402
      return scale.domain(d3_scale_nice(domain, skip > 1 ? {                                                           // 9403
        floor: function(date) {                                                                                        // 9404
          while (skipped(date = interval.floor(date))) date = d3_time_scaleDate(date - 1);                             // 9405
          return date;                                                                                                 // 9406
        },                                                                                                             // 9407
        ceil: function(date) {                                                                                         // 9408
          while (skipped(date = interval.ceil(date))) date = d3_time_scaleDate(+date + 1);                             // 9409
          return date;                                                                                                 // 9410
        }                                                                                                              // 9411
      } : interval));                                                                                                  // 9412
    };                                                                                                                 // 9413
    scale.ticks = function(interval, skip) {                                                                           // 9414
      var extent = d3_scaleExtent(scale.domain()), method = interval == null ? tickMethod(extent, 10) : typeof interval === "number" ? tickMethod(extent, interval) : !interval.range && [ {
        range: interval                                                                                                // 9416
      }, skip ];                                                                                                       // 9417
      if (method) interval = method[0], skip = method[1];                                                              // 9418
      return interval.range(extent[0], d3_time_scaleDate(+extent[1] + 1), skip < 1 ? 1 : skip);                        // 9419
    };                                                                                                                 // 9420
    scale.tickFormat = function() {                                                                                    // 9421
      return format;                                                                                                   // 9422
    };                                                                                                                 // 9423
    scale.copy = function() {                                                                                          // 9424
      return d3_time_scale(linear.copy(), methods, format);                                                            // 9425
    };                                                                                                                 // 9426
    return d3_scale_linearRebind(scale, linear);                                                                       // 9427
  }                                                                                                                    // 9428
  function d3_time_scaleDate(t) {                                                                                      // 9429
    return new Date(t);                                                                                                // 9430
  }                                                                                                                    // 9431
  var d3_time_scaleSteps = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ];
  var d3_time_scaleLocalMethods = [ [ d3_time.second, 1 ], [ d3_time.second, 5 ], [ d3_time.second, 15 ], [ d3_time.second, 30 ], [ d3_time.minute, 1 ], [ d3_time.minute, 5 ], [ d3_time.minute, 15 ], [ d3_time.minute, 30 ], [ d3_time.hour, 1 ], [ d3_time.hour, 3 ], [ d3_time.hour, 6 ], [ d3_time.hour, 12 ], [ d3_time.day, 1 ], [ d3_time.day, 2 ], [ d3_time.week, 1 ], [ d3_time.month, 1 ], [ d3_time.month, 3 ], [ d3_time.year, 1 ] ];
  var d3_time_scaleLocalFormat = d3_time_format.multi([ [ ".%L", function(d) {                                         // 9434
    return d.getMilliseconds();                                                                                        // 9435
  } ], [ ":%S", function(d) {                                                                                          // 9436
    return d.getSeconds();                                                                                             // 9437
  } ], [ "%I:%M", function(d) {                                                                                        // 9438
    return d.getMinutes();                                                                                             // 9439
  } ], [ "%I %p", function(d) {                                                                                        // 9440
    return d.getHours();                                                                                               // 9441
  } ], [ "%a %d", function(d) {                                                                                        // 9442
    return d.getDay() && d.getDate() != 1;                                                                             // 9443
  } ], [ "%b %d", function(d) {                                                                                        // 9444
    return d.getDate() != 1;                                                                                           // 9445
  } ], [ "%B", function(d) {                                                                                           // 9446
    return d.getMonth();                                                                                               // 9447
  } ], [ "%Y", d3_true ] ]);                                                                                           // 9448
  var d3_time_scaleMilliseconds = {                                                                                    // 9449
    range: function(start, stop, step) {                                                                               // 9450
      return d3.range(Math.ceil(start / step) * step, +stop, step).map(d3_time_scaleDate);                             // 9451
    },                                                                                                                 // 9452
    floor: d3_identity,                                                                                                // 9453
    ceil: d3_identity                                                                                                  // 9454
  };                                                                                                                   // 9455
  d3_time_scaleLocalMethods.year = d3_time.year;                                                                       // 9456
  d3_time.scale = function() {                                                                                         // 9457
    return d3_time_scale(d3.scale.linear(), d3_time_scaleLocalMethods, d3_time_scaleLocalFormat);                      // 9458
  };                                                                                                                   // 9459
  var d3_time_scaleUtcMethods = d3_time_scaleLocalMethods.map(function(m) {                                            // 9460
    return [ m[0].utc, m[1] ];                                                                                         // 9461
  });                                                                                                                  // 9462
  var d3_time_scaleUtcFormat = d3_time_formatUtc.multi([ [ ".%L", function(d) {                                        // 9463
    return d.getUTCMilliseconds();                                                                                     // 9464
  } ], [ ":%S", function(d) {                                                                                          // 9465
    return d.getUTCSeconds();                                                                                          // 9466
  } ], [ "%I:%M", function(d) {                                                                                        // 9467
    return d.getUTCMinutes();                                                                                          // 9468
  } ], [ "%I %p", function(d) {                                                                                        // 9469
    return d.getUTCHours();                                                                                            // 9470
  } ], [ "%a %d", function(d) {                                                                                        // 9471
    return d.getUTCDay() && d.getUTCDate() != 1;                                                                       // 9472
  } ], [ "%b %d", function(d) {                                                                                        // 9473
    return d.getUTCDate() != 1;                                                                                        // 9474
  } ], [ "%B", function(d) {                                                                                           // 9475
    return d.getUTCMonth();                                                                                            // 9476
  } ], [ "%Y", d3_true ] ]);                                                                                           // 9477
  d3_time_scaleUtcMethods.year = d3_time.year.utc;                                                                     // 9478
  d3_time.scale.utc = function() {                                                                                     // 9479
    return d3_time_scale(d3.scale.linear(), d3_time_scaleUtcMethods, d3_time_scaleUtcFormat);                          // 9480
  };                                                                                                                   // 9481
  d3.text = d3_xhrType(function(request) {                                                                             // 9482
    return request.responseText;                                                                                       // 9483
  });                                                                                                                  // 9484
  d3.json = function(url, callback) {                                                                                  // 9485
    return d3_xhr(url, "application/json", d3_json, callback);                                                         // 9486
  };                                                                                                                   // 9487
  function d3_json(request) {                                                                                          // 9488
    return JSON.parse(request.responseText);                                                                           // 9489
  }                                                                                                                    // 9490
  d3.html = function(url, callback) {                                                                                  // 9491
    return d3_xhr(url, "text/html", d3_html, callback);                                                                // 9492
  };                                                                                                                   // 9493
  function d3_html(request) {                                                                                          // 9494
    var range = d3_document.createRange();                                                                             // 9495
    range.selectNode(d3_document.body);                                                                                // 9496
    return range.createContextualFragment(request.responseText);                                                       // 9497
  }                                                                                                                    // 9498
  d3.xml = d3_xhrType(function(request) {                                                                              // 9499
    return request.responseXML;                                                                                        // 9500
  });                                                                                                                  // 9501
  if (typeof define === "function" && define.amd) define(d3); else if (typeof module === "object" && module.exports) module.exports = d3;
  this.d3 = d3;                                                                                                        // 9503
}();                                                                                                                   // 9504
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}).call(this);


/* Exports */
if (typeof Package === 'undefined') Package = {};
Package['d3js:d3'] = {};

})();
